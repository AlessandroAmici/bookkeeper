2020-08-10 23:41:23,168 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestDelayEnsembleChange
2020-08-10 23:41:23,624 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:23,814 - INFO  - [Time-limited test:MetadataDrivers@105] - BookKeeper metadata driver manager initialized
2020-08-10 23:41:23,821 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:23,842 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:23,962 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:41:24,007 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:41:24,008 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:41:24,014 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:41:24,079 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:24,297 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10254909394433089129test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10254909394433089129test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:24,508 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:24,529 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:24,547 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:24,583 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10254909394433089129test/current] [/tmp/bookie10254909394433089129test/current]
2020-08-10 23:41:24,774 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:24,797 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10254909394433089129test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:24,798 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:24,830 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:24,839 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:24,846 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:24,853 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:24,853 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:24,895 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33835 to become writable
2020-08-10 23:41:24,903 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 2 ms.
2020-08-10 23:41:24,906 - INFO  - [SyncThread-13-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:24,911 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:24,913 - INFO  - [BookieJournal-33835:Journal@909] - Starting journal on /tmp/bookie10254909394433089129test/current
2020-08-10 23:41:24,929 - INFO  - [BookieJournal-33835:JournalChannel@157] - Opening journal /tmp/bookie10254909394433089129test/current/173da522b3e.txn
2020-08-10 23:41:24,931 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:24,973 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33835
2020-08-10 23:41:25,221 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33835' has been created.
2020-08-10 23:41:25,224 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:25,225 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11025510808991826463test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11025510808991826463test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:25,230 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:25,244 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:25,250 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:25,269 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11025510808991826463test/current] [/tmp/bookie11025510808991826463test/current]
2020-08-10 23:41:25,281 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:25,284 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11025510808991826463test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:25,285 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:25,286 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:25,286 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:25,288 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:25,289 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:25,289 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:25,312 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33305 to become writable
2020-08-10 23:41:25,313 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:25,315 - INFO  - [SyncThread-23-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:25,319 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:25,320 - INFO  - [BookieJournal-33305:Journal@909] - Starting journal on /tmp/bookie11025510808991826463test/current
2020-08-10 23:41:25,321 - INFO  - [BookieJournal-33305:JournalChannel@157] - Opening journal /tmp/bookie11025510808991826463test/current/173da522cca.txn
2020-08-10 23:41:25,322 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:25,333 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33305
2020-08-10 23:41:25,582 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33305' has been created.
2020-08-10 23:41:25,585 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:25,586 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3826562352864012777test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3826562352864012777test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:25,593 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:25,625 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:25,633 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:25,643 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3826562352864012777test/current] [/tmp/bookie3826562352864012777test/current]
2020-08-10 23:41:25,658 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:25,660 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3826562352864012777test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:25,661 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:25,662 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:25,663 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:25,665 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:25,666 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:25,666 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:25,690 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37751 to become writable
2020-08-10 23:41:25,693 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:25,695 - INFO  - [SyncThread-33-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:25,700 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:25,702 - INFO  - [BookieJournal-37751:Journal@909] - Starting journal on /tmp/bookie3826562352864012777test/current
2020-08-10 23:41:25,705 - INFO  - [BookieJournal-37751:JournalChannel@157] - Opening journal /tmp/bookie3826562352864012777test/current/173da522e4a.txn
2020-08-10 23:41:25,705 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:25,717 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37751
2020-08-10 23:41:25,968 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37751' has been created.
2020-08-10 23:41:25,971 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:25,972 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12565487120137915761test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12565487120137915761test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:25,978 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:25,987 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:25,993 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:26,003 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12565487120137915761test/current] [/tmp/bookie12565487120137915761test/current]
2020-08-10 23:41:26,013 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:26,015 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12565487120137915761test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:26,016 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:26,016 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:26,017 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:26,019 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:26,019 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:26,020 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:26,044 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40089 to become writable
2020-08-10 23:41:26,045 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:26,047 - INFO  - [SyncThread-43-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:26,050 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:26,057 - INFO  - [BookieJournal-40089:Journal@909] - Starting journal on /tmp/bookie12565487120137915761test/current
2020-08-10 23:41:26,058 - INFO  - [BookieJournal-40089:JournalChannel@157] - Opening journal /tmp/bookie12565487120137915761test/current/173da522fab.txn
2020-08-10 23:41:26,058 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:26,071 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40089
2020-08-10 23:41:26,321 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40089' has been created.
2020-08-10 23:41:26,323 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:26,324 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18378445036469574637test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18378445036469574637test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:26,331 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:26,337 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:26,344 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:26,354 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18378445036469574637test/current] [/tmp/bookie18378445036469574637test/current]
2020-08-10 23:41:26,366 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:26,368 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18378445036469574637test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:26,369 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:26,370 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:26,371 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:26,373 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:26,373 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:26,373 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:26,393 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44367 to become writable
2020-08-10 23:41:26,395 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:26,397 - INFO  - [SyncThread-53-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:26,401 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:26,404 - INFO  - [BookieJournal-44367:Journal@909] - Starting journal on /tmp/bookie18378445036469574637test/current
2020-08-10 23:41:26,405 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:26,405 - INFO  - [BookieJournal-44367:JournalChannel@157] - Opening journal /tmp/bookie18378445036469574637test/current/173da523106.txn
2020-08-10 23:41:26,416 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44367
2020-08-10 23:41:26,669 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44367' has been created.
2020-08-10 23:41:26,672 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testEnsembleChangeWithMoreBookieFailures @ metadata service zk://localhost:41171/ledgers in 3461 ms.
2020-08-10 23:41:26,673 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:26,674 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12593235102284758885test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12593235102284758885test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:26,678 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:26,684 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:26,693 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:26,705 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12593235102284758885test/current] [/tmp/bookie12593235102284758885test/current]
2020-08-10 23:41:26,719 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:26,721 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12593235102284758885test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:26,721 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:26,722 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:26,722 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:26,724 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:26,724 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:26,724 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:26,751 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40377 to become writable
2020-08-10 23:41:26,751 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:26,753 - INFO  - [SyncThread-63-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:26,757 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:26,760 - INFO  - [BookieJournal-40377:Journal@909] - Starting journal on /tmp/bookie12593235102284758885test/current
2020-08-10 23:41:26,764 - INFO  - [BookieJournal-40377:JournalChannel@157] - Opening journal /tmp/bookie12593235102284758885test/current/173da52326d.txn
2020-08-10 23:41:26,765 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:26,781 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40377
2020-08-10 23:41:27,033 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40377' has been created.
2020-08-10 23:41:27,036 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:27,036 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7765542187555273930test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7765542187555273930test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:27,041 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:27,049 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:27,057 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:27,075 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7765542187555273930test/current] [/tmp/bookie7765542187555273930test/current]
2020-08-10 23:41:27,085 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:27,087 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7765542187555273930test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:27,087 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:27,088 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:27,088 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:27,090 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:27,090 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:27,090 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:27,110 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41691 to become writable
2020-08-10 23:41:27,111 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:27,113 - INFO  - [SyncThread-73-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:27,117 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:27,120 - INFO  - [BookieJournal-41691:Journal@909] - Starting journal on /tmp/bookie7765542187555273930test/current
2020-08-10 23:41:27,124 - INFO  - [BookieJournal-41691:JournalChannel@157] - Opening journal /tmp/bookie7765542187555273930test/current/173da5233d5.txn
2020-08-10 23:41:27,125 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:27,133 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41691
2020-08-10 23:41:27,389 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41691' has been created.
2020-08-10 23:41:27,391 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:27,392 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12160484856383539078test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12160484856383539078test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:27,397 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:27,403 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:27,418 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:27,431 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12160484856383539078test/current] [/tmp/bookie12160484856383539078test/current]
2020-08-10 23:41:27,441 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:27,447 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12160484856383539078test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:27,447 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:27,448 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:27,448 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:27,450 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:27,450 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:27,450 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:27,465 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38051 to become writable
2020-08-10 23:41:27,466 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:27,467 - INFO  - [SyncThread-83-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:27,471 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:27,475 - INFO  - [BookieJournal-38051:Journal@909] - Starting journal on /tmp/bookie12160484856383539078test/current
2020-08-10 23:41:27,481 - INFO  - [BookieJournal-38051:JournalChannel@157] - Opening journal /tmp/bookie12160484856383539078test/current/173da52353a.txn
2020-08-10 23:41:27,481 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:27,499 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38051
2020-08-10 23:41:27,749 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38051' has been created.
2020-08-10 23:41:27,751 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:27,752 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8141401863031145307test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8141401863031145307test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:27,757 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:27,765 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:27,776 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:27,784 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8141401863031145307test/current] [/tmp/bookie8141401863031145307test/current]
2020-08-10 23:41:27,799 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:27,801 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8141401863031145307test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:27,802 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:27,802 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:27,803 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:27,805 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:27,805 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:27,805 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:27,824 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43485 to become writable
2020-08-10 23:41:27,825 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:27,826 - INFO  - [SyncThread-93-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:27,830 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:27,833 - INFO  - [BookieJournal-43485:Journal@909] - Starting journal on /tmp/bookie8141401863031145307test/current
2020-08-10 23:41:27,833 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:27,833 - INFO  - [BookieJournal-43485:JournalChannel@157] - Opening journal /tmp/bookie8141401863031145307test/current/173da52369a.txn
2020-08-10 23:41:27,842 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43485
2020-08-10 23:41:28,094 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43485' has been created.
2020-08-10 23:41:28,098 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:28,098 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16041033062048182593test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16041033062048182593test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:28,103 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:28,109 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:28,114 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:28,131 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16041033062048182593test/current] [/tmp/bookie16041033062048182593test/current]
2020-08-10 23:41:28,141 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:28,145 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16041033062048182593test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:28,145 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:28,146 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:28,146 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:28,148 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:28,148 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:28,148 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:28,161 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40489 to become writable
2020-08-10 23:41:28,162 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:28,163 - INFO  - [SyncThread-103-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:28,168 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:28,170 - INFO  - [BookieJournal-40489:Journal@909] - Starting journal on /tmp/bookie16041033062048182593test/current
2020-08-10 23:41:28,170 - INFO  - [BookieJournal-40489:JournalChannel@157] - Opening journal /tmp/bookie16041033062048182593test/current/173da5237eb.txn
2020-08-10 23:41:28,172 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:28,180 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40489
2020-08-10 23:41:28,429 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40489' has been created.
2020-08-10 23:41:28,446 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:41691, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33835, 127.0.0.1:40489] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:41:28,514 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:41691, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33835, 127.0.0.1:40489] for ledger: 0
2020-08-10 23:41:28,514 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 0
2020-08-10 23:41:28,638 - INFO  - [bookie-io-8-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:28,639 - INFO  - [bookie-io-98-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:28,640 - INFO  - [bookie-io-48-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:28,646 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xa335d6dc, L:/127.0.0.1:57780 - R:127.0.0.1/127.0.0.1:41691]
2020-08-10 23:41:28,648 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41691
2020-08-10 23:41:28,647 - INFO  - [bookie-io-98-2:BookieRequestHandler@50] - Channel connected  [id: 0x726b512c, L:/127.0.0.1:40489 - R:/127.0.0.1:36894]
2020-08-10 23:41:28,648 - INFO  - [bookie-io-68-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:28,647 - INFO  - [bookie-io-8-2:BookieRequestHandler@50] - Channel connected  [id: 0x6a96791c, L:/127.0.0.1:33835 - R:/127.0.0.1:55278]
2020-08-10 23:41:28,648 - INFO  - [bookie-io-38-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:28,647 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xbc173da8, L:/127.0.0.1:36894 - R:127.0.0.1/127.0.0.1:40489]
2020-08-10 23:41:28,653 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40489
2020-08-10 23:41:28,647 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x75feceba, L:/127.0.0.1:35464 - R:127.0.0.1/127.0.0.1:40089]
2020-08-10 23:41:28,653 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40089
2020-08-10 23:41:28,647 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xcf8245d9, L:/127.0.0.1:55278 - R:127.0.0.1/127.0.0.1:33835]
2020-08-10 23:41:28,653 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33835
2020-08-10 23:41:28,646 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x454ee50a, L:/127.0.0.1:58458 - R:127.0.0.1/127.0.0.1:44367]
2020-08-10 23:41:28,654 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:44367
2020-08-10 23:41:28,647 - INFO  - [bookie-io-48-2:BookieRequestHandler@50] - Channel connected  [id: 0xac9478bb, L:/127.0.0.1:44367 - R:/127.0.0.1:58458]
2020-08-10 23:41:28,653 - INFO  - [bookie-io-38-2:BookieRequestHandler@50] - Channel connected  [id: 0xbc3e1145, L:/127.0.0.1:40089 - R:/127.0.0.1:35464]
2020-08-10 23:41:28,649 - INFO  - [bookie-io-68-2:BookieRequestHandler@50] - Channel connected  [id: 0x4a99f91f, L:/127.0.0.1:41691 - R:/127.0.0.1:57780]
2020-08-10 23:41:28,697 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$1@471] - connection [id: 0x454ee50a, L:/127.0.0.1:58458 - R:127.0.0.1/127.0.0.1:44367] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:28,698 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$1@471] - connection [id: 0xa335d6dc, L:/127.0.0.1:57780 - R:127.0.0.1/127.0.0.1:41691] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:28,698 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$1@471] - connection [id: 0x75feceba, L:/127.0.0.1:35464 - R:127.0.0.1/127.0.0.1:40089] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:28,698 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$1@471] - connection [id: 0xcf8245d9, L:/127.0.0.1:55278 - R:127.0.0.1/127.0.0.1:33835] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:28,698 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient$1@471] - connection [id: 0xbc173da8, L:/127.0.0.1:36894 - R:127.0.0.1/127.0.0.1:40489] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:28,775 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 1
2020-08-10 23:41:28,790 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 2
2020-08-10 23:41:28,802 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 3
2020-08-10 23:41:28,812 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 4
2020-08-10 23:41:28,819 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 5
2020-08-10 23:41:28,828 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 6
2020-08-10 23:41:28,842 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 7
2020-08-10 23:41:28,853 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 8
2020-08-10 23:41:28,862 - INFO  - [Time-limited test:TestDelayEnsembleChange@355] - Add entry 9
2020-08-10 23:41:28,873 - INFO  - [Time-limited test:TestDelayEnsembleChange@359] - Killed 5 bookies and add 10 more entries : LedgerMetadata{formatVersion=3, ensembleSize=5, writeQuorumSize=5, ackQuorumSize=3, state=OPEN, digestType=CRC32, password=base64:, ensembles={0=[127.0.0.1:41691, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33835, 127.0.0.1:40489]}, customMetadata={}}
2020-08-10 23:41:28,881 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:28,882 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:28,885 - WARN  - [bookkeeper-io-3-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0xa335d6dc, L:/127.0.0.1:57780 - R:127.0.0.1/127.0.0.1:41691] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:28,885 - INFO  - [bookie-io-68-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x4a99f91f, L:/127.0.0.1:41691 ! R:/127.0.0.1:57780]
2020-08-10 23:41:28,886 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xa335d6dc, L:/127.0.0.1:57780 ! R:127.0.0.1/127.0.0.1:41691]
2020-08-10 23:41:28,915 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41691 with exitCode 0
2020-08-10 23:41:28,915 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:28,916 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:28,917 - INFO  - [SyncThread-73-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:28,922 - INFO  - [SyncThread-73-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7765542187555273930test/current/0.log for logId 0.
2020-08-10 23:41:28,929 - INFO  - [pool-51-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7765542187555273930test/current/1.log for logId 1.
2020-08-10 23:41:28,938 - INFO  - [SyncThread-73-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095687125 , logFileOffset - 6144]}.
2020-08-10 23:41:28,942 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:28,943 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:28,944 - INFO  - [BookieJournal-41691:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:28,945 - INFO  - [BookieJournal-41691:Journal@1144] - Journal exited loop!
2020-08-10 23:41:28,946 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:28,946 - INFO  - [Bookie-41691:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:28,947 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:28,947 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:28,947 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:28,948 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:28,948 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:28,952 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:28,963 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:28,964 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:28,974 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41691
2020-08-10 23:41:29,094 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,094 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,095 - WARN  - [bookkeeper-io-3-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x454ee50a, L:/127.0.0.1:58458 - R:127.0.0.1/127.0.0.1:44367] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:29,095 - INFO  - [bookie-io-48-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xac9478bb, L:/127.0.0.1:44367 ! R:/127.0.0.1:58458]
2020-08-10 23:41:29,095 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x454ee50a, L:/127.0.0.1:58458 ! R:127.0.0.1/127.0.0.1:44367]
2020-08-10 23:41:29,117 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44367 with exitCode 0
2020-08-10 23:41:29,117 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:29,117 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:29,118 - INFO  - [SyncThread-53-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:29,120 - INFO  - [SyncThread-53-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie18378445036469574637test/current/0.log for logId 0.
2020-08-10 23:41:29,124 - INFO  - [pool-37-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie18378445036469574637test/current/1.log for logId 1.
2020-08-10 23:41:29,131 - INFO  - [SyncThread-53-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686406 , logFileOffset - 6144]}.
2020-08-10 23:41:29,132 - INFO  - [BookieDeathWatcher-41691:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:29,134 - INFO  - [BookieDeathWatcher-41691:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41691
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:29,137 - INFO  - [BookieDeathWatcher-41691:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,137 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:29,138 - INFO  - [BookieDeathWatcher-41691:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,139 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:29,139 - INFO  - [BookieJournal-44367:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:29,139 - INFO  - [BookieJournal-44367:Journal@1144] - Journal exited loop!
2020-08-10 23:41:29,141 - INFO  - [Bookie-44367:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:29,141 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:29,142 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:29,142 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:29,142 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:29,142 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:29,142 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:29,148 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:29,152 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:29,153 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:29,160 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:44367
2020-08-10 23:41:29,277 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,277 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,278 - WARN  - [bookkeeper-io-3-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x75feceba, L:/127.0.0.1:35464 - R:127.0.0.1/127.0.0.1:40089] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:29,278 - INFO  - [bookie-io-38-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xbc3e1145, L:/127.0.0.1:40089 ! R:/127.0.0.1:35464]
2020-08-10 23:41:29,278 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x75feceba, L:/127.0.0.1:35464 ! R:127.0.0.1/127.0.0.1:40089]
2020-08-10 23:41:29,294 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40089 with exitCode 0
2020-08-10 23:41:29,294 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:29,294 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:29,295 - INFO  - [SyncThread-43-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:29,297 - INFO  - [SyncThread-43-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12565487120137915761test/current/0.log for logId 0.
2020-08-10 23:41:29,300 - INFO  - [pool-30-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12565487120137915761test/current/1.log for logId 1.
2020-08-10 23:41:29,307 - INFO  - [SyncThread-43-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686059 , logFileOffset - 5632]}.
2020-08-10 23:41:29,311 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:29,311 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:29,312 - INFO  - [BookieJournal-40089:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:29,312 - INFO  - [BookieJournal-40089:Journal@1144] - Journal exited loop!
2020-08-10 23:41:29,313 - INFO  - [Bookie-40089:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:29,313 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:29,314 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:29,314 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:29,314 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:29,314 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:29,315 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:29,318 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:29,321 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:29,323 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:29,338 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40089
2020-08-10 23:41:29,421 - INFO  - [BookieDeathWatcher-44367:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:29,421 - INFO  - [BookieDeathWatcher-44367:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44367
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:29,421 - INFO  - [BookieDeathWatcher-44367:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,421 - INFO  - [BookieDeathWatcher-44367:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,447 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,448 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,448 - INFO  - [bookie-io-8-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x6a96791c, L:/127.0.0.1:33835 ! R:/127.0.0.1:55278]
2020-08-10 23:41:29,448 - WARN  - [bookkeeper-io-3-4:PerChannelBookieClient@1270] - Exception caught on:[id: 0xcf8245d9, L:/127.0.0.1:55278 - R:127.0.0.1/127.0.0.1:33835] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:29,449 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xcf8245d9, L:/127.0.0.1:55278 ! R:127.0.0.1/127.0.0.1:33835]
2020-08-10 23:41:29,780 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33835 with exitCode 0
2020-08-10 23:41:29,781 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:29,781 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:29,782 - INFO  - [SyncThread-13-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:29,784 - INFO  - [SyncThread-13-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10254909394433089129test/current/0.log for logId 0.
2020-08-10 23:41:29,791 - INFO  - [pool-9-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10254909394433089129test/current/1.log for logId 1.
2020-08-10 23:41:29,810 - INFO  - [SyncThread-13-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095684926 , logFileOffset - 5632]}.
2020-08-10 23:41:29,813 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:29,814 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:29,815 - INFO  - [BookieJournal-33835:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:29,816 - INFO  - [BookieJournal-33835:Journal@1144] - Journal exited loop!
2020-08-10 23:41:29,816 - INFO  - [Bookie-33835:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:29,817 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:29,817 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:29,817 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:29,817 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:29,818 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:29,818 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:29,822 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:29,826 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:29,826 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:29,936 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33835
2020-08-10 23:41:29,946 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,946 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,947 - WARN  - [bookkeeper-io-3-5:PerChannelBookieClient@1270] - Exception caught on:[id: 0xbc173da8, L:/127.0.0.1:36894 - R:127.0.0.1/127.0.0.1:40489] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:29,947 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xbc173da8, L:/127.0.0.1:36894 ! R:127.0.0.1/127.0.0.1:40489]
2020-08-10 23:41:29,948 - INFO  - [bookie-io-98-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x726b512c, L:/127.0.0.1:40489 ! R:/127.0.0.1:36894]
2020-08-10 23:41:29,964 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40489 with exitCode 0
2020-08-10 23:41:29,964 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:29,965 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:29,965 - INFO  - [SyncThread-103-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:29,968 - INFO  - [SyncThread-103-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16041033062048182593test/current/0.log for logId 0.
2020-08-10 23:41:29,974 - INFO  - [BookieDeathWatcher-33835:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:29,974 - INFO  - [BookieDeathWatcher-33835:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33835
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:29,974 - INFO  - [BookieDeathWatcher-33835:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:29,974 - INFO  - [BookieDeathWatcher-33835:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:29,974 - INFO  - [pool-72-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16041033062048182593test/current/1.log for logId 1.
2020-08-10 23:41:29,987 - INFO  - [SyncThread-103-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095688171 , logFileOffset - 6144]}.
2020-08-10 23:41:29,990 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:29,991 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:29,991 - INFO  - [BookieJournal-40489:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:29,992 - INFO  - [BookieJournal-40489:Journal@1144] - Journal exited loop!
2020-08-10 23:41:29,993 - INFO  - [Bookie-40489:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:29,993 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:29,994 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:29,994 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:29,994 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:29,995 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:29,995 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:29,998 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:30,001 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:30,001 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:30,073 - INFO  - [BookieDeathWatcher-40089:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:30,074 - INFO  - [BookieDeathWatcher-40089:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40089
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:30,074 - INFO  - [BookieDeathWatcher-40089:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:30,074 - INFO  - [BookieDeathWatcher-40089:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:30,113 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40489
2020-08-10 23:41:30,115 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 10
2020-08-10 23:41:30,119 - ERROR - [bookkeeper-io-3-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x4d41dec8, L:/127.0.0.1:57782]/127.0.0.1:41691, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41691
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:30,125 - ERROR - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x938e0582, L:/127.0.0.1:55288]/127.0.0.1:33835, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33835
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:30,125 - ERROR - [bookkeeper-io-3-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x16169287, L:/127.0.0.1:58472]/127.0.0.1:44367, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:44367
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:30,125 - ERROR - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x64678a84, L:/127.0.0.1:36910]/127.0.0.1:40489, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40489
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:30,133 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 10) to bookies {0=127.0.0.1:41691, 3=127.0.0.1:33835, 4=127.0.0.1:40489}, handling failures.
2020-08-10 23:41:30,137 - ERROR - [bookkeeper-io-3-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xef30a659, L:/127.0.0.1:35470]/127.0.0.1:40089, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40089
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:30,145 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:44367
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,148 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:40089
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,149 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:33835
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,150 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:40489
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,151 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:41691 in ensemble: [127.0.0.1:41691, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33835, 127.0.0.1:40489] is not adhering to placement policy and chose 127.0.0.1:37751. excludedBookies [127.0.0.1:33835, 127.0.0.1:41691, 127.0.0.1:40489] and quarantinedBookies []
2020-08-10 23:41:30,151 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:44367
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,153 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:40089
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,153 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:40489
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,154 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:33835 in ensemble: [127.0.0.1:37751, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33835, 127.0.0.1:40489] is not adhering to placement policy and chose 127.0.0.1:33305. excludedBookies [127.0.0.1:33835, 127.0.0.1:41691, 127.0.0.1:40489] and quarantinedBookies []
2020-08-10 23:41:30,155 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:44367
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,157 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:40089
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,157 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:40489 in ensemble: [127.0.0.1:37751, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33305, 127.0.0.1:40489] is not adhering to placement policy and chose 127.0.0.1:38051. excludedBookies [127.0.0.1:33835, 127.0.0.1:41691, 127.0.0.1:40489] and quarantinedBookies []
2020-08-10 23:41:30,163 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 10) to bookies {0=127.0.0.1:41691, 1=127.0.0.1:44367, 3=127.0.0.1:33835, 4=127.0.0.1:40489}, handling failures.
2020-08-10 23:41:30,164 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 10) to bookies {0=127.0.0.1:41691, 1=127.0.0.1:44367, 2=127.0.0.1:40089, 3=127.0.0.1:33835, 4=127.0.0.1:40489}, handling failures.
2020-08-10 23:41:30,167 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:40089
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$3(LedgerHandle.java:1974)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:478)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:30,168 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:44367 in ensemble: [127.0.0.1:37751, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33305, 127.0.0.1:38051] is not adhering to placement policy and chose 127.0.0.1:40377. excludedBookies [127.0.0.1:33835, 127.0.0.1:41691, 127.0.0.1:40089, 127.0.0.1:40489, 127.0.0.1:44367] and quarantinedBookies []
2020-08-10 23:41:30,169 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:40089 in ensemble: [127.0.0.1:37751, 127.0.0.1:40377, 127.0.0.1:40089, 127.0.0.1:33305, 127.0.0.1:38051] is not adhering to placement policy and chose 127.0.0.1:43485. excludedBookies [127.0.0.1:33835, 127.0.0.1:41691, 127.0.0.1:40089, 127.0.0.1:40489, 127.0.0.1:44367] and quarantinedBookies []
2020-08-10 23:41:30,173 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1978] - New Ensemble: [127.0.0.1:37751, 127.0.0.1:40377, 127.0.0.1:43485, 127.0.0.1:33305, 127.0.0.1:38051] for ledger: 0
2020-08-10 23:41:30,180 - INFO  - [BookieDeathWatcher-40489:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:30,180 - INFO  - [BookieDeathWatcher-40489:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40489
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:30,181 - INFO  - [BookieDeathWatcher-40489:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:30,181 - INFO  - [BookieDeathWatcher-40489:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:30,184 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xc098edf1, L:/127.0.0.1:50082 - R:127.0.0.1/127.0.0.1:37751]
2020-08-10 23:41:30,185 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37751
2020-08-10 23:41:30,185 - INFO  - [bookie-io-58-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:30,186 - INFO  - [bookie-io-58-2:BookieRequestHandler@50] - Channel connected  [id: 0x35d7b98e, L:/127.0.0.1:40377 - R:/127.0.0.1:55040]
2020-08-10 23:41:30,186 - INFO  - [bookie-io-28-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:30,186 - INFO  - [bookie-io-28-2:BookieRequestHandler@50] - Channel connected  [id: 0x0d79e135, L:/127.0.0.1:37751 - R:/127.0.0.1:50082]
2020-08-10 23:41:30,185 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$1@471] - connection [id: 0xc098edf1, L:/127.0.0.1:50082 - R:127.0.0.1/127.0.0.1:37751] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:30,191 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x0561fc1d, L:/127.0.0.1:36220 - R:127.0.0.1/127.0.0.1:43485]
2020-08-10 23:41:30,192 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:43485
2020-08-10 23:41:30,192 - INFO  - [bookie-io-88-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:30,193 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x7d9ccf50, L:/127.0.0.1:55040 - R:127.0.0.1/127.0.0.1:40377]
2020-08-10 23:41:30,193 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient$1@471] - connection [id: 0x0561fc1d, L:/127.0.0.1:36220 - R:127.0.0.1/127.0.0.1:43485] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:30,193 - INFO  - [bookie-io-88-2:BookieRequestHandler@50] - Channel connected  [id: 0xbf794052, L:/127.0.0.1:43485 - R:/127.0.0.1:36220]
2020-08-10 23:41:30,193 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40377
2020-08-10 23:41:30,195 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$1@471] - connection [id: 0x7d9ccf50, L:/127.0.0.1:55040 - R:127.0.0.1/127.0.0.1:40377] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:30,196 - INFO  - [bookkeeper-io-3-6:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8891fa5d, L:/127.0.0.1:37728 - R:127.0.0.1/127.0.0.1:33305]
2020-08-10 23:41:30,197 - INFO  - [bookkeeper-io-3-6:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33305
2020-08-10 23:41:30,204 - INFO  - [bookkeeper-io-3-6:PerChannelBookieClient$1@471] - connection [id: 0x8891fa5d, L:/127.0.0.1:37728 - R:127.0.0.1/127.0.0.1:33305] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:30,204 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xc8edaa2e, L:/127.0.0.1:53046 - R:127.0.0.1/127.0.0.1:38051]
2020-08-10 23:41:30,206 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38051
2020-08-10 23:41:30,210 - INFO  - [bookie-io-18-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:30,210 - INFO  - [bookie-io-78-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:30,211 - INFO  - [bookie-io-78-2:BookieRequestHandler@50] - Channel connected  [id: 0xd337bfe9, L:/127.0.0.1:38051 - R:/127.0.0.1:53046]
2020-08-10 23:41:30,211 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient$1@471] - connection [id: 0xc8edaa2e, L:/127.0.0.1:53046 - R:127.0.0.1/127.0.0.1:38051] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:30,211 - INFO  - [bookie-io-18-2:BookieRequestHandler@50] - Channel connected  [id: 0x1fe8c693, L:/127.0.0.1:33305 - R:/127.0.0.1:37728]
2020-08-10 23:41:30,228 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 11
2020-08-10 23:41:30,237 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 12
2020-08-10 23:41:30,245 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 13
2020-08-10 23:41:30,254 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 14
2020-08-10 23:41:30,262 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 15
2020-08-10 23:41:30,270 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 16
2020-08-10 23:41:30,279 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 17
2020-08-10 23:41:30,289 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 18
2020-08-10 23:41:30,297 - INFO  - [Time-limited test:TestDelayEnsembleChange@368] - Add entry 19
2020-08-10 23:41:30,304 - INFO  - [Time-limited test:TestDelayEnsembleChange@372] - Ledger metadata after killed bookies : LedgerMetadata{formatVersion=3, ensembleSize=5, writeQuorumSize=5, ackQuorumSize=3, state=OPEN, digestType=CRC32, password=base64:, ensembles={0=[127.0.0.1:41691, 127.0.0.1:44367, 127.0.0.1:40089, 127.0.0.1:33835, 127.0.0.1:40489], 10=[127.0.0.1:37751, 127.0.0.1:40377, 127.0.0.1:43485, 127.0.0.1:33305, 127.0.0.1:38051]}, customMetadata={}}
2020-08-10 23:41:30,305 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "41691",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7765542187555273930test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7765542187555273930test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:30,331 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:30,342 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:30,358 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:30,382 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:30,385 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:30,386 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:30,387 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:30,389 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:30,389 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:30,390 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:30,414 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41691 to become writable
2020-08-10 23:41:30,415 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095687125 from position 6144
2020-08-10 23:41:30,417 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie7765542187555273930test/current/173da5233d5.txn
2020-08-10 23:41:30,417 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 2 ms.
2020-08-10 23:41:30,418 - INFO  - [SyncThread-113-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095687125 , logFileOffset - 6148]}.
2020-08-10 23:41:30,422 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:30,425 - INFO  - [BookieJournal-41691:Journal@909] - Starting journal on /tmp/bookie7765542187555273930test/current
2020-08-10 23:41:30,426 - INFO  - [BookieJournal-41691:JournalChannel@157] - Opening journal /tmp/bookie7765542187555273930test/current/173da5233d6.txn
2020-08-10 23:41:30,427 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:30,434 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41691
2020-08-10 23:41:30,686 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41691' has been created.
2020-08-10 23:41:30,686 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "44367",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18378445036469574637test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18378445036469574637test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:30,690 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:30,699 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:30,703 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:30,717 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:30,719 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:30,719 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:30,720 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:30,721 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:30,722 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:30,722 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:30,733 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44367 to become writable
2020-08-10 23:41:30,735 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095686406 from position 6144
2020-08-10 23:41:30,735 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie18378445036469574637test/current/173da523106.txn
2020-08-10 23:41:30,735 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:30,737 - INFO  - [SyncThread-123-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686406 , logFileOffset - 6148]}.
2020-08-10 23:41:30,740 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:30,743 - INFO  - [BookieJournal-44367:Journal@909] - Starting journal on /tmp/bookie18378445036469574637test/current
2020-08-10 23:41:30,745 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:30,745 - INFO  - [BookieJournal-44367:JournalChannel@157] - Opening journal /tmp/bookie18378445036469574637test/current/173da523107.txn
2020-08-10 23:41:30,750 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44367
2020-08-10 23:41:31,000 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44367' has been created.
2020-08-10 23:41:31,000 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40089",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12565487120137915761test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12565487120137915761test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:31,005 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:31,022 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:31,028 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:31,041 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:31,043 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:31,044 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:31,045 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:31,046 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:31,046 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:31,047 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:31,069 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40089 to become writable
2020-08-10 23:41:31,070 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095686059 from position 5632
2020-08-10 23:41:31,070 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie12565487120137915761test/current/173da522fab.txn
2020-08-10 23:41:31,070 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:31,071 - INFO  - [SyncThread-133-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686059 , logFileOffset - 5636]}.
2020-08-10 23:41:31,075 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:31,077 - INFO  - [BookieJournal-40089:Journal@909] - Starting journal on /tmp/bookie12565487120137915761test/current
2020-08-10 23:41:31,077 - INFO  - [BookieJournal-40089:JournalChannel@157] - Opening journal /tmp/bookie12565487120137915761test/current/173da522fac.txn
2020-08-10 23:41:31,078 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:31,085 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40089
2020-08-10 23:41:31,334 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40089' has been created.
2020-08-10 23:41:31,335 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "33835",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10254909394433089129test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10254909394433089129test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:31,340 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:31,348 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:31,354 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:31,366 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:31,369 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:31,370 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:31,371 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:31,372 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:31,373 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:31,373 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:31,400 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33835 to become writable
2020-08-10 23:41:31,401 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095684926 from position 5632
2020-08-10 23:41:31,401 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie10254909394433089129test/current/173da522b3e.txn
2020-08-10 23:41:31,401 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:31,404 - INFO  - [SyncThread-143-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095684926 , logFileOffset - 5636]}.
2020-08-10 23:41:31,408 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:31,412 - INFO  - [BookieJournal-33835:Journal@909] - Starting journal on /tmp/bookie10254909394433089129test/current
2020-08-10 23:41:31,412 - INFO  - [BookieJournal-33835:JournalChannel@157] - Opening journal /tmp/bookie10254909394433089129test/current/173da522b3f.txn
2020-08-10 23:41:31,414 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:31,422 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33835
2020-08-10 23:41:31,424 - INFO  - [GarbageCollectorThread-114-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:31,434 - INFO  - [GarbageCollectorThread-114-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:31,438 - INFO  - [GarbageCollectorThread-114-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:31,439 - INFO  - [GarbageCollectorThread-114-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:31,676 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33835' has been created.
2020-08-10 23:41:31,677 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40489",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16041033062048182593test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41171/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16041033062048182593test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:31,685 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41171/ledgers : zkServers = localhost:41171, ledgersRootPath = /ledgers.
2020-08-10 23:41:31,694 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:31,698 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:31,715 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:31,717 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:31,718 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:31,719 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:31,720 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:31,720 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:31,721 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:31,775 - INFO  - [GarbageCollectorThread-124-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:31,776 - INFO  - [GarbageCollectorThread-124-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:31,784 - INFO  - [GarbageCollectorThread-124-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:31,784 - INFO  - [GarbageCollectorThread-124-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:31,793 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40489 to become writable
2020-08-10 23:41:31,794 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095688171 from position 6144
2020-08-10 23:41:31,795 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie16041033062048182593test/current/173da5237eb.txn
2020-08-10 23:41:31,795 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:31,796 - INFO  - [SyncThread-153-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095688171 , logFileOffset - 6148]}.
2020-08-10 23:41:31,800 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:31,801 - INFO  - [BookieJournal-40489:Journal@909] - Starting journal on /tmp/bookie16041033062048182593test/current
2020-08-10 23:41:31,804 - INFO  - [BookieJournal-40489:JournalChannel@157] - Opening journal /tmp/bookie16041033062048182593test/current/173da5237ec.txn
2020-08-10 23:41:31,805 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:31,810 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40489
2020-08-10 23:41:32,059 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40489' has been created.
2020-08-10 23:41:32,059 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 20
2020-08-10 23:41:32,068 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 21
2020-08-10 23:41:32,076 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 22
2020-08-10 23:41:32,077 - INFO  - [GarbageCollectorThread-134-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:32,077 - INFO  - [GarbageCollectorThread-134-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:32,079 - INFO  - [GarbageCollectorThread-134-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:32,080 - INFO  - [GarbageCollectorThread-134-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:32,089 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 23
2020-08-10 23:41:32,098 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 24
2020-08-10 23:41:32,108 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 25
2020-08-10 23:41:32,119 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 26
2020-08-10 23:41:32,127 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 27
2020-08-10 23:41:32,135 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 28
2020-08-10 23:41:32,141 - INFO  - [Time-limited test:TestDelayEnsembleChange@384] - Add entry 29
2020-08-10 23:41:32,155 - INFO  - [bookkeeper-io-3-8:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe0e4c39c, L:/127.0.0.1:57814 - R:127.0.0.1/127.0.0.1:41691]
2020-08-10 23:41:32,157 - INFO  - [bookkeeper-io-3-8:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41691
2020-08-10 23:41:32,158 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x087e1ff8, L:/127.0.0.1:58500 - R:127.0.0.1/127.0.0.1:44367]
2020-08-10 23:41:32,158 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:44367
2020-08-10 23:41:32,158 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$1@471] - connection null authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:32,158 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x61808bd6, L:/127.0.0.1:55322 - R:127.0.0.1/127.0.0.1:33835]
2020-08-10 23:41:32,158 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33835
2020-08-10 23:41:32,161 - INFO  - [bookkeeper-io-3-8:PerChannelBookieClient$1@471] - connection [id: 0xe0e4c39c, L:/127.0.0.1:57814 - R:127.0.0.1/127.0.0.1:41691] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:32,161 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$1@471] - connection [id: 0x087e1ff8, L:/127.0.0.1:58500 - R:127.0.0.1/127.0.0.1:44367] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:32,163 - INFO  - [bookie-io-108-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:32,163 - INFO  - [bookie-io-108-2:BookieRequestHandler@50] - Channel connected  [id: 0xf7a811b5, L:/127.0.0.1:41691 - R:/127.0.0.1:57814]
2020-08-10 23:41:32,165 - INFO  - [bookie-io-148-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:32,165 - INFO  - [bookie-io-148-2:BookieRequestHandler@50] - Channel connected  [id: 0x553354f5, L:/127.0.0.1:40489 - R:/127.0.0.1:36942]
2020-08-10 23:41:32,169 - INFO  - [bookie-io-138-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:32,169 - INFO  - [bookie-io-138-2:BookieRequestHandler@50] - Channel connected  [id: 0x72398c8a, L:/127.0.0.1:33835 - R:/127.0.0.1:55322]
2020-08-10 23:41:32,177 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x6baa8fed, L:/127.0.0.1:35504 - R:127.0.0.1/127.0.0.1:40089]
2020-08-10 23:41:32,177 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40089
2020-08-10 23:41:32,177 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe418e1d4, L:/127.0.0.1:36942 - R:127.0.0.1/127.0.0.1:40489]
2020-08-10 23:41:32,177 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40489
2020-08-10 23:41:32,177 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$1@471] - connection [id: 0x6baa8fed, L:/127.0.0.1:35504 - R:127.0.0.1/127.0.0.1:40089] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:32,178 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient$1@471] - connection [id: 0xe418e1d4, L:/127.0.0.1:36942 - R:127.0.0.1/127.0.0.1:40489] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:32,178 - INFO  - [bookie-io-128-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:32,179 - INFO  - [bookie-io-118-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:32,179 - INFO  - [bookie-io-118-2:BookieRequestHandler@50] - Channel connected  [id: 0xde498615, L:/127.0.0.1:44367 - R:/127.0.0.1:58500]
2020-08-10 23:41:32,180 - INFO  - [bookie-io-128-2:BookieRequestHandler@50] - Channel connected  [id: 0x1b346db5, L:/127.0.0.1:40089 - R:/127.0.0.1:35504]
2020-08-10 23:41:32,305 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:41:32,305 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37751
2020-08-10 23:41:32,307 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33835
2020-08-10 23:41:32,307 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xc098edf1, L:/127.0.0.1:50082 ! R:127.0.0.1/127.0.0.1:37751]
2020-08-10 23:41:32,307 - INFO  - [bookie-io-28-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x0d79e135, L:/127.0.0.1:37751 ! R:/127.0.0.1:50082]
2020-08-10 23:41:32,308 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x61808bd6, L:/127.0.0.1:55322 ! R:127.0.0.1/127.0.0.1:33835]
2020-08-10 23:41:32,308 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41691
2020-08-10 23:41:32,308 - INFO  - [bookie-io-138-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x72398c8a, L:/127.0.0.1:33835 ! R:/127.0.0.1:55322]
2020-08-10 23:41:32,309 - INFO  - [bookkeeper-io-3-8:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe0e4c39c, L:/127.0.0.1:57814 ! R:127.0.0.1/127.0.0.1:41691]
2020-08-10 23:41:32,309 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33305
2020-08-10 23:41:32,311 - INFO  - [bookie-io-108-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf7a811b5, L:/127.0.0.1:41691 ! R:/127.0.0.1:57814]
2020-08-10 23:41:32,311 - INFO  - [bookkeeper-io-3-6:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8891fa5d, L:/127.0.0.1:37728 ! R:127.0.0.1/127.0.0.1:33305]
2020-08-10 23:41:32,311 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40089
2020-08-10 23:41:32,312 - INFO  - [bookie-io-128-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x1b346db5, L:/127.0.0.1:40089 ! R:/127.0.0.1:35504]
2020-08-10 23:41:32,312 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x6baa8fed, L:/127.0.0.1:35504 ! R:127.0.0.1/127.0.0.1:40089]
2020-08-10 23:41:32,311 - INFO  - [bookie-io-18-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x1fe8c693, L:/127.0.0.1:33305 ! R:/127.0.0.1:37728]
2020-08-10 23:41:32,312 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40489
2020-08-10 23:41:32,313 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40377
2020-08-10 23:41:32,313 - INFO  - [bookie-io-148-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x553354f5, L:/127.0.0.1:40489 ! R:/127.0.0.1:36942]
2020-08-10 23:41:32,313 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe418e1d4, L:/127.0.0.1:36942 ! R:127.0.0.1/127.0.0.1:40489]
2020-08-10 23:41:32,314 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:43485
2020-08-10 23:41:32,314 - INFO  - [bookkeeper-io-3-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x7d9ccf50, L:/127.0.0.1:55040 ! R:127.0.0.1/127.0.0.1:40377]
2020-08-10 23:41:32,316 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:44367
2020-08-10 23:41:32,316 - INFO  - [bookie-io-88-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xbf794052, L:/127.0.0.1:43485 ! R:/127.0.0.1:36220]
2020-08-10 23:41:32,316 - INFO  - [bookkeeper-io-3-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x0561fc1d, L:/127.0.0.1:36220 ! R:127.0.0.1/127.0.0.1:43485]
2020-08-10 23:41:32,315 - INFO  - [bookie-io-58-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x35d7b98e, L:/127.0.0.1:40377 ! R:/127.0.0.1:55040]
2020-08-10 23:41:32,319 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38051
2020-08-10 23:41:32,318 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x087e1ff8, L:/127.0.0.1:58500 ! R:127.0.0.1/127.0.0.1:44367]
2020-08-10 23:41:32,319 - INFO  - [bookie-io-118-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xde498615, L:/127.0.0.1:44367 ! R:/127.0.0.1:58500]
2020-08-10 23:41:32,320 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xc8edaa2e, L:/127.0.0.1:53046 ! R:127.0.0.1/127.0.0.1:38051]
2020-08-10 23:41:32,321 - INFO  - [bookie-io-78-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xd337bfe9, L:/127.0.0.1:38051 ! R:/127.0.0.1:53046]
2020-08-10 23:41:32,413 - INFO  - [GarbageCollectorThread-144-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:32,414 - INFO  - [GarbageCollectorThread-144-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:32,416 - INFO  - [GarbageCollectorThread-144-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:32,416 - INFO  - [GarbageCollectorThread-144-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:32,438 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:32,438 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:32,445 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33305 with exitCode 0
2020-08-10 23:41:32,445 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:32,445 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:32,445 - INFO  - [SyncThread-23-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:32,447 - INFO  - [SyncThread-23-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11025510808991826463test/current/0.log for logId 0.
2020-08-10 23:41:32,458 - INFO  - [pool-16-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11025510808991826463test/current/1.log for logId 1.
2020-08-10 23:41:32,464 - INFO  - [SyncThread-23-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095685322 , logFileOffset - 10752]}.
2020-08-10 23:41:32,468 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:32,468 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:32,469 - INFO  - [BookieJournal-33305:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:32,470 - INFO  - [BookieJournal-33305:Journal@1144] - Journal exited loop!
2020-08-10 23:41:32,471 - INFO  - [Bookie-33305:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:32,471 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:32,473 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:32,473 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:32,473 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:32,473 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:32,473 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:32,492 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:32,497 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:32,498 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:32,607 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:32,608 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:32,618 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37751 with exitCode 0
2020-08-10 23:41:32,618 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:32,618 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:32,619 - INFO  - [SyncThread-33-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:32,620 - INFO  - [SyncThread-33-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3826562352864012777test/current/0.log for logId 0.
2020-08-10 23:41:32,624 - INFO  - [pool-23-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3826562352864012777test/current/1.log for logId 1.
2020-08-10 23:41:32,639 - INFO  - [SyncThread-33-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095685706 , logFileOffset - 10752]}.
2020-08-10 23:41:32,644 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:32,645 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:32,645 - INFO  - [BookieJournal-37751:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:32,645 - INFO  - [BookieJournal-37751:Journal@1144] - Journal exited loop!
2020-08-10 23:41:32,650 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:32,650 - INFO  - [Bookie-37751:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:32,651 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:32,651 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:32,651 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:32,651 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:32,651 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:32,655 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:32,659 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:32,659 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:32,781 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:32,786 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:32,798 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40377 with exitCode 0
2020-08-10 23:41:32,798 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:32,799 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:32,799 - INFO  - [SyncThread-63-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:32,800 - INFO  - [SyncThread-63-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12593235102284758885test/current/0.log for logId 0.
2020-08-10 23:41:32,801 - INFO  - [GarbageCollectorThread-154-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:32,804 - INFO  - [GarbageCollectorThread-154-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:32,806 - INFO  - [GarbageCollectorThread-154-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:32,808 - INFO  - [GarbageCollectorThread-154-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:32,811 - INFO  - [pool-44-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12593235102284758885test/current/1.log for logId 1.
2020-08-10 23:41:32,824 - INFO  - [SyncThread-63-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686765 , logFileOffset - 10752]}.
2020-08-10 23:41:32,828 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:32,829 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:32,830 - INFO  - [BookieJournal-40377:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:32,830 - INFO  - [BookieJournal-40377:Journal@1144] - Journal exited loop!
2020-08-10 23:41:32,830 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:32,830 - INFO  - [Bookie-40377:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:32,831 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:32,831 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:32,831 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:32,831 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:32,831 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:32,839 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:32,842 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:32,843 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:32,954 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:32,955 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:32,969 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38051 with exitCode 0
2020-08-10 23:41:32,969 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:32,969 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:32,970 - INFO  - [SyncThread-83-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:32,973 - INFO  - [SyncThread-83-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12160484856383539078test/current/0.log for logId 0.
2020-08-10 23:41:32,977 - INFO  - [pool-58-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12160484856383539078test/current/1.log for logId 1.
2020-08-10 23:41:32,992 - INFO  - [SyncThread-83-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095687482 , logFileOffset - 10752]}.
2020-08-10 23:41:32,995 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:32,997 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:32,997 - INFO  - [BookieJournal-38051:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:32,997 - INFO  - [BookieJournal-38051:Journal@1144] - Journal exited loop!
2020-08-10 23:41:32,998 - INFO  - [Bookie-38051:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:32,998 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:32,999 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:32,999 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:32,999 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,000 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,000 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,005 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,007 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,007 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,116 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,118 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,121 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43485 with exitCode 0
2020-08-10 23:41:33,121 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:33,122 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:33,122 - INFO  - [SyncThread-93-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:33,123 - INFO  - [SyncThread-93-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8141401863031145307test/current/0.log for logId 0.
2020-08-10 23:41:33,125 - INFO  - [pool-65-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8141401863031145307test/current/1.log for logId 1.
2020-08-10 23:41:33,137 - INFO  - [SyncThread-93-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095687834 , logFileOffset - 10752]}.
2020-08-10 23:41:33,140 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:33,141 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:33,146 - INFO  - [BookieJournal-43485:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:33,147 - INFO  - [BookieJournal-43485:Journal@1144] - Journal exited loop!
2020-08-10 23:41:33,147 - INFO  - [Bookie-43485:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:33,147 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:33,148 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:33,149 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:33,149 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,149 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,149 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,153 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,154 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,154 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,264 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,265 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,272 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41691 with exitCode 0
2020-08-10 23:41:33,273 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:33,273 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:33,273 - INFO  - [SyncThread-113-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095687125 , logFileOffset - 6148]}.
2020-08-10 23:41:33,276 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:33,278 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:33,278 - INFO  - [BookieJournal-41691:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:33,278 - INFO  - [BookieJournal-41691:Journal@1144] - Journal exited loop!
2020-08-10 23:41:33,278 - INFO  - [Bookie-41691:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:33,278 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:33,279 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:33,279 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:33,279 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,280 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,280 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,280 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,281 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,281 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,335 - INFO  - [BookieDeathWatcher-33305:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,336 - INFO  - [BookieDeathWatcher-33305:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33305
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,336 - INFO  - [BookieDeathWatcher-33305:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,336 - INFO  - [BookieDeathWatcher-33305:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,387 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,392 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,397 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44367 with exitCode 0
2020-08-10 23:41:33,398 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:33,398 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:33,398 - INFO  - [SyncThread-123-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686406 , logFileOffset - 6148]}.
2020-08-10 23:41:33,402 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:33,403 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:33,403 - INFO  - [BookieJournal-44367:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:33,403 - INFO  - [BookieJournal-44367:Journal@1144] - Journal exited loop!
2020-08-10 23:41:33,404 - INFO  - [Bookie-44367:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:33,404 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:33,404 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:33,404 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:33,405 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,405 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,405 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,405 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,406 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,435 - INFO  - [BookieDeathWatcher-41691:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,435 - INFO  - [BookieDeathWatcher-41691:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41691
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,435 - INFO  - [BookieDeathWatcher-41691:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,435 - INFO  - [BookieDeathWatcher-41691:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,503 - INFO  - [BookieDeathWatcher-38051:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,503 - INFO  - [BookieDeathWatcher-38051:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38051
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,503 - INFO  - [BookieDeathWatcher-38051:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,503 - INFO  - [BookieDeathWatcher-38051:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,514 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,514 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,528 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40089 with exitCode 0
2020-08-10 23:41:33,529 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:33,529 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:33,529 - INFO  - [SyncThread-133-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095686059 , logFileOffset - 5636]}.
2020-08-10 23:41:33,533 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:33,534 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:33,534 - INFO  - [BookieJournal-40089:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:33,534 - INFO  - [BookieJournal-40089:Journal@1144] - Journal exited loop!
2020-08-10 23:41:33,534 - INFO  - [Bookie-40089:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:33,534 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:33,535 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:33,535 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:33,535 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,535 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,535 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,536 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,537 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,537 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,645 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,646 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,658 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33835 with exitCode 0
2020-08-10 23:41:33,658 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:33,658 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:33,658 - INFO  - [SyncThread-143-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095684926 , logFileOffset - 5636]}.
2020-08-10 23:41:33,662 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:33,663 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:33,663 - INFO  - [BookieJournal-33835:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:33,663 - INFO  - [BookieJournal-33835:Journal@1144] - Journal exited loop!
2020-08-10 23:41:33,663 - INFO  - [Bookie-33835:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:33,664 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:33,665 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:33,665 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:33,665 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,665 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,665 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,665 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,667 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,667 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,732 - INFO  - [BookieDeathWatcher-37751:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,733 - INFO  - [BookieDeathWatcher-37751:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37751
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,733 - INFO  - [BookieDeathWatcher-37751:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,733 - INFO  - [BookieDeathWatcher-37751:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,750 - INFO  - [BookieDeathWatcher-44367:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,750 - INFO  - [BookieDeathWatcher-44367:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44367
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,750 - INFO  - [BookieDeathWatcher-44367:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,750 - INFO  - [BookieDeathWatcher-44367:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,781 - INFO  - [BookieDeathWatcher-40377:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,781 - INFO  - [BookieDeathWatcher-40377:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40377
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,783 - INFO  - [BookieDeathWatcher-40377:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,783 - INFO  - [BookieDeathWatcher-40377:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,782 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,784 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:33,789 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40489 with exitCode 0
2020-08-10 23:41:33,789 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:33,789 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:33,789 - INFO  - [SyncThread-153-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095688171 , logFileOffset - 6148]}.
2020-08-10 23:41:33,793 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:33,793 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:33,793 - INFO  - [BookieJournal-40489:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:33,794 - INFO  - [BookieJournal-40489:Journal@1144] - Journal exited loop!
2020-08-10 23:41:33,794 - INFO  - [Bookie-40489:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:33,794 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:33,794 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:33,794 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:33,795 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:33,795 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:33,795 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:33,795 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:33,796 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:33,796 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:33,843 - INFO  - [BookieDeathWatcher-43485:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:33,843 - INFO  - [BookieDeathWatcher-43485:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43485
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:33,843 - INFO  - [BookieDeathWatcher-43485:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:33,843 - INFO  - [BookieDeathWatcher-43485:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:34,035 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testEnsembleChangeWithMoreBookieFailures in 1730 ms.
2020-08-10 23:41:34,039 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestDelayEnsembleChange
2020-08-10 23:41:34,069 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:34,082 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:34,089 - INFO  - [BookieDeathWatcher-40089:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:34,089 - INFO  - [BookieDeathWatcher-40089:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40089
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:34,089 - INFO  - [BookieDeathWatcher-40089:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:34,089 - INFO  - [BookieDeathWatcher-40089:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:34,093 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:34,102 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:41:34,103 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:41:34,103 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:41:34,104 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:41:34,111 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:34,112 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6121467013166984789test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6121467013166984789test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:34,121 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:34,127 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:34,132 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:34,138 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6121467013166984789test/current] [/tmp/bookie6121467013166984789test/current]
2020-08-10 23:41:34,155 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:34,158 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6121467013166984789test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:34,158 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:34,159 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:34,160 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:34,162 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:34,162 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:34,162 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:34,176 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33039 to become writable
2020-08-10 23:41:34,177 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:34,180 - INFO  - [SyncThread-169-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:34,183 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:34,189 - INFO  - [BookieJournal-33039:Journal@909] - Starting journal on /tmp/bookie6121467013166984789test/current
2020-08-10 23:41:34,190 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:34,190 - INFO  - [BookieJournal-33039:JournalChannel@157] - Opening journal /tmp/bookie6121467013166984789test/current/173da524f6f.txn
2020-08-10 23:41:34,196 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33039
2020-08-10 23:41:34,422 - INFO  - [BookieDeathWatcher-33835:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:34,422 - INFO  - [BookieDeathWatcher-33835:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33835
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:34,422 - INFO  - [BookieDeathWatcher-33835:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:34,422 - INFO  - [BookieDeathWatcher-33835:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:34,446 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33039' has been created.
2020-08-10 23:41:34,448 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:34,448 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14517885551852006697test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14517885551852006697test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:34,451 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:34,457 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:34,464 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:34,471 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14517885551852006697test/current] [/tmp/bookie14517885551852006697test/current]
2020-08-10 23:41:34,479 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:34,480 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14517885551852006697test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:34,480 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:34,481 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:34,481 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:34,482 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:34,482 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:34,482 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:34,493 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46785 to become writable
2020-08-10 23:41:34,493 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:34,495 - INFO  - [SyncThread-179-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:34,499 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:34,500 - INFO  - [BookieJournal-46785:Journal@909] - Starting journal on /tmp/bookie14517885551852006697test/current
2020-08-10 23:41:34,501 - INFO  - [BookieJournal-46785:JournalChannel@157] - Opening journal /tmp/bookie14517885551852006697test/current/173da5250a6.txn
2020-08-10 23:41:34,502 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:34,508 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46785
2020-08-10 23:41:34,760 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46785' has been created.
2020-08-10 23:41:34,761 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:34,762 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9176920876097467145test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9176920876097467145test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:34,765 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:34,777 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:34,782 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:34,788 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9176920876097467145test/current] [/tmp/bookie9176920876097467145test/current]
2020-08-10 23:41:34,797 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:34,798 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9176920876097467145test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:34,799 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:34,799 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:34,799 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:34,800 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:34,801 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:34,801 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:34,812 - INFO  - [BookieDeathWatcher-40489:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:34,812 - INFO  - [BookieDeathWatcher-40489:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40489
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:34,812 - INFO  - [BookieDeathWatcher-40489:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:34,812 - INFO  - [BookieDeathWatcher-40489:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:34,826 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33585 to become writable
2020-08-10 23:41:34,827 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:34,828 - INFO  - [SyncThread-189-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:34,832 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:34,834 - INFO  - [BookieJournal-33585:Journal@909] - Starting journal on /tmp/bookie9176920876097467145test/current
2020-08-10 23:41:34,835 - INFO  - [BookieJournal-33585:JournalChannel@157] - Opening journal /tmp/bookie9176920876097467145test/current/173da5251f4.txn
2020-08-10 23:41:34,835 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:34,841 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33585
2020-08-10 23:41:35,097 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33585' has been created.
2020-08-10 23:41:35,099 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:35,099 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2553089084006161217test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2553089084006161217test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:35,103 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:35,107 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:35,111 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:35,117 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2553089084006161217test/current] [/tmp/bookie2553089084006161217test/current]
2020-08-10 23:41:35,127 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:35,129 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2553089084006161217test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:35,129 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:35,130 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:35,131 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:35,132 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:35,132 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:35,132 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:35,151 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33935 to become writable
2020-08-10 23:41:35,152 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:35,153 - INFO  - [SyncThread-199-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:35,157 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:35,158 - INFO  - [BookieJournal-33935:Journal@909] - Starting journal on /tmp/bookie2553089084006161217test/current
2020-08-10 23:41:35,159 - INFO  - [BookieJournal-33935:JournalChannel@157] - Opening journal /tmp/bookie2553089084006161217test/current/173da525338.txn
2020-08-10 23:41:35,159 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:35,167 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33935
2020-08-10 23:41:35,425 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33935' has been created.
2020-08-10 23:41:35,427 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:35,428 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie5543608736663675529test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie5543608736663675529test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:35,432 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:35,437 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:35,441 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:35,450 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie5543608736663675529test/current] [/tmp/bookie5543608736663675529test/current]
2020-08-10 23:41:35,474 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:35,479 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie5543608736663675529test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:35,479 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:35,479 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:35,480 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:35,481 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:35,482 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:35,482 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:35,496 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34559 to become writable
2020-08-10 23:41:35,497 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:35,499 - INFO  - [SyncThread-209-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:35,503 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:35,508 - INFO  - [BookieJournal-34559:Journal@909] - Starting journal on /tmp/bookie5543608736663675529test/current
2020-08-10 23:41:35,511 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:35,511 - INFO  - [BookieJournal-34559:JournalChannel@157] - Opening journal /tmp/bookie5543608736663675529test/current/173da525498.txn
2020-08-10 23:41:35,521 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34559
2020-08-10 23:41:35,770 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34559' has been created.
2020-08-10 23:41:35,772 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testEnsembleChangeWithNotEnoughBookies @ metadata service zk://localhost:41129/ledgers in 1731 ms.
2020-08-10 23:41:35,772 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:35,773 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18394065263731040280test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18394065263731040280test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:35,782 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:35,790 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:35,794 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:35,802 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18394065263731040280test/current] [/tmp/bookie18394065263731040280test/current]
2020-08-10 23:41:35,813 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:35,815 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18394065263731040280test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:35,815 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:35,816 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:35,816 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:35,818 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:35,818 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:35,818 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:35,842 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33059 to become writable
2020-08-10 23:41:35,844 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:35,849 - INFO  - [SyncThread-219-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:35,853 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:35,855 - INFO  - [BookieJournal-33059:Journal@909] - Starting journal on /tmp/bookie18394065263731040280test/current
2020-08-10 23:41:35,856 - INFO  - [BookieJournal-33059:JournalChannel@157] - Opening journal /tmp/bookie18394065263731040280test/current/173da5255f1.txn
2020-08-10 23:41:35,856 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:35,864 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33059
2020-08-10 23:41:36,114 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33059' has been created.
2020-08-10 23:41:36,116 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:34559, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:41:36,144 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:34559, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059] for ledger: 0
2020-08-10 23:41:36,148 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xdec98505, L:/127.0.0.1:52028 - R:127.0.0.1/127.0.0.1:34559]
2020-08-10 23:41:36,149 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34559
2020-08-10 23:41:36,149 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient$1@471] - connection [id: 0xdec98505, L:/127.0.0.1:52028 - R:127.0.0.1/127.0.0.1:34559] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:36,156 - INFO  - [bookkeeper-io-160-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x1a817acf, L:/127.0.0.1:60650 - R:127.0.0.1/127.0.0.1:33039]
2020-08-10 23:41:36,157 - INFO  - [bookkeeper-io-160-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33039
2020-08-10 23:41:36,157 - INFO  - [bookkeeper-io-160-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x9784ee53, L:/127.0.0.1:38442 - R:127.0.0.1/127.0.0.1:46785]
2020-08-10 23:41:36,157 - INFO  - [bookkeeper-io-160-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:46785
2020-08-10 23:41:36,158 - INFO  - [bookie-io-204-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:36,158 - INFO  - [bookie-io-204-2:BookieRequestHandler@50] - Channel connected  [id: 0x6c271956, L:/127.0.0.1:34559 - R:/127.0.0.1:52028]
2020-08-10 23:41:36,158 - INFO  - [bookie-io-164-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:36,158 - INFO  - [bookie-io-164-2:BookieRequestHandler@50] - Channel connected  [id: 0xf1e40ea4, L:/127.0.0.1:33039 - R:/127.0.0.1:60650]
2020-08-10 23:41:36,157 - INFO  - [bookie-io-174-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:36,162 - INFO  - [bookie-io-174-2:BookieRequestHandler@50] - Channel connected  [id: 0x9bd6e51a, L:/127.0.0.1:46785 - R:/127.0.0.1:38442]
2020-08-10 23:41:36,161 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xa901b100, L:/127.0.0.1:46794 - R:127.0.0.1/127.0.0.1:33585]
2020-08-10 23:41:36,163 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33585
2020-08-10 23:41:36,158 - INFO  - [bookkeeper-io-160-2:PerChannelBookieClient$1@471] - connection [id: 0x1a817acf, L:/127.0.0.1:60650 - R:127.0.0.1/127.0.0.1:33039] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:36,164 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient$1@471] - connection [id: 0xa901b100, L:/127.0.0.1:46794 - R:127.0.0.1/127.0.0.1:33585] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:36,158 - INFO  - [bookkeeper-io-160-3:PerChannelBookieClient$1@471] - connection [id: 0x9784ee53, L:/127.0.0.1:38442 - R:127.0.0.1/127.0.0.1:46785] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:36,166 - INFO  - [bookie-io-184-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:36,167 - INFO  - [bookie-io-184-2:BookieRequestHandler@50] - Channel connected  [id: 0xe5f69167, L:/127.0.0.1:33585 - R:/127.0.0.1:46794]
2020-08-10 23:41:36,169 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xb89d0a2b, L:/127.0.0.1:58958 - R:127.0.0.1/127.0.0.1:33059]
2020-08-10 23:41:36,169 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33059
2020-08-10 23:41:36,169 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient$1@471] - connection [id: 0xb89d0a2b, L:/127.0.0.1:58958 - R:127.0.0.1/127.0.0.1:33059] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:36,175 - INFO  - [bookie-io-214-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:36,176 - INFO  - [bookie-io-214-2:BookieRequestHandler@50] - Channel connected  [id: 0x39de355a, L:/127.0.0.1:33059 - R:/127.0.0.1:58958]
2020-08-10 23:41:36,246 - INFO  - [Time-limited test:TestDelayEnsembleChange@305] - Killed 3 bookies and add 10 more entries : LedgerMetadata{formatVersion=3, ensembleSize=5, writeQuorumSize=5, ackQuorumSize=3, state=OPEN, digestType=CRC32, password=base64:, ensembles={0=[127.0.0.1:34559, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059]}, customMetadata={}}
2020-08-10 23:41:36,250 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:36,250 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:36,251 - WARN  - [bookkeeper-io-160-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0xdec98505, L:/127.0.0.1:52028 - R:127.0.0.1/127.0.0.1:34559] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:36,251 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xdec98505, L:/127.0.0.1:52028 ! R:127.0.0.1/127.0.0.1:34559]
2020-08-10 23:41:36,252 - INFO  - [bookie-io-204-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x6c271956, L:/127.0.0.1:34559 ! R:/127.0.0.1:52028]
2020-08-10 23:41:36,259 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34559 with exitCode 0
2020-08-10 23:41:36,259 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:36,260 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:36,260 - INFO  - [SyncThread-209-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:36,261 - INFO  - [SyncThread-209-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie5543608736663675529test/current/0.log for logId 0.
2020-08-10 23:41:36,268 - INFO  - [pool-147-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie5543608736663675529test/current/1.log for logId 1.
2020-08-10 23:41:36,283 - INFO  - [SyncThread-209-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095695512 , logFileOffset - 5632]}.
2020-08-10 23:41:36,287 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:36,287 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:36,289 - INFO  - [BookieJournal-34559:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:36,290 - INFO  - [BookieJournal-34559:Journal@1144] - Journal exited loop!
2020-08-10 23:41:36,290 - INFO  - [Bookie-34559:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:36,290 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:36,291 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:36,292 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:36,292 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:36,292 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:36,292 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:36,295 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:36,296 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:36,296 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:36,302 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:34559
2020-08-10 23:41:36,408 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:36,408 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:36,408 - INFO  - [bookie-io-164-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf1e40ea4, L:/127.0.0.1:33039 ! R:/127.0.0.1:60650]
2020-08-10 23:41:36,409 - WARN  - [bookkeeper-io-160-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x1a817acf, L:/127.0.0.1:60650 - R:127.0.0.1/127.0.0.1:33039] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:36,409 - INFO  - [bookkeeper-io-160-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x1a817acf, L:/127.0.0.1:60650 ! R:127.0.0.1/127.0.0.1:33039]
2020-08-10 23:41:36,413 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33039 with exitCode 0
2020-08-10 23:41:36,413 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:36,413 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:36,413 - INFO  - [SyncThread-169-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:36,414 - INFO  - [SyncThread-169-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6121467013166984789test/current/0.log for logId 0.
2020-08-10 23:41:36,416 - INFO  - [pool-119-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6121467013166984789test/current/1.log for logId 1.
2020-08-10 23:41:36,422 - INFO  - [SyncThread-169-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694191 , logFileOffset - 5632]}.
2020-08-10 23:41:36,426 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:36,427 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:36,427 - INFO  - [BookieJournal-33039:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:36,427 - INFO  - [BookieJournal-33039:Journal@1144] - Journal exited loop!
2020-08-10 23:41:36,427 - INFO  - [Bookie-33039:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:36,428 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:36,429 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:36,429 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:36,429 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:36,429 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:36,429 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:36,434 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:36,435 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:36,435 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:36,444 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33039
2020-08-10 23:41:36,518 - INFO  - [BookieDeathWatcher-34559:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:36,519 - INFO  - [BookieDeathWatcher-34559:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34559
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:36,519 - INFO  - [BookieDeathWatcher-34559:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:36,519 - INFO  - [BookieDeathWatcher-34559:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:36,547 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:36,548 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:36,549 - WARN  - [bookkeeper-io-160-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x9784ee53, L:/127.0.0.1:38442 - R:127.0.0.1/127.0.0.1:46785] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:36,549 - INFO  - [bookkeeper-io-160-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x9784ee53, L:/127.0.0.1:38442 ! R:127.0.0.1/127.0.0.1:46785]
2020-08-10 23:41:36,552 - INFO  - [bookie-io-174-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x9bd6e51a, L:/127.0.0.1:46785 ! R:/127.0.0.1:38442]
2020-08-10 23:41:36,553 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46785 with exitCode 0
2020-08-10 23:41:36,553 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:36,553 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:36,554 - INFO  - [SyncThread-179-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:36,555 - INFO  - [SyncThread-179-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14517885551852006697test/current/0.log for logId 0.
2020-08-10 23:41:36,557 - INFO  - [pool-126-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14517885551852006697test/current/1.log for logId 1.
2020-08-10 23:41:36,564 - INFO  - [SyncThread-179-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694502 , logFileOffset - 5632]}.
2020-08-10 23:41:36,567 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:36,567 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:36,568 - INFO  - [BookieJournal-46785:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:36,568 - INFO  - [BookieJournal-46785:Journal@1144] - Journal exited loop!
2020-08-10 23:41:36,568 - INFO  - [Bookie-46785:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:36,569 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:36,569 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:36,569 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:36,569 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:36,569 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:36,569 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:36,572 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:36,574 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:36,574 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:36,581 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:46785
2020-08-10 23:41:36,689 - ERROR - [bookkeeper-io-160-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xda3a7206, L:/127.0.0.1:52038]/127.0.0.1:34559, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:34559
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,690 - ERROR - [bookkeeper-io-160-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xbdbee581, L:/127.0.0.1:60658]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,691 - ERROR - [bookkeeper-io-160-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x6fd355a6, L:/127.0.0.1:38454]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,692 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 10) to bookies {0=127.0.0.1:34559, 1=127.0.0.1:33039, 2=127.0.0.1:46785}, handling failures.
2020-08-10 23:41:36,693 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:33039
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:36,694 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:46785
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:36,694 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:34559 in ensemble: [127.0.0.1:34559, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059] is not adhering to placement policy and chose 127.0.0.1:33935. excludedBookies [127.0.0.1:46785, 127.0.0.1:34559, 127.0.0.1:33039] and quarantinedBookies []
2020-08-10 23:41:36,695 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@769] - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:46785>, <Bookie:127.0.0.1:34559>, <Bookie:127.0.0.1:33039>, <Bookie:127.0.0.1:33935>], allBookies [<Bookie:127.0.0.1:33935>, <Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>].
2020-08-10 23:41:36,695 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@576] - Failed to choose a bookie: excluded [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:46785>, <Bookie:127.0.0.1:34559>, <Bookie:127.0.0.1:33039>, <Bookie:127.0.0.1:33935>], fallback to choose bookie randomly from the cluster.
2020-08-10 23:41:36,695 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@769] - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:46785>, <Bookie:127.0.0.1:34559>, <Bookie:127.0.0.1:33039>, <Bookie:127.0.0.1:33935>], allBookies [<Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33935>].
2020-08-10 23:41:36,695 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@769] - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:46785>, <Bookie:127.0.0.1:34559>, <Bookie:127.0.0.1:33039>, <Bookie:127.0.0.1:33935>], allBookies [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33935>, <Bookie:127.0.0.1:33585>].
2020-08-10 23:41:36,695 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@576] - Failed to choose a bookie: excluded [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:46785>, <Bookie:127.0.0.1:34559>, <Bookie:127.0.0.1:33039>, <Bookie:127.0.0.1:33935>], fallback to choose bookie randomly from the cluster.
2020-08-10 23:41:36,696 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@769] - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33585>, <Bookie:127.0.0.1:46785>, <Bookie:127.0.0.1:34559>, <Bookie:127.0.0.1:33039>, <Bookie:127.0.0.1:33935>], allBookies [<Bookie:127.0.0.1:33059>, <Bookie:127.0.0.1:33935>, <Bookie:127.0.0.1:33585>].
2020-08-10 23:41:36,701 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1978] - New Ensemble: [127.0.0.1:33935, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059] for ledger: 0
2020-08-10 23:41:36,702 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x501bc53f, L:/127.0.0.1:47054 - R:127.0.0.1/127.0.0.1:33935]
2020-08-10 23:41:36,703 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33935
2020-08-10 23:41:36,703 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient$1@471] - connection [id: 0x501bc53f, L:/127.0.0.1:47054 - R:127.0.0.1/127.0.0.1:33935] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:36,703 - INFO  - [bookie-io-194-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:36,703 - INFO  - [bookie-io-194-2:BookieRequestHandler@50] - Channel connected  [id: 0x4069ca49, L:/127.0.0.1:33935 - R:/127.0.0.1:47054]
2020-08-10 23:41:36,713 - ERROR - [bookkeeper-io-160-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x75d8eb67, L:/127.0.0.1:60664]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,713 - ERROR - [bookkeeper-io-160-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xa356be43, L:/127.0.0.1:38460]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,721 - ERROR - [bookkeeper-io-160-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x87a1b101, L:/127.0.0.1:60668]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,721 - ERROR - [bookkeeper-io-160-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xc015dbad, L:/127.0.0.1:38464]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,728 - ERROR - [bookkeeper-io-160-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xb16c82e7, L:/127.0.0.1:38466]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,728 - ERROR - [bookkeeper-io-160-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x65119b8c, L:/127.0.0.1:60674]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,736 - ERROR - [bookkeeper-io-160-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xeb8fb21b, L:/127.0.0.1:38470]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,736 - ERROR - [bookkeeper-io-160-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd4f5ab56, L:/127.0.0.1:60678]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,742 - ERROR - [bookkeeper-io-160-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xbbd3072b, L:/127.0.0.1:38476]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,742 - ERROR - [bookkeeper-io-160-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x05218037, L:/127.0.0.1:60680]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,749 - ERROR - [bookkeeper-io-160-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x26b2b30c, L:/127.0.0.1:38478]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,749 - ERROR - [bookkeeper-io-160-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xbbb18186, L:/127.0.0.1:60686]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,756 - ERROR - [bookkeeper-io-160-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd998a5e1, L:/127.0.0.1:38482]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,756 - ERROR - [bookkeeper-io-160-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x65e5236f, L:/127.0.0.1:60690]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,766 - ERROR - [bookkeeper-io-160-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x5f7ec64d, L:/127.0.0.1:38486]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,767 - ERROR - [bookkeeper-io-160-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xafae533e, L:/127.0.0.1:60694]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,773 - ERROR - [bookkeeper-io-160-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xe7e0833e, L:/127.0.0.1:38490]/127.0.0.1:46785, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46785
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,780 - ERROR - [bookkeeper-io-160-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xf4a91e8b, L:/127.0.0.1:60698]/127.0.0.1:33039, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33039
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:36,786 - INFO  - [Time-limited test:TestDelayEnsembleChange@316] - Ledger metadata after killed bookies : LedgerMetadata{formatVersion=3, ensembleSize=5, writeQuorumSize=5, ackQuorumSize=3, state=OPEN, digestType=CRC32, password=base64:, ensembles={0=[127.0.0.1:34559, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059], 10=[127.0.0.1:33935, 127.0.0.1:33039, 127.0.0.1:46785, 127.0.0.1:33585, 127.0.0.1:33059]}, customMetadata={}}
2020-08-10 23:41:36,787 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "34559",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie5543608736663675529test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie5543608736663675529test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:36,790 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:36,796 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:36,799 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:36,811 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:36,814 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:36,814 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:36,815 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:36,816 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:36,816 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:36,817 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:36,831 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34559 to become writable
2020-08-10 23:41:36,831 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095695512 from position 5632
2020-08-10 23:41:36,831 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie5543608736663675529test/current/173da525498.txn
2020-08-10 23:41:36,832 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:36,833 - INFO  - [SyncThread-229-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095695512 , logFileOffset - 5636]}.
2020-08-10 23:41:36,837 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:36,838 - INFO  - [BookieJournal-34559:Journal@909] - Starting journal on /tmp/bookie5543608736663675529test/current
2020-08-10 23:41:36,840 - INFO  - [BookieJournal-34559:JournalChannel@157] - Opening journal /tmp/bookie5543608736663675529test/current/173da525499.txn
2020-08-10 23:41:36,840 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:36,847 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34559
2020-08-10 23:41:37,098 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34559' has been created.
2020-08-10 23:41:37,099 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "33039",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6121467013166984789test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6121467013166984789test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:37,102 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:37,112 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:37,117 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:37,132 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:37,133 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:37,134 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:37,134 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:37,135 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:37,136 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:37,136 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:37,148 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33039 to become writable
2020-08-10 23:41:37,149 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095694191 from position 5632
2020-08-10 23:41:37,150 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie6121467013166984789test/current/173da524f6f.txn
2020-08-10 23:41:37,150 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:37,151 - INFO  - [SyncThread-239-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694191 , logFileOffset - 5636]}.
2020-08-10 23:41:37,155 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:37,156 - INFO  - [BookieJournal-33039:Journal@909] - Starting journal on /tmp/bookie6121467013166984789test/current
2020-08-10 23:41:37,158 - INFO  - [BookieJournal-33039:JournalChannel@157] - Opening journal /tmp/bookie6121467013166984789test/current/173da524f70.txn
2020-08-10 23:41:37,159 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:37,166 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33039
2020-08-10 23:41:37,200 - INFO  - [BookieDeathWatcher-33039:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:37,201 - INFO  - [BookieDeathWatcher-33039:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33039
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:37,201 - INFO  - [BookieDeathWatcher-33039:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:37,201 - INFO  - [BookieDeathWatcher-33039:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:37,417 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33039' has been created.
2020-08-10 23:41:37,418 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "46785",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14517885551852006697test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41129/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14517885551852006697test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:37,421 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41129/ledgers : zkServers = localhost:41129, ledgersRootPath = /ledgers.
2020-08-10 23:41:37,427 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:37,431 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:37,452 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:37,454 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:37,454 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:37,455 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:37,456 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:37,457 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:37,457 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:37,468 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46785 to become writable
2020-08-10 23:41:37,468 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095694502 from position 5632
2020-08-10 23:41:37,469 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie14517885551852006697test/current/173da5250a6.txn
2020-08-10 23:41:37,469 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:37,470 - INFO  - [SyncThread-249-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694502 , logFileOffset - 5636]}.
2020-08-10 23:41:37,474 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:37,477 - INFO  - [BookieJournal-46785:Journal@909] - Starting journal on /tmp/bookie14517885551852006697test/current
2020-08-10 23:41:37,477 - INFO  - [BookieJournal-46785:JournalChannel@157] - Opening journal /tmp/bookie14517885551852006697test/current/173da5250a7.txn
2020-08-10 23:41:37,479 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:37,487 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46785
2020-08-10 23:41:37,510 - INFO  - [BookieDeathWatcher-46785:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:37,511 - INFO  - [BookieDeathWatcher-46785:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46785
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:37,511 - INFO  - [BookieDeathWatcher-46785:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:37,511 - INFO  - [BookieDeathWatcher-46785:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:37,737 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46785' has been created.
2020-08-10 23:41:37,739 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x54ab4e09, L:/127.0.0.1:60706 - R:127.0.0.1/127.0.0.1:33039]
2020-08-10 23:41:37,739 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33039
2020-08-10 23:41:37,739 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient$1@471] - connection [id: 0x54ab4e09, L:/127.0.0.1:60706 - R:127.0.0.1/127.0.0.1:33039] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:37,739 - INFO  - [bookie-io-234-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:37,739 - INFO  - [bookie-io-234-2:BookieRequestHandler@50] - Channel connected  [id: 0x70abdb0a, L:/127.0.0.1:33039 - R:/127.0.0.1:60706]
2020-08-10 23:41:37,741 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xcafff4fd, L:/127.0.0.1:38502 - R:127.0.0.1/127.0.0.1:46785]
2020-08-10 23:41:37,741 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:46785
2020-08-10 23:41:37,741 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient$1@471] - connection [id: 0xcafff4fd, L:/127.0.0.1:38502 - R:127.0.0.1/127.0.0.1:46785] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:37,744 - INFO  - [bookie-io-244-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:37,744 - INFO  - [bookie-io-244-2:BookieRequestHandler@50] - Channel connected  [id: 0xd3e4d3ff, L:/127.0.0.1:46785 - R:/127.0.0.1:38502]
2020-08-10 23:41:37,812 - INFO  - [bookkeeper-io-160-6:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x78fc089d, L:/127.0.0.1:52092 - R:127.0.0.1/127.0.0.1:34559]
2020-08-10 23:41:37,812 - INFO  - [bookkeeper-io-160-6:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34559
2020-08-10 23:41:37,812 - INFO  - [bookkeeper-io-160-6:PerChannelBookieClient$1@471] - connection [id: 0x78fc089d, L:/127.0.0.1:52092 - R:127.0.0.1/127.0.0.1:34559] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:37,819 - INFO  - [bookie-io-224-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:37,819 - INFO  - [bookie-io-224-2:BookieRequestHandler@50] - Channel connected  [id: 0xf0ee5e73, L:/127.0.0.1:34559 - R:/127.0.0.1:52092]
2020-08-10 23:41:37,838 - INFO  - [GarbageCollectorThread-230-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:37,839 - INFO  - [GarbageCollectorThread-230-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:37,841 - INFO  - [GarbageCollectorThread-230-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:37,841 - INFO  - [GarbageCollectorThread-230-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:37,857 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 10) from host 127.0.0.1:33039.
2020-08-10 23:41:37,858 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 10) from host 127.0.0.1:46785.
2020-08-10 23:41:37,861 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 11) from host 127.0.0.1:33039.
2020-08-10 23:41:37,862 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 11) from host 127.0.0.1:46785.
2020-08-10 23:41:37,864 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 12) from host 127.0.0.1:33039.
2020-08-10 23:41:37,864 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 12) from host 127.0.0.1:46785.
2020-08-10 23:41:37,867 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 13) from host 127.0.0.1:33039.
2020-08-10 23:41:37,867 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 13) from host 127.0.0.1:46785.
2020-08-10 23:41:37,870 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 14) from host 127.0.0.1:33039.
2020-08-10 23:41:37,870 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 14) from host 127.0.0.1:46785.
2020-08-10 23:41:37,876 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 15) from host 127.0.0.1:33039.
2020-08-10 23:41:37,878 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 15) from host 127.0.0.1:46785.
2020-08-10 23:41:37,881 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 16) from host 127.0.0.1:33039.
2020-08-10 23:41:37,882 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 16) from host 127.0.0.1:46785.
2020-08-10 23:41:37,888 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 17) from host 127.0.0.1:33039.
2020-08-10 23:41:37,888 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 17) from host 127.0.0.1:46785.
2020-08-10 23:41:37,890 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 18) from host 127.0.0.1:33039.
2020-08-10 23:41:37,892 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 18) from host 127.0.0.1:46785.
2020-08-10 23:41:37,893 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 19) from host 127.0.0.1:33039.
2020-08-10 23:41:37,894 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 19) from host 127.0.0.1:46785.
2020-08-10 23:41:37,919 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:41:37,919 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33585
2020-08-10 23:41:37,920 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:46785
2020-08-10 23:41:37,920 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xcafff4fd, L:/127.0.0.1:38502 ! R:127.0.0.1/127.0.0.1:46785]
2020-08-10 23:41:37,920 - INFO  - [bookie-io-184-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe5f69167, L:/127.0.0.1:33585 ! R:/127.0.0.1:46794]
2020-08-10 23:41:37,921 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34559
2020-08-10 23:41:37,921 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xa901b100, L:/127.0.0.1:46794 ! R:127.0.0.1/127.0.0.1:33585]
2020-08-10 23:41:37,921 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33039
2020-08-10 23:41:37,921 - INFO  - [bookie-io-224-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf0ee5e73, L:/127.0.0.1:34559 ! R:/127.0.0.1:52092]
2020-08-10 23:41:37,921 - INFO  - [bookkeeper-io-160-6:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x78fc089d, L:/127.0.0.1:52092 ! R:127.0.0.1/127.0.0.1:34559]
2020-08-10 23:41:37,923 - INFO  - [bookkeeper-io-160-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x54ab4e09, L:/127.0.0.1:60706 ! R:127.0.0.1/127.0.0.1:33039]
2020-08-10 23:41:37,923 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33935
2020-08-10 23:41:37,923 - INFO  - [bookie-io-234-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x70abdb0a, L:/127.0.0.1:33039 ! R:/127.0.0.1:60706]
2020-08-10 23:41:37,925 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33059
2020-08-10 23:41:37,925 - INFO  - [bookie-io-194-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x4069ca49, L:/127.0.0.1:33935 ! R:/127.0.0.1:47054]
2020-08-10 23:41:37,925 - INFO  - [bookkeeper-io-160-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x501bc53f, L:/127.0.0.1:47054 ! R:127.0.0.1/127.0.0.1:33935]
2020-08-10 23:41:37,927 - INFO  - [bookkeeper-io-160-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xb89d0a2b, L:/127.0.0.1:58958 ! R:127.0.0.1/127.0.0.1:33059]
2020-08-10 23:41:37,925 - INFO  - [bookie-io-244-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xd3e4d3ff, L:/127.0.0.1:46785 ! R:/127.0.0.1:38502]
2020-08-10 23:41:37,927 - INFO  - [bookie-io-214-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x39de355a, L:/127.0.0.1:33059 ! R:/127.0.0.1:58958]
2020-08-10 23:41:38,032 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,032 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,036 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33585 with exitCode 0
2020-08-10 23:41:38,036 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:38,036 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:38,036 - INFO  - [SyncThread-189-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:38,037 - INFO  - [SyncThread-189-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie9176920876097467145test/current/0.log for logId 0.
2020-08-10 23:41:38,040 - INFO  - [pool-133-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie9176920876097467145test/current/1.log for logId 1.
2020-08-10 23:41:38,047 - INFO  - [SyncThread-189-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694836 , logFileOffset - 15872]}.
2020-08-10 23:41:38,050 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:38,050 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:38,051 - INFO  - [BookieJournal-33585:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:38,051 - INFO  - [BookieJournal-33585:Journal@1144] - Journal exited loop!
2020-08-10 23:41:38,051 - INFO  - [Bookie-33585:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:38,054 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:38,054 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:38,054 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:38,054 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:38,054 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:38,054 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:38,057 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:38,058 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:38,058 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:38,159 - INFO  - [GarbageCollectorThread-240-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:38,160 - INFO  - [GarbageCollectorThread-240-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:38,161 - INFO  - [GarbageCollectorThread-240-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:38,161 - INFO  - [GarbageCollectorThread-240-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:38,165 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,166 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,182 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33935 with exitCode 0
2020-08-10 23:41:38,183 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:38,183 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:38,183 - INFO  - [SyncThread-199-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:38,184 - INFO  - [SyncThread-199-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2553089084006161217test/current/0.log for logId 0.
2020-08-10 23:41:38,189 - INFO  - [pool-140-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2553089084006161217test/current/1.log for logId 1.
2020-08-10 23:41:38,205 - INFO  - [SyncThread-199-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095695160 , logFileOffset - 10752]}.
2020-08-10 23:41:38,208 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:38,209 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:38,209 - INFO  - [BookieJournal-33935:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:38,209 - INFO  - [BookieJournal-33935:Journal@1144] - Journal exited loop!
2020-08-10 23:41:38,209 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:38,209 - INFO  - [Bookie-33935:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:38,210 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:38,210 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:38,210 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:38,210 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:38,210 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:38,213 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:38,215 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:38,216 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:38,330 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,330 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,337 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33059 with exitCode 0
2020-08-10 23:41:38,337 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:38,337 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:38,338 - INFO  - [SyncThread-219-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:38,339 - INFO  - [SyncThread-219-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie18394065263731040280test/current/0.log for logId 0.
2020-08-10 23:41:38,340 - INFO  - [pool-154-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie18394065263731040280test/current/1.log for logId 1.
2020-08-10 23:41:38,348 - INFO  - [SyncThread-219-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095695857 , logFileOffset - 15872]}.
2020-08-10 23:41:38,351 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:38,352 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:38,352 - INFO  - [BookieJournal-33059:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:38,352 - INFO  - [BookieJournal-33059:Journal@1144] - Journal exited loop!
2020-08-10 23:41:38,353 - INFO  - [Bookie-33059:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:38,353 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:38,354 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:38,354 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:38,354 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:38,354 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:38,354 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:38,357 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:38,357 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:38,358 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:38,469 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,469 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,473 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34559 with exitCode 0
2020-08-10 23:41:38,474 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:38,474 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:38,474 - INFO  - [SyncThread-229-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095695512 , logFileOffset - 5636]}.
2020-08-10 23:41:38,476 - INFO  - [GarbageCollectorThread-250-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:38,477 - INFO  - [GarbageCollectorThread-250-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:38,478 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:38,479 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:38,479 - INFO  - [BookieJournal-34559:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:38,479 - INFO  - [BookieJournal-34559:Journal@1144] - Journal exited loop!
2020-08-10 23:41:38,479 - INFO  - [GarbageCollectorThread-250-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:38,479 - INFO  - [GarbageCollectorThread-250-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:38,480 - INFO  - [Bookie-34559:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:38,481 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:38,481 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:38,481 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:38,482 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:38,482 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:38,482 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:38,482 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:38,483 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:38,485 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:38,592 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,592 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,605 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33039 with exitCode 0
2020-08-10 23:41:38,605 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:38,605 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:38,605 - INFO  - [SyncThread-239-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:38,606 - INFO  - [SyncThread-239-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6121467013166984789test/current/2.log for logId 2.
2020-08-10 23:41:38,608 - INFO  - [pool-168-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6121467013166984789test/current/3.log for logId 3.
2020-08-10 23:41:38,623 - INFO  - [SyncThread-239-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694192 , logFileOffset - 5632]}.
2020-08-10 23:41:38,626 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:38,627 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:38,628 - INFO  - [BookieJournal-33039:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:38,628 - INFO  - [BookieJournal-33039:Journal@1144] - Journal exited loop!
2020-08-10 23:41:38,628 - INFO  - [Bookie-33039:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:38,628 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:38,629 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:38,629 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:38,629 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:38,629 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:38,629 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:38,631 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:38,631 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:38,631 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:38,736 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,736 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,741 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46785 with exitCode 0
2020-08-10 23:41:38,741 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:38,741 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:38,741 - INFO  - [SyncThread-249-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:38,742 - INFO  - [SyncThread-249-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14517885551852006697test/current/2.log for logId 2.
2020-08-10 23:41:38,745 - INFO  - [pool-175-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14517885551852006697test/current/3.log for logId 3.
2020-08-10 23:41:38,763 - INFO  - [SyncThread-249-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095694503 , logFileOffset - 5632]}.
2020-08-10 23:41:38,767 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:38,767 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:38,768 - INFO  - [BookieJournal-46785:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:38,768 - INFO  - [BookieJournal-46785:Journal@1144] - Journal exited loop!
2020-08-10 23:41:38,768 - INFO  - [Bookie-46785:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:38,768 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:38,770 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:38,770 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:38,770 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:38,770 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:38,770 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:38,773 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:38,774 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:38,774 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:38,844 - INFO  - [BookieDeathWatcher-33585:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:38,844 - INFO  - [BookieDeathWatcher-33585:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33585
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:38,844 - INFO  - [BookieDeathWatcher-33585:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,844 - INFO  - [BookieDeathWatcher-33585:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,847 - INFO  - [BookieDeathWatcher-34559:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:38,847 - INFO  - [BookieDeathWatcher-34559:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34559
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:38,849 - INFO  - [BookieDeathWatcher-34559:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,849 - INFO  - [BookieDeathWatcher-34559:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:38,864 - INFO  - [BookieDeathWatcher-33059:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:38,865 - INFO  - [BookieDeathWatcher-33059:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33059
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:38,865 - INFO  - [BookieDeathWatcher-33059:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:38,865 - INFO  - [BookieDeathWatcher-33059:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:39,003 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testEnsembleChangeWithNotEnoughBookies in 1084 ms.
2020-08-10 23:41:39,005 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestDelayEnsembleChange
2020-08-10 23:41:39,020 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:39,027 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:39,033 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:39,036 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:41:39,037 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:41:39,037 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:41:39,037 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:41:39,049 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:39,050 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14649612189388203546test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14649612189388203546test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:39,053 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:39,060 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:39,062 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:39,069 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14649612189388203546test/current] [/tmp/bookie14649612189388203546test/current]
2020-08-10 23:41:39,081 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:39,082 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14649612189388203546test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:39,083 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:39,083 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:39,083 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:39,084 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:39,085 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:39,085 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:39,168 - INFO  - [BookieDeathWatcher-33039:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:39,168 - INFO  - [BookieDeathWatcher-33039:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33039
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:39,168 - INFO  - [BookieDeathWatcher-33039:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:39,168 - INFO  - [BookieDeathWatcher-33039:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:39,172 - INFO  - [BookieDeathWatcher-33935:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:39,172 - INFO  - [BookieDeathWatcher-33935:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33935
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:39,172 - INFO  - [BookieDeathWatcher-33935:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:39,172 - INFO  - [BookieDeathWatcher-33935:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:39,491 - INFO  - [BookieDeathWatcher-46785:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:39,491 - INFO  - [BookieDeathWatcher-46785:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46785
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:39,491 - INFO  - [BookieDeathWatcher-46785:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:39,491 - INFO  - [BookieDeathWatcher-46785:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:39,602 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45905 to become writable
2020-08-10 23:41:39,603 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:39,605 - INFO  - [SyncThread-265-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:39,613 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:39,619 - INFO  - [BookieJournal-45905:Journal@909] - Starting journal on /tmp/bookie14649612189388203546test/current
2020-08-10 23:41:39,620 - INFO  - [BookieJournal-45905:JournalChannel@157] - Opening journal /tmp/bookie14649612189388203546test/current/173da5264a5.txn
2020-08-10 23:41:39,621 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:39,625 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45905
2020-08-10 23:41:39,873 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45905' has been created.
2020-08-10 23:41:39,875 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:39,876 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10124564628457031259test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10124564628457031259test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:39,879 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:39,885 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:39,889 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:39,895 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10124564628457031259test/current] [/tmp/bookie10124564628457031259test/current]
2020-08-10 23:41:39,903 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:39,905 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10124564628457031259test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:39,905 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:39,906 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:39,906 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:39,908 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:39,909 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:39,909 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:39,918 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38287 to become writable
2020-08-10 23:41:39,918 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:39,919 - INFO  - [SyncThread-275-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:39,924 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:39,925 - INFO  - [BookieJournal-38287:Journal@909] - Starting journal on /tmp/bookie10124564628457031259test/current
2020-08-10 23:41:39,926 - INFO  - [BookieJournal-38287:JournalChannel@157] - Opening journal /tmp/bookie10124564628457031259test/current/173da5265d7.txn
2020-08-10 23:41:39,927 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:39,933 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38287
2020-08-10 23:41:40,183 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38287' has been created.
2020-08-10 23:41:40,185 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:40,186 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11826431603046074934test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11826431603046074934test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:40,190 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:40,195 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:40,199 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:40,209 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11826431603046074934test/current] [/tmp/bookie11826431603046074934test/current]
2020-08-10 23:41:40,217 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:40,219 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11826431603046074934test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:40,219 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:40,219 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:40,220 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:40,221 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:40,221 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:40,221 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:40,242 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39689 to become writable
2020-08-10 23:41:40,243 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:40,244 - INFO  - [SyncThread-285-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:40,248 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:40,250 - INFO  - [BookieJournal-39689:Journal@909] - Starting journal on /tmp/bookie11826431603046074934test/current
2020-08-10 23:41:40,251 - INFO  - [BookieJournal-39689:JournalChannel@157] - Opening journal /tmp/bookie11826431603046074934test/current/173da52671c.txn
2020-08-10 23:41:40,252 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:40,257 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39689
2020-08-10 23:41:40,509 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39689' has been created.
2020-08-10 23:41:40,510 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:40,511 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7850159396458055893test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7850159396458055893test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:40,514 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:40,519 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:40,522 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:40,530 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7850159396458055893test/current] [/tmp/bookie7850159396458055893test/current]
2020-08-10 23:41:40,538 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:40,540 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7850159396458055893test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:40,541 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:40,541 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:40,541 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:40,542 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:40,543 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:40,543 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:40,556 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46359 to become writable
2020-08-10 23:41:40,557 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:40,558 - INFO  - [SyncThread-295-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:40,561 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:40,565 - INFO  - [BookieJournal-46359:Journal@909] - Starting journal on /tmp/bookie7850159396458055893test/current
2020-08-10 23:41:40,566 - INFO  - [BookieJournal-46359:JournalChannel@157] - Opening journal /tmp/bookie7850159396458055893test/current/173da526857.txn
2020-08-10 23:41:40,567 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:40,573 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46359
2020-08-10 23:41:40,823 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46359' has been created.
2020-08-10 23:41:40,824 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:40,825 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1167098876860811209test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1167098876860811209test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:40,829 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:40,836 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:40,840 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:40,847 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1167098876860811209test/current] [/tmp/bookie1167098876860811209test/current]
2020-08-10 23:41:40,855 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:40,856 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1167098876860811209test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:40,856 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:40,857 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:40,857 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:40,858 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:40,858 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:40,859 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:40,870 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35173 to become writable
2020-08-10 23:41:40,871 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:40,872 - INFO  - [SyncThread-305-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:40,875 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:40,877 - INFO  - [BookieJournal-35173:Journal@909] - Starting journal on /tmp/bookie1167098876860811209test/current
2020-08-10 23:41:40,881 - INFO  - [BookieJournal-35173:JournalChannel@157] - Opening journal /tmp/bookie1167098876860811209test/current/173da526991.txn
2020-08-10 23:41:40,881 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:40,887 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35173
2020-08-10 23:41:41,139 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35173' has been created.
2020-08-10 23:41:41,140 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testChangeEnsembleIfBrokenAckQuorum @ metadata service zk://localhost:46061/ledgers in 2135 ms.
2020-08-10 23:41:41,141 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:41,141 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9606947960075768009test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9606947960075768009test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:41,145 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:41,151 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:41,154 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:41,161 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9606947960075768009test/current] [/tmp/bookie9606947960075768009test/current]
2020-08-10 23:41:41,175 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:41,176 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9606947960075768009test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:41,177 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:41,177 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:41,178 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:41,179 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:41,179 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:41,179 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:41,188 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37909 to become writable
2020-08-10 23:41:41,189 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:41,191 - INFO  - [SyncThread-315-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:41,194 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:41,196 - INFO  - [BookieJournal-37909:Journal@909] - Starting journal on /tmp/bookie9606947960075768009test/current
2020-08-10 23:41:41,196 - INFO  - [BookieJournal-37909:JournalChannel@157] - Opening journal /tmp/bookie9606947960075768009test/current/173da526acd.txn
2020-08-10 23:41:41,199 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:41,204 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37909
2020-08-10 23:41:41,455 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37909' has been created.
2020-08-10 23:41:41,457 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:41,458 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12185686037682819299test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12185686037682819299test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:41,462 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:41,466 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:41,470 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:41,475 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12185686037682819299test/current] [/tmp/bookie12185686037682819299test/current]
2020-08-10 23:41:41,483 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:41,485 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12185686037682819299test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:41,485 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:41,485 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:41,486 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:41,487 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:41,487 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:41,487 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:41,502 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41657 to become writable
2020-08-10 23:41:41,504 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:41,505 - INFO  - [SyncThread-325-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:41,508 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:41,509 - INFO  - [BookieJournal-41657:Journal@909] - Starting journal on /tmp/bookie12185686037682819299test/current
2020-08-10 23:41:41,512 - INFO  - [BookieJournal-41657:JournalChannel@157] - Opening journal /tmp/bookie12185686037682819299test/current/173da526c09.txn
2020-08-10 23:41:41,512 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:41,518 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41657
2020-08-10 23:41:41,767 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41657' has been created.
2020-08-10 23:41:41,769 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:41,770 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10225953086857981087test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10225953086857981087test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:41,772 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:41,780 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:41,784 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:41,791 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10225953086857981087test/current] [/tmp/bookie10225953086857981087test/current]
2020-08-10 23:41:41,799 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:41,800 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10225953086857981087test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:41,800 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:41,800 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:41,801 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:41,802 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:41,802 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:41,802 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:41,834 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45523 to become writable
2020-08-10 23:41:41,835 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:41,836 - INFO  - [SyncThread-335-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:41,840 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:41,842 - INFO  - [BookieJournal-45523:Journal@909] - Starting journal on /tmp/bookie10225953086857981087test/current
2020-08-10 23:41:41,843 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:41,843 - INFO  - [BookieJournal-45523:JournalChannel@157] - Opening journal /tmp/bookie10225953086857981087test/current/173da526d54.txn
2020-08-10 23:41:41,850 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45523
2020-08-10 23:41:42,102 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45523' has been created.
2020-08-10 23:41:42,104 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:35173, 127.0.0.1:46359, 127.0.0.1:45905, 127.0.0.1:45523, 127.0.0.1:38287] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:41:42,136 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:35173, 127.0.0.1:46359, 127.0.0.1:45905, 127.0.0.1:45523, 127.0.0.1:38287] for ledger: 0
2020-08-10 23:41:42,143 - INFO  - [bookie-io-290-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,145 - INFO  - [bookie-io-290-2:BookieRequestHandler@50] - Channel connected  [id: 0x62b2064e, L:/127.0.0.1:46359 - R:/127.0.0.1:54626]
2020-08-10 23:41:42,144 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x590ede95, L:/127.0.0.1:45044 - R:127.0.0.1/127.0.0.1:45905]
2020-08-10 23:41:42,144 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe6e38f02, L:/127.0.0.1:54626 - R:127.0.0.1/127.0.0.1:46359]
2020-08-10 23:41:42,144 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x32bbd590, L:/127.0.0.1:37506 - R:127.0.0.1/127.0.0.1:35173]
2020-08-10 23:41:42,147 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35173
2020-08-10 23:41:42,146 - INFO  - [bookie-io-260-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,147 - INFO  - [bookie-io-260-2:BookieRequestHandler@50] - Channel connected  [id: 0xa68f3695, L:/127.0.0.1:45905 - R:/127.0.0.1:45044]
2020-08-10 23:41:42,147 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$1@471] - connection [id: 0x32bbd590, L:/127.0.0.1:37506 - R:127.0.0.1/127.0.0.1:35173] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,148 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45905
2020-08-10 23:41:42,146 - INFO  - [bookie-io-300-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,148 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:46359
2020-08-10 23:41:42,152 - INFO  - [bookie-io-300-2:BookieRequestHandler@50] - Channel connected  [id: 0x0d1333b9, L:/127.0.0.1:35173 - R:/127.0.0.1:37506]
2020-08-10 23:41:42,153 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$1@471] - connection [id: 0x590ede95, L:/127.0.0.1:45044 - R:127.0.0.1/127.0.0.1:45905] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,152 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xdc1b86ef, L:/127.0.0.1:39210 - R:127.0.0.1/127.0.0.1:45523]
2020-08-10 23:41:42,154 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45523
2020-08-10 23:41:42,154 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient$1@471] - connection [id: 0xdc1b86ef, L:/127.0.0.1:39210 - R:127.0.0.1/127.0.0.1:45523] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,155 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x58eef4ff, L:/127.0.0.1:36022 - R:127.0.0.1/127.0.0.1:38287]
2020-08-10 23:41:42,155 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38287
2020-08-10 23:41:42,156 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$1@471] - connection [id: 0xe6e38f02, L:/127.0.0.1:54626 - R:127.0.0.1/127.0.0.1:46359] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,156 - INFO  - [bookie-io-270-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,156 - INFO  - [bookie-io-270-2:BookieRequestHandler@50] - Channel connected  [id: 0xc5d98307, L:/127.0.0.1:38287 - R:/127.0.0.1:36022]
2020-08-10 23:41:42,156 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient$1@471] - connection [id: 0x58eef4ff, L:/127.0.0.1:36022 - R:127.0.0.1/127.0.0.1:38287] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,156 - INFO  - [bookie-io-330-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,157 - INFO  - [bookie-io-330-2:BookieRequestHandler@50] - Channel connected  [id: 0xc32e8910, L:/127.0.0.1:45523 - R:/127.0.0.1:39210]
2020-08-10 23:41:42,197 - INFO  - [Time-limited test:TestDelayEnsembleChange@214] - Kill bookie 0 and write 5 entries.
2020-08-10 23:41:42,201 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:42,201 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:42,202 - INFO  - [bookie-io-300-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x0d1333b9, L:/127.0.0.1:35173 ! R:/127.0.0.1:37506]
2020-08-10 23:41:42,202 - WARN  - [bookkeeper-io-256-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0x32bbd590, L:/127.0.0.1:37506 - R:127.0.0.1/127.0.0.1:35173] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:42,202 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x32bbd590, L:/127.0.0.1:37506 ! R:127.0.0.1/127.0.0.1:35173]
2020-08-10 23:41:42,209 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35173 with exitCode 0
2020-08-10 23:41:42,210 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:42,210 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:42,210 - INFO  - [SyncThread-305-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:42,211 - INFO  - [SyncThread-305-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1167098876860811209test/current/0.log for logId 0.
2020-08-10 23:41:42,212 - INFO  - [pool-215-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1167098876860811209test/current/1.log for logId 1.
2020-08-10 23:41:42,219 - INFO  - [SyncThread-305-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700881 , logFileOffset - 3072]}.
2020-08-10 23:41:42,223 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:42,224 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:42,224 - INFO  - [BookieJournal-35173:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:42,224 - INFO  - [BookieJournal-35173:Journal@1144] - Journal exited loop!
2020-08-10 23:41:42,225 - INFO  - [Bookie-35173:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:42,226 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:42,227 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:42,227 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:42,227 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:42,227 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:42,227 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:42,229 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:42,230 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:42,231 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:42,235 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:35173
2020-08-10 23:41:42,344 - ERROR - [bookkeeper-io-256-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xb910a3a7, L:/127.0.0.1:37516]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,350 - ERROR - [bookkeeper-io-256-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x2295854e, L:/127.0.0.1:37518]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,358 - ERROR - [bookkeeper-io-256-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x2bb895d9, L:/127.0.0.1:37520]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,365 - ERROR - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x54afc15e, L:/127.0.0.1:37522]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,373 - ERROR - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x11f83710, L:/127.0.0.1:37524]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,377 - INFO  - [Time-limited test:TestDelayEnsembleChange@232] - Kill bookie 1 and write another 5 entries.
2020-08-10 23:41:42,380 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:42,381 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:42,381 - WARN  - [bookkeeper-io-256-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0xe6e38f02, L:/127.0.0.1:54626 - R:127.0.0.1/127.0.0.1:46359] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:42,382 - INFO  - [bookie-io-290-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x62b2064e, L:/127.0.0.1:46359 ! R:/127.0.0.1:54626]
2020-08-10 23:41:42,382 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe6e38f02, L:/127.0.0.1:54626 ! R:127.0.0.1/127.0.0.1:46359]
2020-08-10 23:41:42,384 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46359 with exitCode 0
2020-08-10 23:41:42,384 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:42,384 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:42,384 - INFO  - [SyncThread-295-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:42,387 - INFO  - [SyncThread-295-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7850159396458055893test/current/0.log for logId 0.
2020-08-10 23:41:42,392 - INFO  - [pool-208-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7850159396458055893test/current/1.log for logId 1.
2020-08-10 23:41:42,400 - INFO  - [SyncThread-295-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700567 , logFileOffset - 5632]}.
2020-08-10 23:41:42,403 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:42,403 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:42,405 - INFO  - [BookieJournal-46359:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:42,405 - INFO  - [BookieJournal-46359:Journal@1144] - Journal exited loop!
2020-08-10 23:41:42,406 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:42,406 - INFO  - [Bookie-46359:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:42,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:42,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:42,406 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:42,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:42,406 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:42,416 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:42,416 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:42,416 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:42,424 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:46359
2020-08-10 23:41:42,528 - ERROR - [bookkeeper-io-256-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x7cfa1b77, L:/127.0.0.1:54644]/127.0.0.1:46359, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46359
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,528 - ERROR - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xdc7e7fb2, L:/127.0.0.1:37528]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,536 - ERROR - [bookkeeper-io-256-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xa058fd35, L:/127.0.0.1:54648]/127.0.0.1:46359, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46359
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,536 - ERROR - [bookkeeper-io-256-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd7f730c4, L:/127.0.0.1:37532]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,542 - ERROR - [bookkeeper-io-256-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x7bf27f72, L:/127.0.0.1:37534]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,543 - ERROR - [bookkeeper-io-256-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x88099213, L:/127.0.0.1:54654]/127.0.0.1:46359, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46359
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,549 - ERROR - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd843225d, L:/127.0.0.1:37538]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,549 - ERROR - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x48875a39, L:/127.0.0.1:54658]/127.0.0.1:46359, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46359
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,555 - ERROR - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x743aa4f5, L:/127.0.0.1:37542]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,555 - ERROR - [bookkeeper-io-256-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xaf3d4e00, L:/127.0.0.1:54662]/127.0.0.1:46359, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46359
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,565 - INFO  - [Time-limited test:TestDelayEnsembleChange@244] - Kill bookie 2 and write another 5 entries.
2020-08-10 23:41:42,567 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:42,567 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:42,568 - WARN  - [bookkeeper-io-256-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x590ede95, L:/127.0.0.1:45044 - R:127.0.0.1/127.0.0.1:45905] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:42,568 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x590ede95, L:/127.0.0.1:45044 ! R:127.0.0.1/127.0.0.1:45905]
2020-08-10 23:41:42,568 - INFO  - [bookie-io-260-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xa68f3695, L:/127.0.0.1:45905 ! R:/127.0.0.1:45044]
2020-08-10 23:41:42,575 - INFO  - [BookieDeathWatcher-46359:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:42,575 - INFO  - [BookieDeathWatcher-46359:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46359
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:42,575 - INFO  - [BookieDeathWatcher-46359:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:42,575 - INFO  - [BookieDeathWatcher-46359:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:42,578 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45905 with exitCode 0
2020-08-10 23:41:42,578 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:42,578 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:42,579 - INFO  - [SyncThread-265-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:42,579 - INFO  - [SyncThread-265-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14649612189388203546test/current/0.log for logId 0.
2020-08-10 23:41:42,587 - INFO  - [pool-187-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14649612189388203546test/current/1.log for logId 1.
2020-08-10 23:41:42,593 - INFO  - [SyncThread-265-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095699621 , logFileOffset - 8192]}.
2020-08-10 23:41:42,596 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:42,597 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:42,597 - INFO  - [BookieJournal-45905:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:42,597 - INFO  - [BookieJournal-45905:Journal@1144] - Journal exited loop!
2020-08-10 23:41:42,598 - INFO  - [Bookie-45905:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:42,598 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:42,598 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:42,599 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:42,599 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:42,599 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:42,599 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:42,601 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:42,601 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:42,602 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:42,607 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:45905
2020-08-10 23:41:42,709 - ERROR - [bookkeeper-io-256-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xeca41dde, L:/127.0.0.1:54668]/127.0.0.1:46359, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:46359
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,709 - ERROR - [bookkeeper-io-256-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x32a075ba, L:/127.0.0.1:37548]/127.0.0.1:35173, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:35173
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,714 - ERROR - [bookkeeper-io-256-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x75dc2ff4, L:/127.0.0.1:45086]/127.0.0.1:45905, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45905
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:42,716 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 15) to bookies {0=127.0.0.1:35173, 1=127.0.0.1:46359, 2=127.0.0.1:45905}, handling failures.
2020-08-10 23:41:42,717 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:46359
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:42,717 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:45905
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:42,718 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:35173 in ensemble: [127.0.0.1:35173, 127.0.0.1:46359, 127.0.0.1:45905, 127.0.0.1:45523, 127.0.0.1:38287] is not adhering to placement policy and chose 127.0.0.1:41657. excludedBookies [127.0.0.1:35173, 127.0.0.1:46359, 127.0.0.1:45905] and quarantinedBookies []
2020-08-10 23:41:42,718 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:45905
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:42,719 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:46359 in ensemble: [127.0.0.1:41657, 127.0.0.1:46359, 127.0.0.1:45905, 127.0.0.1:45523, 127.0.0.1:38287] is not adhering to placement policy and chose 127.0.0.1:37909. excludedBookies [127.0.0.1:35173, 127.0.0.1:46359, 127.0.0.1:45905] and quarantinedBookies []
2020-08-10 23:41:42,719 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:45905 in ensemble: [127.0.0.1:41657, 127.0.0.1:37909, 127.0.0.1:45905, 127.0.0.1:45523, 127.0.0.1:38287] is not adhering to placement policy and chose 127.0.0.1:39689. excludedBookies [127.0.0.1:35173, 127.0.0.1:46359, 127.0.0.1:45905] and quarantinedBookies []
2020-08-10 23:41:42,725 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1978] - New Ensemble: [127.0.0.1:41657, 127.0.0.1:37909, 127.0.0.1:39689, 127.0.0.1:45523, 127.0.0.1:38287] for ledger: 0
2020-08-10 23:41:42,726 - INFO  - [bookkeeper-io-256-8:PerChannelBookieClient$1@471] - connection null authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,727 - INFO  - [bookkeeper-io-256-8:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd88faa29, L:/127.0.0.1:53346 - R:127.0.0.1/127.0.0.1:41657]
2020-08-10 23:41:42,728 - INFO  - [bookkeeper-io-256-8:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41657
2020-08-10 23:41:42,727 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8c6e5656, L:/127.0.0.1:34910 - R:127.0.0.1/127.0.0.1:37909]
2020-08-10 23:41:42,728 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37909
2020-08-10 23:41:42,728 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$1@471] - connection [id: 0x8c6e5656, L:/127.0.0.1:34910 - R:127.0.0.1/127.0.0.1:37909] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,729 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$1@471] - connection null authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:42,729 - INFO  - [bookie-io-320-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,730 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x7b284f91, L:/127.0.0.1:47878 - R:127.0.0.1/127.0.0.1:39689]
2020-08-10 23:41:42,731 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39689
2020-08-10 23:41:42,731 - INFO  - [bookie-io-320-2:BookieRequestHandler@50] - Channel connected  [id: 0xd2730f49, L:/127.0.0.1:41657 - R:/127.0.0.1:53346]
2020-08-10 23:41:42,731 - INFO  - [bookie-io-280-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,732 - INFO  - [bookie-io-310-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:42,732 - INFO  - [bookie-io-280-2:BookieRequestHandler@50] - Channel connected  [id: 0xb6ce8b78, L:/127.0.0.1:39689 - R:/127.0.0.1:47878]
2020-08-10 23:41:42,732 - INFO  - [bookie-io-310-2:BookieRequestHandler@50] - Channel connected  [id: 0x2df7eabe, L:/127.0.0.1:37909 - R:/127.0.0.1:34910]
2020-08-10 23:41:42,761 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "35173",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1167098876860811209test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1167098876860811209test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:42,765 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:42,780 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:42,787 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:42,799 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:42,801 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:42,801 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:42,802 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:42,803 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:42,803 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:42,803 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:42,812 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35173 to become writable
2020-08-10 23:41:42,813 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095700881 from position 3072
2020-08-10 23:41:42,813 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1167098876860811209test/current/173da526991.txn
2020-08-10 23:41:42,813 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:42,814 - INFO  - [SyncThread-345-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700881 , logFileOffset - 3076]}.
2020-08-10 23:41:42,818 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:42,820 - INFO  - [BookieJournal-35173:Journal@909] - Starting journal on /tmp/bookie1167098876860811209test/current
2020-08-10 23:41:42,820 - INFO  - [BookieJournal-35173:JournalChannel@157] - Opening journal /tmp/bookie1167098876860811209test/current/173da526992.txn
2020-08-10 23:41:42,821 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:42,827 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35173
2020-08-10 23:41:42,890 - INFO  - [BookieDeathWatcher-35173:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:42,890 - INFO  - [BookieDeathWatcher-35173:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35173
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:42,890 - INFO  - [BookieDeathWatcher-35173:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:42,890 - INFO  - [BookieDeathWatcher-35173:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:43,077 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35173' has been created.
2020-08-10 23:41:43,077 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "46359",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7850159396458055893test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7850159396458055893test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:43,080 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:43,087 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:43,089 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:43,098 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:43,100 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:43,101 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:43,101 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:43,103 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:43,103 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:43,103 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:43,112 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46359 to become writable
2020-08-10 23:41:43,113 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095700567 from position 5632
2020-08-10 23:41:43,113 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie7850159396458055893test/current/173da526857.txn
2020-08-10 23:41:43,113 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:43,114 - INFO  - [SyncThread-355-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700567 , logFileOffset - 5636]}.
2020-08-10 23:41:43,118 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:43,120 - INFO  - [BookieJournal-46359:Journal@909] - Starting journal on /tmp/bookie7850159396458055893test/current
2020-08-10 23:41:43,121 - INFO  - [BookieJournal-46359:JournalChannel@157] - Opening journal /tmp/bookie7850159396458055893test/current/173da526858.txn
2020-08-10 23:41:43,122 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:43,128 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46359
2020-08-10 23:41:43,377 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46359' has been created.
2020-08-10 23:41:43,378 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "45905",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14649612189388203546test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46061/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14649612189388203546test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:43,381 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46061/ledgers : zkServers = localhost:46061, ledgersRootPath = /ledgers.
2020-08-10 23:41:43,386 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:43,389 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:43,406 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:43,407 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:43,408 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:43,408 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:43,410 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:43,410 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:43,410 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:43,431 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45905 to become writable
2020-08-10 23:41:43,432 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095699621 from position 8192
2020-08-10 23:41:43,432 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie14649612189388203546test/current/173da5264a5.txn
2020-08-10 23:41:43,433 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:43,434 - INFO  - [SyncThread-365-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095699621 , logFileOffset - 8196]}.
2020-08-10 23:41:43,438 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:43,439 - INFO  - [BookieJournal-45905:Journal@909] - Starting journal on /tmp/bookie14649612189388203546test/current
2020-08-10 23:41:43,440 - INFO  - [BookieJournal-45905:JournalChannel@157] - Opening journal /tmp/bookie14649612189388203546test/current/173da5264a6.txn
2020-08-10 23:41:43,440 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:43,448 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45905
2020-08-10 23:41:43,626 - INFO  - [BookieDeathWatcher-45905:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:43,626 - INFO  - [BookieDeathWatcher-45905:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45905
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:43,626 - INFO  - [BookieDeathWatcher-45905:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:43,627 - INFO  - [BookieDeathWatcher-45905:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:43,698 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45905' has been created.
2020-08-10 23:41:43,730 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x44c299be, L:/127.0.0.1:37566 - R:127.0.0.1/127.0.0.1:35173]
2020-08-10 23:41:43,730 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35173
2020-08-10 23:41:43,730 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x99b71631, L:/127.0.0.1:45100 - R:127.0.0.1/127.0.0.1:45905]
2020-08-10 23:41:43,731 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45905
2020-08-10 23:41:43,731 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient$1@471] - connection [id: 0x99b71631, L:/127.0.0.1:45100 - R:127.0.0.1/127.0.0.1:45905] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:43,731 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x89372d83, L:/127.0.0.1:54688 - R:127.0.0.1/127.0.0.1:46359]
2020-08-10 23:41:43,731 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:46359
2020-08-10 23:41:43,731 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient$1@471] - connection [id: 0x89372d83, L:/127.0.0.1:54688 - R:127.0.0.1/127.0.0.1:46359] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:43,732 - INFO  - [bookie-io-340-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:43,732 - INFO  - [bookie-io-360-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:43,732 - INFO  - [bookie-io-360-2:BookieRequestHandler@50] - Channel connected  [id: 0x93744b78, L:/127.0.0.1:45905 - R:/127.0.0.1:45100]
2020-08-10 23:41:43,731 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$1@471] - connection [id: 0x44c299be, L:/127.0.0.1:37566 - R:127.0.0.1/127.0.0.1:35173] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:43,733 - INFO  - [bookie-io-340-2:BookieRequestHandler@50] - Channel connected  [id: 0xca4eaba4, L:/127.0.0.1:35173 - R:/127.0.0.1:37566]
2020-08-10 23:41:43,736 - INFO  - [bookie-io-350-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:43,736 - INFO  - [bookie-io-350-2:BookieRequestHandler@50] - Channel connected  [id: 0xff5a0dc3, L:/127.0.0.1:46359 - R:/127.0.0.1:54688]
2020-08-10 23:41:43,748 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 5) from host 127.0.0.1:35173.
2020-08-10 23:41:43,750 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 6) from host 127.0.0.1:35173.
2020-08-10 23:41:43,752 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 7) from host 127.0.0.1:35173.
2020-08-10 23:41:43,754 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 8) from host 127.0.0.1:35173.
2020-08-10 23:41:43,755 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 9) from host 127.0.0.1:35173.
2020-08-10 23:41:43,756 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 10) from host 127.0.0.1:46359.
2020-08-10 23:41:43,756 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 10) from host 127.0.0.1:35173.
2020-08-10 23:41:43,758 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 11) from host 127.0.0.1:46359.
2020-08-10 23:41:43,758 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 11) from host 127.0.0.1:35173.
2020-08-10 23:41:43,759 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 12) from host 127.0.0.1:35173.
2020-08-10 23:41:43,759 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 12) from host 127.0.0.1:46359.
2020-08-10 23:41:43,761 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 13) from host 127.0.0.1:46359.
2020-08-10 23:41:43,761 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 13) from host 127.0.0.1:35173.
2020-08-10 23:41:43,763 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 14) from host 127.0.0.1:46359.
2020-08-10 23:41:43,763 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 14) from host 127.0.0.1:35173.
2020-08-10 23:41:43,789 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:41:43,789 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35173
2020-08-10 23:41:43,791 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:46359
2020-08-10 23:41:43,791 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x44c299be, L:/127.0.0.1:37566 ! R:127.0.0.1/127.0.0.1:35173]
2020-08-10 23:41:43,791 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x89372d83, L:/127.0.0.1:54688 ! R:127.0.0.1/127.0.0.1:46359]
2020-08-10 23:41:43,791 - INFO  - [bookie-io-340-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xca4eaba4, L:/127.0.0.1:35173 ! R:/127.0.0.1:37566]
2020-08-10 23:41:43,792 - INFO  - [bookie-io-350-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xff5a0dc3, L:/127.0.0.1:46359 ! R:/127.0.0.1:54688]
2020-08-10 23:41:43,792 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37909
2020-08-10 23:41:43,796 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8c6e5656, L:/127.0.0.1:34910 ! R:127.0.0.1/127.0.0.1:37909]
2020-08-10 23:41:43,796 - INFO  - [bookie-io-310-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x2df7eabe, L:/127.0.0.1:37909 ! R:/127.0.0.1:34910]
2020-08-10 23:41:43,796 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45905
2020-08-10 23:41:43,797 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x99b71631, L:/127.0.0.1:45100 ! R:127.0.0.1/127.0.0.1:45905]
2020-08-10 23:41:43,797 - INFO  - [bookie-io-360-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x93744b78, L:/127.0.0.1:45905 ! R:/127.0.0.1:45100]
2020-08-10 23:41:43,797 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45523
2020-08-10 23:41:43,798 - INFO  - [bookkeeper-io-256-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xdc1b86ef, L:/127.0.0.1:39210 ! R:127.0.0.1/127.0.0.1:45523]
2020-08-10 23:41:43,801 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41657
2020-08-10 23:41:43,801 - INFO  - [bookkeeper-io-256-8:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xd88faa29, L:/127.0.0.1:53346 ! R:127.0.0.1/127.0.0.1:41657]
2020-08-10 23:41:43,802 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39689
2020-08-10 23:41:43,802 - INFO  - [bookie-io-320-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xd2730f49, L:/127.0.0.1:41657 ! R:/127.0.0.1:53346]
2020-08-10 23:41:43,801 - INFO  - [bookie-io-330-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xc32e8910, L:/127.0.0.1:45523 ! R:/127.0.0.1:39210]
2020-08-10 23:41:43,803 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x7b284f91, L:/127.0.0.1:47878 ! R:127.0.0.1/127.0.0.1:39689]
2020-08-10 23:41:43,803 - INFO  - [bookie-io-280-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xb6ce8b78, L:/127.0.0.1:39689 ! R:/127.0.0.1:47878]
2020-08-10 23:41:43,803 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38287
2020-08-10 23:41:43,804 - INFO  - [bookkeeper-io-256-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x58eef4ff, L:/127.0.0.1:36022 ! R:127.0.0.1/127.0.0.1:38287]
2020-08-10 23:41:43,805 - INFO  - [bookie-io-270-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xc5d98307, L:/127.0.0.1:38287 ! R:/127.0.0.1:36022]
2020-08-10 23:41:43,820 - INFO  - [GarbageCollectorThread-346-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:43,820 - INFO  - [GarbageCollectorThread-346-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:43,821 - INFO  - [GarbageCollectorThread-346-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:43,821 - INFO  - [GarbageCollectorThread-346-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:43,912 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:43,913 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:43,916 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38287 with exitCode 0
2020-08-10 23:41:43,916 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:43,916 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:43,917 - INFO  - [SyncThread-275-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:43,918 - INFO  - [SyncThread-275-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10124564628457031259test/current/0.log for logId 0.
2020-08-10 23:41:43,920 - INFO  - [pool-194-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10124564628457031259test/current/1.log for logId 1.
2020-08-10 23:41:43,928 - INFO  - [SyncThread-275-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095699927 , logFileOffset - 13312]}.
2020-08-10 23:41:43,932 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:43,932 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:43,932 - INFO  - [BookieJournal-38287:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:43,932 - INFO  - [BookieJournal-38287:Journal@1144] - Journal exited loop!
2020-08-10 23:41:43,934 - INFO  - [Bookie-38287:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:43,934 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:43,935 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:43,935 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:43,935 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:43,935 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:43,935 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:43,937 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:43,938 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:43,938 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,043 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,044 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,065 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39689 with exitCode 0
2020-08-10 23:41:44,066 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,066 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,066 - INFO  - [SyncThread-285-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:44,067 - INFO  - [SyncThread-285-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11826431603046074934test/current/0.log for logId 0.
2020-08-10 23:41:44,069 - INFO  - [pool-201-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11826431603046074934test/current/1.log for logId 1.
2020-08-10 23:41:44,076 - INFO  - [SyncThread-285-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700252 , logFileOffset - 5632]}.
2020-08-10 23:41:44,080 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,081 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,081 - INFO  - [BookieJournal-39689:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,081 - INFO  - [BookieJournal-39689:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,082 - INFO  - [Bookie-39689:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,082 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,083 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,083 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,083 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,083 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,083 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,087 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,088 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,088 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,123 - INFO  - [GarbageCollectorThread-356-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:44,123 - INFO  - [GarbageCollectorThread-356-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:44,124 - INFO  - [GarbageCollectorThread-356-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:44,124 - INFO  - [GarbageCollectorThread-356-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:44,197 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,197 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,223 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37909 with exitCode 0
2020-08-10 23:41:44,223 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,223 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,223 - INFO  - [SyncThread-315-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:44,224 - INFO  - [SyncThread-315-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie9606947960075768009test/current/0.log for logId 0.
2020-08-10 23:41:44,226 - INFO  - [pool-222-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie9606947960075768009test/current/1.log for logId 1.
2020-08-10 23:41:44,234 - INFO  - [SyncThread-315-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095701197 , logFileOffset - 5632]}.
2020-08-10 23:41:44,237 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,237 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,238 - INFO  - [BookieJournal-37909:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,238 - INFO  - [BookieJournal-37909:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,238 - INFO  - [Bookie-37909:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,238 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,239 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,240 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,240 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,240 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,240 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,243 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,244 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,244 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,259 - INFO  - [BookieDeathWatcher-39689:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:44,259 - INFO  - [BookieDeathWatcher-39689:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39689
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:44,260 - INFO  - [BookieDeathWatcher-39689:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,260 - INFO  - [BookieDeathWatcher-39689:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,351 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,351 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,359 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41657 with exitCode 0
2020-08-10 23:41:44,359 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,359 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,359 - INFO  - [SyncThread-325-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:44,360 - INFO  - [SyncThread-325-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12185686037682819299test/current/0.log for logId 0.
2020-08-10 23:41:44,361 - INFO  - [pool-229-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12185686037682819299test/current/1.log for logId 1.
2020-08-10 23:41:44,368 - INFO  - [SyncThread-325-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095701513 , logFileOffset - 5632]}.
2020-08-10 23:41:44,372 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,373 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,373 - INFO  - [BookieJournal-41657:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,373 - INFO  - [BookieJournal-41657:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,373 - INFO  - [Bookie-41657:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,373 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,374 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,374 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,374 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,374 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,374 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,376 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,376 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,376 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,442 - INFO  - [GarbageCollectorThread-366-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:44,443 - INFO  - [GarbageCollectorThread-366-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:44,444 - INFO  - [GarbageCollectorThread-366-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:44,444 - INFO  - [GarbageCollectorThread-366-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:44,483 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,483 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,490 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45523 with exitCode 0
2020-08-10 23:41:44,490 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,490 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,490 - INFO  - [SyncThread-335-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:44,491 - INFO  - [SyncThread-335-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10225953086857981087test/current/0.log for logId 0.
2020-08-10 23:41:44,492 - INFO  - [pool-236-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10225953086857981087test/current/1.log for logId 1.
2020-08-10 23:41:44,499 - INFO  - [SyncThread-335-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095701844 , logFileOffset - 13312]}.
2020-08-10 23:41:44,502 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,502 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,503 - INFO  - [BookieJournal-45523:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,503 - INFO  - [BookieJournal-45523:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,503 - INFO  - [Bookie-45523:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,503 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,504 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,504 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,504 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,504 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,504 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,508 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,508 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,508 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,531 - INFO  - [BookieDeathWatcher-41657:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:44,531 - INFO  - [BookieDeathWatcher-41657:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41657
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:44,531 - INFO  - [BookieDeathWatcher-41657:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,531 - INFO  - [BookieDeathWatcher-41657:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,615 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,615 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,633 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35173 with exitCode 0
2020-08-10 23:41:44,633 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,633 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,633 - INFO  - [SyncThread-345-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700881 , logFileOffset - 3076]}.
2020-08-10 23:41:44,637 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,638 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,639 - INFO  - [BookieJournal-35173:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,640 - INFO  - [BookieJournal-35173:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,640 - INFO  - [Bookie-35173:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,640 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,641 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,641 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,641 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,641 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,641 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,641 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,642 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,642 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,746 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,746 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,757 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46359 with exitCode 0
2020-08-10 23:41:44,758 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,758 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,758 - INFO  - [SyncThread-355-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095700567 , logFileOffset - 5636]}.
2020-08-10 23:41:44,762 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,763 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,763 - INFO  - [BookieJournal-46359:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,764 - INFO  - [BookieJournal-46359:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,764 - INFO  - [Bookie-46359:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,764 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,764 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,764 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,764 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,764 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,764 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,765 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,765 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,765 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,828 - INFO  - [BookieDeathWatcher-35173:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:44,829 - INFO  - [BookieDeathWatcher-35173:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35173
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:44,829 - INFO  - [BookieDeathWatcher-35173:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,829 - INFO  - [BookieDeathWatcher-35173:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,852 - INFO  - [BookieDeathWatcher-45523:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:44,853 - INFO  - [BookieDeathWatcher-45523:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45523
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:44,853 - INFO  - [BookieDeathWatcher-45523:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,853 - INFO  - [BookieDeathWatcher-45523:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,873 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,873 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:44,882 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45905 with exitCode 0
2020-08-10 23:41:44,882 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:44,882 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:44,882 - INFO  - [SyncThread-365-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095699621 , logFileOffset - 8196]}.
2020-08-10 23:41:44,886 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:44,887 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:44,887 - INFO  - [BookieJournal-45905:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:44,887 - INFO  - [BookieJournal-45905:Journal@1144] - Journal exited loop!
2020-08-10 23:41:44,887 - INFO  - [Bookie-45905:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:44,887 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:44,888 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:44,888 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:44,888 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:44,888 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:44,888 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:44,888 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:44,889 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:44,889 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:44,940 - INFO  - [BookieDeathWatcher-38287:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:44,940 - INFO  - [BookieDeathWatcher-38287:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38287
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:44,940 - INFO  - [BookieDeathWatcher-38287:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:44,940 - INFO  - [BookieDeathWatcher-38287:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:45,111 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testChangeEnsembleIfBrokenAckQuorum in 1322 ms.
2020-08-10 23:41:45,120 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestDelayEnsembleChange
2020-08-10 23:41:45,128 - INFO  - [BookieDeathWatcher-46359:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:45,128 - INFO  - [BookieDeathWatcher-46359:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46359
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:45,129 - INFO  - [BookieDeathWatcher-46359:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:45,129 - INFO  - [BookieDeathWatcher-46359:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:45,146 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:45,153 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45945/ledgers : zkServers = localhost:45945, ledgersRootPath = /ledgers.
2020-08-10 23:41:45,157 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:45,159 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:41:45,160 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:41:45,160 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:41:45,160 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:41:45,166 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:45,167 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie5105834132807815387test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45945/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie5105834132807815387test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:45,170 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45945/ledgers : zkServers = localhost:45945, ledgersRootPath = /ledgers.
2020-08-10 23:41:45,174 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:45,176 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:45,182 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie5105834132807815387test/current] [/tmp/bookie5105834132807815387test/current]
2020-08-10 23:41:45,196 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:45,198 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie5105834132807815387test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:45,199 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:45,199 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:45,199 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:45,200 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:45,201 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:45,201 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:45,205 - INFO  - [BookieDeathWatcher-37909:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:45,205 - INFO  - [BookieDeathWatcher-37909:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37909
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:45,205 - INFO  - [BookieDeathWatcher-37909:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:45,205 - INFO  - [BookieDeathWatcher-37909:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:45,448 - INFO  - [BookieDeathWatcher-45905:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:45,448 - INFO  - [BookieDeathWatcher-45905:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45905
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:45,448 - INFO  - [BookieDeathWatcher-45905:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:45,448 - INFO  - [BookieDeathWatcher-45905:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:45,718 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42055 to become writable
2020-08-10 23:41:45,724 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:45,724 - INFO  - [SyncThread-381-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:45,729 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:45,736 - INFO  - [BookieJournal-42055:Journal@909] - Starting journal on /tmp/bookie5105834132807815387test/current
2020-08-10 23:41:45,737 - INFO  - [BookieJournal-42055:JournalChannel@157] - Opening journal /tmp/bookie5105834132807815387test/current/173da527c8a.txn
2020-08-10 23:41:45,737 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:45,746 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42055
2020-08-10 23:41:45,997 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42055' has been created.
2020-08-10 23:41:45,999 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:45,999 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7400737135062453112test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45945/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7400737135062453112test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:46,002 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45945/ledgers : zkServers = localhost:45945, ledgersRootPath = /ledgers.
2020-08-10 23:41:46,009 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:46,014 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:46,019 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7400737135062453112test/current] [/tmp/bookie7400737135062453112test/current]
2020-08-10 23:41:46,032 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:46,034 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7400737135062453112test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:46,034 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:46,034 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:46,035 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:46,036 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:46,036 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:46,036 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:46,047 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40551 to become writable
2020-08-10 23:41:46,047 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:46,050 - INFO  - [SyncThread-391-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:46,054 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:46,056 - INFO  - [BookieJournal-40551:Journal@909] - Starting journal on /tmp/bookie7400737135062453112test/current
2020-08-10 23:41:46,056 - INFO  - [BookieJournal-40551:JournalChannel@157] - Opening journal /tmp/bookie7400737135062453112test/current/173da527dc9.txn
2020-08-10 23:41:46,057 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:46,063 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40551
2020-08-10 23:41:46,319 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40551' has been created.
2020-08-10 23:41:46,322 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:46,322 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie325348462131163609test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45945/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie325348462131163609test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:46,325 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45945/ledgers : zkServers = localhost:45945, ledgersRootPath = /ledgers.
2020-08-10 23:41:46,330 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:46,335 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:46,341 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie325348462131163609test/current] [/tmp/bookie325348462131163609test/current]
2020-08-10 23:41:46,349 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:46,351 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie325348462131163609test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:46,351 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:46,351 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:46,352 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:46,353 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:46,353 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:46,353 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:46,363 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46033 to become writable
2020-08-10 23:41:46,364 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:46,365 - INFO  - [SyncThread-401-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:46,368 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:46,369 - INFO  - [BookieJournal-46033:Journal@909] - Starting journal on /tmp/bookie325348462131163609test/current
2020-08-10 23:41:46,370 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:46,370 - INFO  - [BookieJournal-46033:JournalChannel@157] - Opening journal /tmp/bookie325348462131163609test/current/173da527f03.txn
2020-08-10 23:41:46,378 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46033
2020-08-10 23:41:46,629 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46033' has been created.
2020-08-10 23:41:46,630 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:46,631 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1912613376360532728test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45945/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1912613376360532728test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:46,635 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45945/ledgers : zkServers = localhost:45945, ledgersRootPath = /ledgers.
2020-08-10 23:41:46,639 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:46,641 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:46,647 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1912613376360532728test/current] [/tmp/bookie1912613376360532728test/current]
2020-08-10 23:41:46,655 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:46,657 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1912613376360532728test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:46,657 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:46,657 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:46,658 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:46,659 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:46,659 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:46,660 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:46,683 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42953 to become writable
2020-08-10 23:41:46,685 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:46,687 - INFO  - [SyncThread-411-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:46,690 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:46,693 - INFO  - [BookieJournal-42953:Journal@909] - Starting journal on /tmp/bookie1912613376360532728test/current
2020-08-10 23:41:46,694 - INFO  - [BookieJournal-42953:JournalChannel@157] - Opening journal /tmp/bookie1912613376360532728test/current/173da528047.txn
2020-08-10 23:41:46,698 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:46,705 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42953
2020-08-10 23:41:46,961 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42953' has been created.
2020-08-10 23:41:46,964 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:46,964 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10570956744185322541test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45945/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10570956744185322541test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:46,967 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45945/ledgers : zkServers = localhost:45945, ledgersRootPath = /ledgers.
2020-08-10 23:41:46,974 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:46,976 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:46,982 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10570956744185322541test/current] [/tmp/bookie10570956744185322541test/current]
2020-08-10 23:41:46,988 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:46,989 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10570956744185322541test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:46,990 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:46,990 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:46,990 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:46,991 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:46,992 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:46,992 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:46,999 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36041 to become writable
2020-08-10 23:41:47,000 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:47,001 - INFO  - [SyncThread-421-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:47,005 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:47,006 - INFO  - [BookieJournal-36041:Journal@909] - Starting journal on /tmp/bookie10570956744185322541test/current
2020-08-10 23:41:47,008 - INFO  - [BookieJournal-36041:JournalChannel@157] - Opening journal /tmp/bookie10570956744185322541test/current/173da528181.txn
2020-08-10 23:41:47,009 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:47,016 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36041
2020-08-10 23:41:47,266 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36041' has been created.
2020-08-10 23:41:47,267 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testChangeEnsembleSecondBookieReadOnly @ metadata service zk://localhost:45945/ledgers in 2147 ms.
2020-08-10 23:41:47,267 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:42953, 127.0.0.1:46033, 127.0.0.1:40551] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:41:47,296 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:42953, 127.0.0.1:46033, 127.0.0.1:40551] for ledger: 0
2020-08-10 23:41:47,298 - INFO  - [bookkeeper-io-372-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xa9b3d954, L:/127.0.0.1:43344 - R:127.0.0.1/127.0.0.1:42953]
2020-08-10 23:41:47,298 - INFO  - [bookkeeper-io-372-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42953
2020-08-10 23:41:47,299 - INFO  - [bookkeeper-io-372-1:PerChannelBookieClient$1@471] - connection [id: 0xa9b3d954, L:/127.0.0.1:43344 - R:127.0.0.1/127.0.0.1:42953] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:47,299 - INFO  - [bookkeeper-io-372-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x378ab672, L:/127.0.0.1:42138 - R:127.0.0.1/127.0.0.1:46033]
2020-08-10 23:41:47,300 - INFO  - [bookkeeper-io-372-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:46033
2020-08-10 23:41:47,300 - INFO  - [bookie-io-396-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:47,300 - INFO  - [bookie-io-406-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:47,300 - INFO  - [bookie-io-406-2:BookieRequestHandler@50] - Channel connected  [id: 0xf0791d27, L:/127.0.0.1:42953 - R:/127.0.0.1:43344]
2020-08-10 23:41:47,302 - INFO  - [bookie-io-396-2:BookieRequestHandler@50] - Channel connected  [id: 0xa496c8bc, L:/127.0.0.1:46033 - R:/127.0.0.1:42138]
2020-08-10 23:41:47,300 - INFO  - [bookkeeper-io-372-2:PerChannelBookieClient$1@471] - connection [id: 0x378ab672, L:/127.0.0.1:42138 - R:127.0.0.1/127.0.0.1:46033] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:47,304 - INFO  - [bookkeeper-io-372-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x6f09dafe, L:/127.0.0.1:41894 - R:127.0.0.1/127.0.0.1:40551]
2020-08-10 23:41:47,304 - INFO  - [bookkeeper-io-372-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40551
2020-08-10 23:41:47,306 - INFO  - [bookkeeper-io-372-3:PerChannelBookieClient$1@471] - connection [id: 0x6f09dafe, L:/127.0.0.1:41894 - R:127.0.0.1/127.0.0.1:40551] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:47,309 - INFO  - [bookie-io-386-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:47,309 - INFO  - [bookie-io-386-2:BookieRequestHandler@50] - Channel connected  [id: 0xbbae0f48, L:/127.0.0.1:40551 - R:/127.0.0.1:41894]
2020-08-10 23:41:47,354 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:47,355 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:47,355 - WARN  - [bookkeeper-io-372-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0xa9b3d954, L:/127.0.0.1:43344 - R:127.0.0.1/127.0.0.1:42953] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:47,355 - INFO  - [bookkeeper-io-372-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xa9b3d954, L:/127.0.0.1:43344 ! R:127.0.0.1/127.0.0.1:42953]
2020-08-10 23:41:47,356 - INFO  - [bookie-io-406-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf0791d27, L:/127.0.0.1:42953 ! R:/127.0.0.1:43344]
2020-08-10 23:41:47,358 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42953 with exitCode 0
2020-08-10 23:41:47,358 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:47,358 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:47,359 - INFO  - [SyncThread-411-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:47,360 - INFO  - [SyncThread-411-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1912613376360532728test/current/0.log for logId 0.
2020-08-10 23:41:47,362 - INFO  - [pool-290-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1912613376360532728test/current/1.log for logId 1.
2020-08-10 23:41:47,377 - INFO  - [SyncThread-411-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095706695 , logFileOffset - 5632]}.
2020-08-10 23:41:47,380 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:47,380 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:47,381 - INFO  - [BookieJournal-42953:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:47,381 - INFO  - [BookieJournal-42953:Journal@1144] - Journal exited loop!
2020-08-10 23:41:47,381 - INFO  - [Bookie-42953:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:47,381 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:47,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:47,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:47,382 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:47,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:47,382 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:47,385 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:47,385 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:47,385 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:47,389 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:42953
2020-08-10 23:41:47,495 - ERROR - [bookkeeper-io-372-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xc158f61c, L:/127.0.0.1:43350]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,500 - ERROR - [bookkeeper-io-372-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x7da949cb, L:/127.0.0.1:43352]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,504 - ERROR - [bookkeeper-io-372-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x57d37c92, L:/127.0.0.1:43354]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,509 - ERROR - [bookkeeper-io-372-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x42760aac, L:/127.0.0.1:43356]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,514 - ERROR - [bookkeeper-io-372-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xbf776e17, L:/127.0.0.1:43358]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,521 - ERROR - [bookkeeper-io-372-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xf3bcc15b, L:/127.0.0.1:43360]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,531 - ERROR - [bookkeeper-io-372-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd922bb2d, L:/127.0.0.1:43362]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,535 - ERROR - [bookkeeper-io-372-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x19153c8a, L:/127.0.0.1:43364]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,540 - ERROR - [bookkeeper-io-372-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x51ba4504, L:/127.0.0.1:43366]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,545 - ERROR - [bookkeeper-io-372-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x9e9fa6af, L:/127.0.0.1:43368]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,550 - INFO  - [Time-limited test:BookieStateManager@331] - Transitioning Bookie to ReadOnly mode, and will serve only read requests from clients!
2020-08-10 23:41:47,561 - ERROR - [bookkeeper-io-372-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x659fc8cd, L:/127.0.0.1:43370]/127.0.0.1:42953, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:42953
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:47,562 - WARN  - [BookieWriteThreadPool-OrderedExecutor-0-0:WriteEntryProcessorV3@73] - BookieServer is running as readonly mode, so rejecting the request from the client!
2020-08-10 23:41:47,563 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:46033
2020-08-10 23:41:47,564 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 20) to bookies {0=127.0.0.1:42953, 1=127.0.0.1:46033}, handling failures.
2020-08-10 23:41:47,565 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:RackawareEnsemblePlacementPolicyImpl@1028] - Received exception while trying to get network location of bookie: 127.0.0.1:46033
java.lang.NullPointerException
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.isEnsembleAdheringToPlacementPolicy(RackawareEnsemblePlacementPolicyImpl.java:1021)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:489)
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117)
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:291)
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71)
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1926)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134)
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123)
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1945)
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1894)
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:367)
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.writeComplete(PerChannelBookieClient.java:2122)
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.handleResponse(PerChannelBookieClient.java:2179)
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.handleV3Response(PerChannelBookieClient.java:2168)
	at org.apache.bookkeeper.proto.PerChannelBookieClient$3.safeRun(PerChannelBookieClient.java:1446)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:41:47,565 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:42953 in ensemble: [127.0.0.1:42953, 127.0.0.1:46033, 127.0.0.1:40551] is not adhering to placement policy and chose 127.0.0.1:36041. excludedBookies [127.0.0.1:46033, 127.0.0.1:42953] and quarantinedBookies []
2020-08-10 23:41:47,565 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:46033 in ensemble: [127.0.0.1:36041, 127.0.0.1:46033, 127.0.0.1:40551] is not adhering to placement policy and chose 127.0.0.1:42055. excludedBookies [127.0.0.1:46033, 127.0.0.1:42953] and quarantinedBookies []
2020-08-10 23:41:47,569 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1978] - New Ensemble: [127.0.0.1:36041, 127.0.0.1:42055, 127.0.0.1:40551] for ledger: 0
2020-08-10 23:41:47,571 - INFO  - [bookie-io-416-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:47,571 - INFO  - [bookkeeper-io-372-7:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf87703ea, L:/127.0.0.1:47070 - R:127.0.0.1/127.0.0.1:36041]
2020-08-10 23:41:47,572 - INFO  - [bookkeeper-io-372-7:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36041
2020-08-10 23:41:47,571 - INFO  - [bookie-io-416-2:BookieRequestHandler@50] - Channel connected  [id: 0xbd85474f, L:/127.0.0.1:36041 - R:/127.0.0.1:47070]
2020-08-10 23:41:47,572 - INFO  - [bookkeeper-io-372-7:PerChannelBookieClient$1@471] - connection [id: 0xf87703ea, L:/127.0.0.1:47070 - R:127.0.0.1/127.0.0.1:36041] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:47,581 - INFO  - [bookkeeper-io-372-8:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x3ca7ef79, L:/127.0.0.1:59526 - R:127.0.0.1/127.0.0.1:42055]
2020-08-10 23:41:47,582 - INFO  - [bookkeeper-io-372-8:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42055
2020-08-10 23:41:47,581 - INFO  - [bookie-io-376-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:47,583 - INFO  - [bookkeeper-io-372-8:PerChannelBookieClient$1@471] - connection [id: 0x3ca7ef79, L:/127.0.0.1:59526 - R:127.0.0.1/127.0.0.1:42055] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:47,585 - INFO  - [bookie-io-376-2:BookieRequestHandler@50] - Channel connected  [id: 0xa504772d, L:/127.0.0.1:42055 - R:/127.0.0.1:59526]
2020-08-10 23:41:47,631 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:41:47,632 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40551
2020-08-10 23:41:47,632 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42055
2020-08-10 23:41:47,633 - INFO  - [bookie-io-386-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xbbae0f48, L:/127.0.0.1:40551 ! R:/127.0.0.1:41894]
2020-08-10 23:41:47,633 - INFO  - [bookkeeper-io-372-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x6f09dafe, L:/127.0.0.1:41894 ! R:127.0.0.1/127.0.0.1:40551]
2020-08-10 23:41:47,635 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:46033
2020-08-10 23:41:47,635 - INFO  - [bookkeeper-io-372-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x378ab672, L:/127.0.0.1:42138 ! R:127.0.0.1/127.0.0.1:46033]
2020-08-10 23:41:47,635 - INFO  - [bookkeeper-io-372-8:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x3ca7ef79, L:/127.0.0.1:59526 ! R:127.0.0.1/127.0.0.1:42055]
2020-08-10 23:41:47,636 - INFO  - [bookie-io-396-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xa496c8bc, L:/127.0.0.1:46033 ! R:/127.0.0.1:42138]
2020-08-10 23:41:47,636 - INFO  - [bookie-io-376-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xa504772d, L:/127.0.0.1:42055 ! R:/127.0.0.1:59526]
2020-08-10 23:41:47,635 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36041
2020-08-10 23:41:47,637 - INFO  - [bookkeeper-io-372-7:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf87703ea, L:/127.0.0.1:47070 ! R:127.0.0.1/127.0.0.1:36041]
2020-08-10 23:41:47,637 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42953
2020-08-10 23:41:47,639 - INFO  - [bookie-io-416-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xbd85474f, L:/127.0.0.1:36041 ! R:/127.0.0.1:47070]
2020-08-10 23:41:47,704 - INFO  - [BookieDeathWatcher-42953:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:47,705 - INFO  - [BookieDeathWatcher-42953:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42953
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:47,705 - INFO  - [BookieDeathWatcher-42953:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:47,705 - INFO  - [BookieDeathWatcher-42953:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:47,746 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:47,746 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:47,751 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42055 with exitCode 0
2020-08-10 23:41:47,752 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:47,752 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:47,752 - INFO  - [SyncThread-381-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:47,753 - INFO  - [SyncThread-381-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie5105834132807815387test/current/0.log for logId 0.
2020-08-10 23:41:47,758 - INFO  - [pool-269-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie5105834132807815387test/current/1.log for logId 1.
2020-08-10 23:41:47,773 - INFO  - [SyncThread-381-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095705738 , logFileOffset - 5632]}.
2020-08-10 23:41:47,776 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:47,777 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:47,778 - INFO  - [BookieJournal-42055:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:47,778 - INFO  - [BookieJournal-42055:Journal@1144] - Journal exited loop!
2020-08-10 23:41:47,778 - INFO  - [Bookie-42055:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:47,778 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:47,781 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:47,782 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:47,782 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:47,782 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:47,782 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:47,785 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:47,786 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:47,786 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:47,893 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:47,895 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:47,900 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40551 with exitCode 0
2020-08-10 23:41:47,900 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:47,900 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:47,900 - INFO  - [SyncThread-391-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:47,901 - INFO  - [SyncThread-391-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7400737135062453112test/current/0.log for logId 0.
2020-08-10 23:41:47,902 - INFO  - [pool-276-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7400737135062453112test/current/1.log for logId 1.
2020-08-10 23:41:47,911 - INFO  - [SyncThread-391-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095706057 , logFileOffset - 15872]}.
2020-08-10 23:41:47,915 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:47,915 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:47,916 - INFO  - [BookieJournal-40551:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:47,916 - INFO  - [BookieJournal-40551:Journal@1144] - Journal exited loop!
2020-08-10 23:41:47,916 - INFO  - [Bookie-40551:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:47,916 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:47,916 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:47,917 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:47,917 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:47,917 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:47,917 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:47,919 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:47,919 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:47,919 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:48,029 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:48,030 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:48,042 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46033 with exitCode 0
2020-08-10 23:41:48,042 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:48,043 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:48,043 - INFO  - [SyncThread-401-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:48,044 - INFO  - [SyncThread-401-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie325348462131163609test/current/0.log for logId 0.
2020-08-10 23:41:48,046 - INFO  - [pool-283-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie325348462131163609test/current/1.log for logId 1.
2020-08-10 23:41:48,053 - INFO  - [SyncThread-401-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095706371 , logFileOffset - 10752]}.
2020-08-10 23:41:48,057 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:48,057 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:48,057 - INFO  - [BookieJournal-46033:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:48,057 - INFO  - [BookieJournal-46033:Journal@1144] - Journal exited loop!
2020-08-10 23:41:48,058 - INFO  - [Bookie-46033:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:48,058 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:48,058 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:48,058 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:48,058 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:48,058 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:48,058 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:48,060 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:48,061 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:48,061 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:48,064 - INFO  - [BookieDeathWatcher-40551:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:48,064 - INFO  - [BookieDeathWatcher-40551:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40551
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:48,064 - INFO  - [BookieDeathWatcher-40551:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:48,064 - INFO  - [BookieDeathWatcher-40551:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:48,166 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:48,166 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:48,172 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36041 with exitCode 0
2020-08-10 23:41:48,172 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:48,172 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:48,173 - INFO  - [SyncThread-421-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:48,174 - INFO  - [SyncThread-421-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10570956744185322541test/current/0.log for logId 0.
2020-08-10 23:41:48,176 - INFO  - [pool-297-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10570956744185322541test/current/1.log for logId 1.
2020-08-10 23:41:48,189 - INFO  - [SyncThread-421-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095707009 , logFileOffset - 5632]}.
2020-08-10 23:41:48,193 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:48,193 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:48,193 - INFO  - [BookieJournal-36041:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:48,194 - INFO  - [BookieJournal-36041:Journal@1144] - Journal exited loop!
2020-08-10 23:41:48,194 - INFO  - [Bookie-36041:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:48,194 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:48,194 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:48,195 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:48,195 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:48,195 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:48,195 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:48,197 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:48,197 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:48,197 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:48,379 - INFO  - [BookieDeathWatcher-46033:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:48,379 - INFO  - [BookieDeathWatcher-46033:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46033
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:48,380 - INFO  - [BookieDeathWatcher-46033:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:48,380 - INFO  - [BookieDeathWatcher-46033:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:48,421 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testChangeEnsembleSecondBookieReadOnly in 789 ms.
2020-08-10 23:41:48,422 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestDelayEnsembleChange
2020-08-10 23:41:48,444 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:48,451 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:42289/ledgers : zkServers = localhost:42289, ledgersRootPath = /ledgers.
2020-08-10 23:41:48,456 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:48,459 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:41:48,459 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:41:48,459 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:41:48,459 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:41:48,473 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:48,473 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6596966096390206812test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:42289/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6596966096390206812test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:48,475 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:42289/ledgers : zkServers = localhost:42289, ledgersRootPath = /ledgers.
2020-08-10 23:41:48,479 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:48,482 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:48,487 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6596966096390206812test/current] [/tmp/bookie6596966096390206812test/current]
2020-08-10 23:41:48,497 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:48,499 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6596966096390206812test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:48,500 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:48,500 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:48,500 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:48,501 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:48,502 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:48,502 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:48,514 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42665 to become writable
2020-08-10 23:41:48,516 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:48,517 - INFO  - [SyncThread-437-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:48,521 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:48,522 - INFO  - [BookieJournal-42665:Journal@909] - Starting journal on /tmp/bookie6596966096390206812test/current
2020-08-10 23:41:48,523 - INFO  - [BookieJournal-42665:JournalChannel@157] - Opening journal /tmp/bookie6596966096390206812test/current/173da52876c.txn
2020-08-10 23:41:48,523 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:48,526 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42665
2020-08-10 23:41:48,746 - INFO  - [BookieDeathWatcher-42055:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:48,746 - INFO  - [BookieDeathWatcher-42055:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42055
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:48,746 - INFO  - [BookieDeathWatcher-42055:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:48,746 - INFO  - [BookieDeathWatcher-42055:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:48,779 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42665' has been created.
2020-08-10 23:41:48,785 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:48,785 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2443168863437244809test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:42289/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2443168863437244809test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:48,789 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:42289/ledgers : zkServers = localhost:42289, ledgersRootPath = /ledgers.
2020-08-10 23:41:49,016 - INFO  - [BookieDeathWatcher-36041:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:49,016 - INFO  - [BookieDeathWatcher-36041:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36041
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:49,017 - INFO  - [BookieDeathWatcher-36041:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:49,017 - INFO  - [BookieDeathWatcher-36041:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:49,301 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:49,304 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:49,313 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2443168863437244809test/current] [/tmp/bookie2443168863437244809test/current]
2020-08-10 23:41:49,320 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:49,321 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2443168863437244809test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:49,321 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:49,321 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:49,321 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:49,322 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:49,323 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:49,323 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:49,331 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:32783 to become writable
2020-08-10 23:41:49,332 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:49,333 - INFO  - [SyncThread-447-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:49,337 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:49,338 - INFO  - [BookieJournal-32783:Journal@909] - Starting journal on /tmp/bookie2443168863437244809test/current
2020-08-10 23:41:49,338 - INFO  - [BookieJournal-32783:JournalChannel@157] - Opening journal /tmp/bookie2443168863437244809test/current/173da528a9b.txn
2020-08-10 23:41:49,338 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:49,342 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:32783
2020-08-10 23:41:49,593 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:32783' has been created.
2020-08-10 23:41:49,594 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:49,595 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12363801704930176986test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:42289/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12363801704930176986test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:49,597 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:42289/ledgers : zkServers = localhost:42289, ledgersRootPath = /ledgers.
2020-08-10 23:41:49,609 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:49,611 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:49,616 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12363801704930176986test/current] [/tmp/bookie12363801704930176986test/current]
2020-08-10 23:41:49,630 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:49,632 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12363801704930176986test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:49,632 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:49,632 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:49,632 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:49,633 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:49,633 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:49,633 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:49,638 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35645 to become writable
2020-08-10 23:41:49,639 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:49,639 - INFO  - [SyncThread-457-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:49,642 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:49,643 - INFO  - [BookieJournal-35645:Journal@909] - Starting journal on /tmp/bookie12363801704930176986test/current
2020-08-10 23:41:49,643 - INFO  - [BookieJournal-35645:JournalChannel@157] - Opening journal /tmp/bookie12363801704930176986test/current/173da528bcc.txn
2020-08-10 23:41:49,644 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:49,649 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35645
2020-08-10 23:41:49,901 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35645' has been created.
2020-08-10 23:41:49,902 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:49,902 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10489732176811756366test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:42289/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10489732176811756366test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:49,905 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:42289/ledgers : zkServers = localhost:42289, ledgersRootPath = /ledgers.
2020-08-10 23:41:49,909 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:49,911 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:49,917 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10489732176811756366test/current] [/tmp/bookie10489732176811756366test/current]
2020-08-10 23:41:49,922 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:49,924 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10489732176811756366test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:49,924 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:49,925 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:49,926 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:49,927 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:49,927 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:49,927 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:49,934 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42315 to become writable
2020-08-10 23:41:49,935 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:49,936 - INFO  - [SyncThread-467-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:49,939 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:49,940 - INFO  - [BookieJournal-42315:Journal@909] - Starting journal on /tmp/bookie10489732176811756366test/current
2020-08-10 23:41:49,941 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:49,941 - INFO  - [BookieJournal-42315:JournalChannel@157] - Opening journal /tmp/bookie10489732176811756366test/current/173da528cf6.txn
2020-08-10 23:41:49,948 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42315
2020-08-10 23:41:50,198 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42315' has been created.
2020-08-10 23:41:50,201 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:50,201 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12781653170068375768test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:42289/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12781653170068375768test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:50,204 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:42289/ledgers : zkServers = localhost:42289, ledgersRootPath = /ledgers.
2020-08-10 23:41:50,207 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:50,217 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:50,224 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12781653170068375768test/current] [/tmp/bookie12781653170068375768test/current]
2020-08-10 23:41:50,232 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:50,233 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12781653170068375768test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:50,234 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:50,234 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:50,234 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:50,235 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:50,235 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:50,235 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:50,246 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45089 to become writable
2020-08-10 23:41:50,246 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:50,247 - INFO  - [SyncThread-477-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:50,251 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:50,252 - INFO  - [BookieJournal-45089:Journal@909] - Starting journal on /tmp/bookie12781653170068375768test/current
2020-08-10 23:41:50,252 - INFO  - [BookieJournal-45089:JournalChannel@157] - Opening journal /tmp/bookie12781653170068375768test/current/173da528e2d.txn
2020-08-10 23:41:50,253 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:50,259 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45089
2020-08-10 23:41:50,510 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45089' has been created.
2020-08-10 23:41:50,511 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testChangeEnsembleIfBookieReadOnly @ metadata service zk://localhost:42289/ledgers in 2088 ms.
2020-08-10 23:41:50,511 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:32783, 127.0.0.1:42315, 127.0.0.1:35645] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:41:50,537 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:32783, 127.0.0.1:42315, 127.0.0.1:35645] for ledger: 0
2020-08-10 23:41:50,539 - INFO  - [bookkeeper-io-428-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe06b37f6, L:/127.0.0.1:48894 - R:127.0.0.1/127.0.0.1:32783]
2020-08-10 23:41:50,540 - INFO  - [bookkeeper-io-428-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:32783
2020-08-10 23:41:50,540 - INFO  - [bookkeeper-io-428-1:PerChannelBookieClient$1@471] - connection [id: 0xe06b37f6, L:/127.0.0.1:48894 - R:127.0.0.1/127.0.0.1:32783] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:50,541 - INFO  - [bookkeeper-io-428-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xb4245ee8, L:/127.0.0.1:36668 - R:127.0.0.1/127.0.0.1:42315]
2020-08-10 23:41:50,541 - INFO  - [bookkeeper-io-428-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42315
2020-08-10 23:41:50,542 - INFO  - [bookkeeper-io-428-2:PerChannelBookieClient$1@471] - connection [id: 0xb4245ee8, L:/127.0.0.1:36668 - R:127.0.0.1/127.0.0.1:42315] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:50,543 - INFO  - [bookie-io-462-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:50,543 - INFO  - [bookie-io-462-2:BookieRequestHandler@50] - Channel connected  [id: 0x14ece3d5, L:/127.0.0.1:42315 - R:/127.0.0.1:36668]
2020-08-10 23:41:50,544 - INFO  - [bookie-io-442-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:50,545 - INFO  - [bookie-io-442-2:BookieRequestHandler@50] - Channel connected  [id: 0x1d46de4c, L:/127.0.0.1:32783 - R:/127.0.0.1:48894]
2020-08-10 23:41:50,568 - INFO  - [bookkeeper-io-428-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd3302eec, L:/127.0.0.1:33392 - R:127.0.0.1/127.0.0.1:35645]
2020-08-10 23:41:50,568 - INFO  - [bookkeeper-io-428-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35645
2020-08-10 23:41:50,568 - INFO  - [bookkeeper-io-428-3:PerChannelBookieClient$1@471] - connection [id: 0xd3302eec, L:/127.0.0.1:33392 - R:127.0.0.1/127.0.0.1:35645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:50,569 - INFO  - [bookie-io-452-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:50,570 - INFO  - [bookie-io-452-2:BookieRequestHandler@50] - Channel connected  [id: 0xfbdbf3e3, L:/127.0.0.1:35645 - R:/127.0.0.1:33392]
2020-08-10 23:41:50,627 - INFO  - [Time-limited test:BookieStateManager@331] - Transitioning Bookie to ReadOnly mode, and will serve only read requests from clients!
2020-08-10 23:41:50,637 - WARN  - [BookieWriteThreadPool-OrderedExecutor-0-0:WriteEntryProcessorV3@73] - BookieServer is running as readonly mode, so rejecting the request from the client!
2020-08-10 23:41:50,637 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:32783
2020-08-10 23:41:50,637 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@364] - Failed to write entry (0, 10) to bookies {0=127.0.0.1:32783}, handling failures.
2020-08-10 23:41:50,638 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:32783 in ensemble: [127.0.0.1:32783, 127.0.0.1:42315, 127.0.0.1:35645] is not adhering to placement policy and chose 127.0.0.1:45089. excludedBookies [127.0.0.1:32783] and quarantinedBookies []
2020-08-10 23:41:50,641 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1978] - New Ensemble: [127.0.0.1:45089, 127.0.0.1:42315, 127.0.0.1:35645] for ledger: 0
2020-08-10 23:41:50,646 - INFO  - [bookkeeper-io-428-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x9abe40be, L:/127.0.0.1:33370 - R:127.0.0.1/127.0.0.1:45089]
2020-08-10 23:41:50,646 - INFO  - [bookkeeper-io-428-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45089
2020-08-10 23:41:50,646 - INFO  - [bookkeeper-io-428-4:PerChannelBookieClient$1@471] - connection [id: 0x9abe40be, L:/127.0.0.1:33370 - R:127.0.0.1/127.0.0.1:45089] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:50,648 - INFO  - [bookie-io-472-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:50,648 - INFO  - [bookie-io-472-2:BookieRequestHandler@50] - Channel connected  [id: 0x35795e7a, L:/127.0.0.1:45089 - R:/127.0.0.1:33370]
2020-08-10 23:41:50,696 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:41:50,697 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42315
2020-08-10 23:41:50,697 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45089
2020-08-10 23:41:50,697 - INFO  - [bookie-io-462-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x14ece3d5, L:/127.0.0.1:42315 ! R:/127.0.0.1:36668]
2020-08-10 23:41:50,697 - INFO  - [bookkeeper-io-428-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xb4245ee8, L:/127.0.0.1:36668 ! R:127.0.0.1/127.0.0.1:42315]
2020-08-10 23:41:50,698 - INFO  - [bookkeeper-io-428-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x9abe40be, L:/127.0.0.1:33370 ! R:127.0.0.1/127.0.0.1:45089]
2020-08-10 23:41:50,698 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:32783
2020-08-10 23:41:50,699 - INFO  - [bookie-io-472-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x35795e7a, L:/127.0.0.1:45089 ! R:/127.0.0.1:33370]
2020-08-10 23:41:50,699 - INFO  - [bookkeeper-io-428-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe06b37f6, L:/127.0.0.1:48894 ! R:127.0.0.1/127.0.0.1:32783]
2020-08-10 23:41:50,699 - INFO  - [bookie-io-442-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x1d46de4c, L:/127.0.0.1:32783 ! R:/127.0.0.1:48894]
2020-08-10 23:41:50,700 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35645
2020-08-10 23:41:50,700 - INFO  - [bookkeeper-io-428-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xd3302eec, L:/127.0.0.1:33392 ! R:127.0.0.1/127.0.0.1:35645]
2020-08-10 23:41:50,701 - INFO  - [bookie-io-452-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xfbdbf3e3, L:/127.0.0.1:35645 ! R:/127.0.0.1:33392]
2020-08-10 23:41:50,813 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:50,814 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:50,817 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42665 with exitCode 0
2020-08-10 23:41:50,817 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:50,817 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:50,817 - INFO  - [SyncThread-437-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:50,821 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:50,822 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:50,822 - INFO  - [BookieJournal-42665:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:50,822 - INFO  - [BookieJournal-42665:Journal@1144] - Journal exited loop!
2020-08-10 23:41:50,822 - INFO  - [Bookie-42665:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:50,822 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:50,822 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:50,822 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:50,822 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:50,823 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:50,823 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:50,823 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:50,823 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:50,823 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:50,930 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:50,930 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:50,938 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-32783 with exitCode 0
2020-08-10 23:41:50,938 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:50,938 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:50,938 - INFO  - [SyncThread-447-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:50,939 - INFO  - [SyncThread-447-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2443168863437244809test/current/0.log for logId 0.
2020-08-10 23:41:50,940 - INFO  - [pool-316-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2443168863437244809test/current/1.log for logId 1.
2020-08-10 23:41:50,947 - INFO  - [SyncThread-447-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095709339 , logFileOffset - 5632]}.
2020-08-10 23:41:50,951 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:50,951 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:50,951 - INFO  - [BookieJournal-32783:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:50,951 - INFO  - [BookieJournal-32783:Journal@1144] - Journal exited loop!
2020-08-10 23:41:50,952 - INFO  - [Bookie-32783:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:50,952 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:50,952 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:50,952 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:50,952 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:50,952 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:50,952 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:50,954 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:50,955 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:50,955 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:51,059 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,061 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,085 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35645 with exitCode 0
2020-08-10 23:41:51,085 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:51,085 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:51,085 - INFO  - [SyncThread-457-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:51,086 - INFO  - [SyncThread-457-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12363801704930176986test/current/0.log for logId 0.
2020-08-10 23:41:51,087 - INFO  - [pool-323-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12363801704930176986test/current/1.log for logId 1.
2020-08-10 23:41:51,093 - INFO  - [SyncThread-457-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095709644 , logFileOffset - 10752]}.
2020-08-10 23:41:51,097 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:51,098 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:51,098 - INFO  - [BookieJournal-35645:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:51,098 - INFO  - [BookieJournal-35645:Journal@1144] - Journal exited loop!
2020-08-10 23:41:51,098 - INFO  - [Bookie-35645:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:51,098 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:51,099 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:51,099 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:51,099 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:51,099 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:51,099 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:51,103 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:51,103 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:51,103 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:51,212 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,212 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,221 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42315 with exitCode 0
2020-08-10 23:41:51,221 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:51,221 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:51,221 - INFO  - [SyncThread-467-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:51,223 - INFO  - [SyncThread-467-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10489732176811756366test/current/0.log for logId 0.
2020-08-10 23:41:51,224 - INFO  - [pool-330-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10489732176811756366test/current/1.log for logId 1.
2020-08-10 23:41:51,231 - INFO  - [SyncThread-467-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095709942 , logFileOffset - 11264]}.
2020-08-10 23:41:51,235 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:51,236 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:51,236 - INFO  - [BookieJournal-42315:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:51,236 - INFO  - [BookieJournal-42315:Journal@1144] - Journal exited loop!
2020-08-10 23:41:51,236 - INFO  - [Bookie-42315:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:51,236 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:51,237 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:51,237 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:51,237 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:51,237 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:51,237 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:51,239 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:51,239 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:51,240 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:51,344 - INFO  - [BookieDeathWatcher-32783:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:51,344 - INFO  - [BookieDeathWatcher-32783:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-32783
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:51,344 - INFO  - [BookieDeathWatcher-32783:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,344 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,344 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,344 - INFO  - [BookieDeathWatcher-32783:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,352 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45089 with exitCode 0
2020-08-10 23:41:51,352 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:51,353 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:51,353 - INFO  - [SyncThread-477-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:51,358 - INFO  - [SyncThread-477-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12781653170068375768test/current/0.log for logId 0.
2020-08-10 23:41:51,360 - INFO  - [pool-337-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12781653170068375768test/current/1.log for logId 1.
2020-08-10 23:41:51,367 - INFO  - [SyncThread-477-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095710253 , logFileOffset - 5632]}.
2020-08-10 23:41:51,370 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:51,370 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:51,371 - INFO  - [BookieJournal-45089:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:51,371 - INFO  - [BookieJournal-45089:Journal@1144] - Journal exited loop!
2020-08-10 23:41:51,371 - INFO  - [Bookie-45089:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:51,371 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:51,372 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:51,372 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:51,372 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:51,372 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:51,372 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:51,374 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:51,374 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:51,374 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:51,528 - INFO  - [BookieDeathWatcher-42665:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:51,528 - INFO  - [BookieDeathWatcher-42665:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42665
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:51,528 - INFO  - [BookieDeathWatcher-42665:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,528 - INFO  - [BookieDeathWatcher-42665:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,596 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testChangeEnsembleIfBookieReadOnly in 899 ms.
2020-08-10 23:41:51,598 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestDelayEnsembleChange
2020-08-10 23:41:51,612 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:51,619 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:51,625 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:51,628 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:41:51,628 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:41:51,628 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:41:51,628 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:41:51,635 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:51,635 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12138975688758526653test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12138975688758526653test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:51,637 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:51,642 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:51,644 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:51,650 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12138975688758526653test/current] [/tmp/bookie12138975688758526653test/current]
2020-08-10 23:41:51,650 - INFO  - [BookieDeathWatcher-35645:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:51,650 - INFO  - [BookieDeathWatcher-35645:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35645
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:51,650 - INFO  - [BookieDeathWatcher-35645:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,650 - INFO  - [BookieDeathWatcher-35645:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,661 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:51,662 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12138975688758526653test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:51,663 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:51,663 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:51,664 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:51,665 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:51,665 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:51,665 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:51,675 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37969 to become writable
2020-08-10 23:41:51,676 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:51,677 - INFO  - [SyncThread-493-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:51,680 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:51,682 - INFO  - [BookieJournal-37969:Journal@909] - Starting journal on /tmp/bookie12138975688758526653test/current
2020-08-10 23:41:51,682 - INFO  - [BookieJournal-37969:JournalChannel@157] - Opening journal /tmp/bookie12138975688758526653test/current/173da5293c3.txn
2020-08-10 23:41:51,683 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:51,690 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37969
2020-08-10 23:41:51,939 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37969' has been created.
2020-08-10 23:41:51,941 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:51,942 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14960451364595176670test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14960451364595176670test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:51,945 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:51,947 - INFO  - [BookieDeathWatcher-42315:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:51,947 - INFO  - [BookieDeathWatcher-42315:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42315
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:51,948 - INFO  - [BookieDeathWatcher-42315:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:51,948 - INFO  - [BookieDeathWatcher-42315:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:51,950 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:51,953 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:51,959 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14960451364595176670test/current] [/tmp/bookie14960451364595176670test/current]
2020-08-10 23:41:51,967 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:51,969 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14960451364595176670test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:51,969 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:51,969 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:51,969 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:51,970 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:51,971 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:51,971 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:51,995 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38067 to become writable
2020-08-10 23:41:51,996 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:51,996 - INFO  - [SyncThread-503-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:52,000 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:52,001 - INFO  - [BookieJournal-38067:Journal@909] - Starting journal on /tmp/bookie14960451364595176670test/current
2020-08-10 23:41:52,001 - INFO  - [BookieJournal-38067:JournalChannel@157] - Opening journal /tmp/bookie14960451364595176670test/current/173da529502.txn
2020-08-10 23:41:52,002 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:52,009 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38067
2020-08-10 23:41:52,264 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38067' has been created.
2020-08-10 23:41:52,266 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:52,266 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie977167367423266268test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie977167367423266268test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:52,273 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:52,279 - INFO  - [BookieDeathWatcher-45089:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:52,280 - INFO  - [BookieDeathWatcher-45089:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45089
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:52,280 - INFO  - [BookieDeathWatcher-45089:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:52,280 - INFO  - [BookieDeathWatcher-45089:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:52,281 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:52,283 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:52,289 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie977167367423266268test/current] [/tmp/bookie977167367423266268test/current]
2020-08-10 23:41:52,297 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:52,299 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie977167367423266268test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:52,299 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:52,300 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:52,300 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:52,301 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:52,301 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:52,302 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:52,317 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40581 to become writable
2020-08-10 23:41:52,320 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:52,320 - INFO  - [SyncThread-513-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:52,324 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:52,325 - INFO  - [BookieJournal-40581:Journal@909] - Starting journal on /tmp/bookie977167367423266268test/current
2020-08-10 23:41:52,326 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:52,326 - INFO  - [BookieJournal-40581:JournalChannel@157] - Opening journal /tmp/bookie977167367423266268test/current/173da529647.txn
2020-08-10 23:41:52,331 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40581
2020-08-10 23:41:52,586 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40581' has been created.
2020-08-10 23:41:52,588 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:52,589 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie435899910300247583test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie435899910300247583test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:52,591 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:52,597 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:52,599 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:52,605 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie435899910300247583test/current] [/tmp/bookie435899910300247583test/current]
2020-08-10 23:41:52,613 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:52,615 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie435899910300247583test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:52,615 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:52,615 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:52,616 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:52,617 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:52,618 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:52,618 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:52,629 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41373 to become writable
2020-08-10 23:41:52,630 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:52,631 - INFO  - [SyncThread-523-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:52,635 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:52,637 - INFO  - [BookieJournal-41373:Journal@909] - Starting journal on /tmp/bookie435899910300247583test/current
2020-08-10 23:41:52,638 - INFO  - [BookieJournal-41373:JournalChannel@157] - Opening journal /tmp/bookie435899910300247583test/current/173da52977f.txn
2020-08-10 23:41:52,638 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:52,642 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41373
2020-08-10 23:41:52,892 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41373' has been created.
2020-08-10 23:41:52,893 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:41:52,893 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7896280635057293271test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7896280635057293271test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:52,897 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:52,902 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:52,906 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:52,911 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7896280635057293271test/current] [/tmp/bookie7896280635057293271test/current]
2020-08-10 23:41:52,923 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:52,924 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7896280635057293271test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:41:52,925 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:52,925 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:52,925 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:52,926 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:52,927 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:52,927 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:52,946 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35161 to become writable
2020-08-10 23:41:52,946 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:52,947 - INFO  - [SyncThread-533-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:41:52,950 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:52,953 - INFO  - [BookieJournal-35161:Journal@909] - Starting journal on /tmp/bookie7896280635057293271test/current
2020-08-10 23:41:52,953 - INFO  - [BookieJournal-35161:JournalChannel@157] - Opening journal /tmp/bookie7896280635057293271test/current/173da5298ba.txn
2020-08-10 23:41:52,953 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:52,961 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35161
2020-08-10 23:41:53,211 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35161' has been created.
2020-08-10 23:41:53,213 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testNotChangeEnsembleIfNotBrokenAckQuorum @ metadata service zk://localhost:35559/ledgers in 1615 ms.
2020-08-10 23:41:53,214 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:40581, 127.0.0.1:41373, 127.0.0.1:38067, 127.0.0.1:35161, 127.0.0.1:37969] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:41:53,238 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:40581, 127.0.0.1:41373, 127.0.0.1:38067, 127.0.0.1:35161, 127.0.0.1:37969] for ledger: 0
2020-08-10 23:41:53,244 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x052e46d9, L:/127.0.0.1:46282 - R:127.0.0.1/127.0.0.1:41373]
2020-08-10 23:41:53,244 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41373
2020-08-10 23:41:53,244 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient$1@471] - connection [id: 0x052e46d9, L:/127.0.0.1:46282 - R:127.0.0.1/127.0.0.1:41373] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:53,245 - INFO  - [bookkeeper-io-484-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x0fefc7fa, L:/127.0.0.1:33406 - R:127.0.0.1/127.0.0.1:40581]
2020-08-10 23:41:53,245 - INFO  - [bookkeeper-io-484-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40581
2020-08-10 23:41:53,245 - INFO  - [bookkeeper-io-484-1:PerChannelBookieClient$1@471] - connection [id: 0x0fefc7fa, L:/127.0.0.1:33406 - R:127.0.0.1/127.0.0.1:40581] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:53,249 - INFO  - [bookie-io-518-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:53,250 - INFO  - [bookie-io-518-2:BookieRequestHandler@50] - Channel connected  [id: 0x3a1a60d6, L:/127.0.0.1:41373 - R:/127.0.0.1:46282]
2020-08-10 23:41:53,251 - INFO  - [bookie-io-508-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:53,251 - INFO  - [bookie-io-508-2:BookieRequestHandler@50] - Channel connected  [id: 0x2ba349f6, L:/127.0.0.1:40581 - R:/127.0.0.1:33406]
2020-08-10 23:41:53,254 - INFO  - [bookie-io-528-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:53,254 - INFO  - [bookie-io-528-2:BookieRequestHandler@50] - Channel connected  [id: 0x6b0a7863, L:/127.0.0.1:35161 - R:/127.0.0.1:44524]
2020-08-10 23:41:53,254 - INFO  - [bookie-io-498-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:53,255 - INFO  - [bookie-io-498-2:BookieRequestHandler@50] - Channel connected  [id: 0xa5e13393, L:/127.0.0.1:38067 - R:/127.0.0.1:37150]
2020-08-10 23:41:53,254 - INFO  - [bookkeeper-io-484-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x6a41abff, L:/127.0.0.1:44524 - R:127.0.0.1/127.0.0.1:35161]
2020-08-10 23:41:53,258 - INFO  - [bookkeeper-io-484-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35161
2020-08-10 23:41:53,254 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x218656a1, L:/127.0.0.1:37150 - R:127.0.0.1/127.0.0.1:38067]
2020-08-10 23:41:53,259 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38067
2020-08-10 23:41:53,256 - INFO  - [bookie-io-488-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:53,259 - INFO  - [bookie-io-488-2:BookieRequestHandler@50] - Channel connected  [id: 0xe82ab992, L:/127.0.0.1:37969 - R:/127.0.0.1:41840]
2020-08-10 23:41:53,256 - INFO  - [bookkeeper-io-484-5:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf4eb95c3, L:/127.0.0.1:41840 - R:127.0.0.1/127.0.0.1:37969]
2020-08-10 23:41:53,259 - INFO  - [bookkeeper-io-484-5:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37969
2020-08-10 23:41:53,259 - INFO  - [bookkeeper-io-484-5:PerChannelBookieClient$1@471] - connection [id: 0xf4eb95c3, L:/127.0.0.1:41840 - R:127.0.0.1/127.0.0.1:37969] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:53,259 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient$1@471] - connection [id: 0x218656a1, L:/127.0.0.1:37150 - R:127.0.0.1/127.0.0.1:38067] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:53,259 - INFO  - [bookkeeper-io-484-4:PerChannelBookieClient$1@471] - connection [id: 0x6a41abff, L:/127.0.0.1:44524 - R:127.0.0.1/127.0.0.1:35161] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:53,317 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:53,317 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:53,318 - WARN  - [bookkeeper-io-484-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0x0fefc7fa, L:/127.0.0.1:33406 - R:127.0.0.1/127.0.0.1:40581] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:53,319 - INFO  - [bookkeeper-io-484-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x0fefc7fa, L:/127.0.0.1:33406 ! R:127.0.0.1/127.0.0.1:40581]
2020-08-10 23:41:53,319 - INFO  - [bookie-io-508-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x2ba349f6, L:/127.0.0.1:40581 ! R:/127.0.0.1:33406]
2020-08-10 23:41:53,321 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40581 with exitCode 0
2020-08-10 23:41:53,321 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:53,321 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:53,321 - INFO  - [SyncThread-513-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:53,322 - INFO  - [SyncThread-513-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie977167367423266268test/current/0.log for logId 0.
2020-08-10 23:41:53,327 - INFO  - [pool-363-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie977167367423266268test/current/1.log for logId 1.
2020-08-10 23:41:53,341 - INFO  - [SyncThread-513-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095712327 , logFileOffset - 5632]}.
2020-08-10 23:41:53,344 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:53,345 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:53,345 - INFO  - [BookieJournal-40581:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:53,345 - INFO  - [BookieJournal-40581:Journal@1144] - Journal exited loop!
2020-08-10 23:41:53,345 - INFO  - [Bookie-40581:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:53,345 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:53,346 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:53,346 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:53,346 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:53,346 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:53,346 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:53,348 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:53,349 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:53,349 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:53,353 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40581
2020-08-10 23:41:53,457 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:53,457 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:53,458 - WARN  - [bookkeeper-io-484-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x052e46d9, L:/127.0.0.1:46282 - R:127.0.0.1/127.0.0.1:41373] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:41:53,458 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x052e46d9, L:/127.0.0.1:46282 ! R:127.0.0.1/127.0.0.1:41373]
2020-08-10 23:41:53,458 - INFO  - [bookie-io-518-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x3a1a60d6, L:/127.0.0.1:41373 ! R:/127.0.0.1:46282]
2020-08-10 23:41:53,460 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41373 with exitCode 0
2020-08-10 23:41:53,460 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:53,460 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:53,461 - INFO  - [SyncThread-523-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:53,462 - INFO  - [SyncThread-523-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie435899910300247583test/current/0.log for logId 0.
2020-08-10 23:41:53,463 - INFO  - [pool-370-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie435899910300247583test/current/1.log for logId 1.
2020-08-10 23:41:53,479 - INFO  - [SyncThread-523-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095712639 , logFileOffset - 5632]}.
2020-08-10 23:41:53,483 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:53,483 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:53,483 - INFO  - [BookieJournal-41373:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:53,483 - INFO  - [BookieJournal-41373:Journal@1144] - Journal exited loop!
2020-08-10 23:41:53,484 - INFO  - [Bookie-41373:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:53,484 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:53,484 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:53,484 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:53,484 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:53,484 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:53,484 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:53,487 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:53,487 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:53,487 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:53,491 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41373
2020-08-10 23:41:53,600 - ERROR - [bookkeeper-io-484-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x339439a2, L:/127.0.0.1:46292]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,602 - ERROR - [bookkeeper-io-484-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xb36b068d, L:/127.0.0.1:33418]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,611 - ERROR - [bookkeeper-io-484-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xb686d232, L:/127.0.0.1:33420]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,612 - ERROR - [bookkeeper-io-484-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x388fe510, L:/127.0.0.1:46298]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,616 - ERROR - [bookkeeper-io-484-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xa70eabc0, L:/127.0.0.1:33424]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,618 - ERROR - [bookkeeper-io-484-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xe1783b2c, L:/127.0.0.1:46302]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,623 - ERROR - [bookkeeper-io-484-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x44cef25b, L:/127.0.0.1:33428]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,626 - ERROR - [bookkeeper-io-484-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x4a2c900e, L:/127.0.0.1:46306]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,630 - ERROR - [bookkeeper-io-484-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x3735acd4, L:/127.0.0.1:33432]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,630 - ERROR - [bookkeeper-io-484-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x0a22f0f6, L:/127.0.0.1:46310]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,636 - ERROR - [bookkeeper-io-484-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x12c45fec, L:/127.0.0.1:46312]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,636 - ERROR - [bookkeeper-io-484-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xc199f9b9, L:/127.0.0.1:33436]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,642 - INFO  - [BookieDeathWatcher-41373:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:53,642 - INFO  - [BookieDeathWatcher-41373:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41373
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:53,643 - INFO  - [BookieDeathWatcher-41373:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:53,643 - INFO  - [BookieDeathWatcher-41373:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:53,644 - ERROR - [bookkeeper-io-484-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xfeeb1334, L:/127.0.0.1:46316]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,644 - ERROR - [bookkeeper-io-484-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd73d7b66, L:/127.0.0.1:33442]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,650 - ERROR - [bookkeeper-io-484-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xa2a9384a, L:/127.0.0.1:33444]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,650 - ERROR - [bookkeeper-io-484-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xe9999e03, L:/127.0.0.1:46320]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,654 - ERROR - [bookkeeper-io-484-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd066df00, L:/127.0.0.1:33448]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,654 - ERROR - [bookkeeper-io-484-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd4de1460, L:/127.0.0.1:46326]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,659 - ERROR - [bookkeeper-io-484-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xc7c8965a, L:/127.0.0.1:46330]/127.0.0.1:41373, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41373
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,660 - ERROR - [bookkeeper-io-484-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xdf0bc7e5, L:/127.0.0.1:33452]/127.0.0.1:40581, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40581
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:41:53,664 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40581",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie977167367423266268test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie977167367423266268test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:53,668 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:53,672 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:53,675 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:53,683 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:53,685 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:53,686 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:53,686 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:53,687 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:53,687 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:53,688 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:53,694 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40581 to become writable
2020-08-10 23:41:53,694 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095712327 from position 5632
2020-08-10 23:41:53,694 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie977167367423266268test/current/173da529647.txn
2020-08-10 23:41:53,694 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:41:53,695 - INFO  - [SyncThread-543-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095712327 , logFileOffset - 5636]}.
2020-08-10 23:41:53,699 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:53,699 - INFO  - [BookieJournal-40581:Journal@909] - Starting journal on /tmp/bookie977167367423266268test/current
2020-08-10 23:41:53,700 - INFO  - [BookieJournal-40581:JournalChannel@157] - Opening journal /tmp/bookie977167367423266268test/current/173da529648.txn
2020-08-10 23:41:53,700 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:53,706 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40581
2020-08-10 23:41:53,956 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40581' has been created.
2020-08-10 23:41:53,957 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "41373",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie435899910300247583test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie435899910300247583test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:41:53,960 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:41:53,965 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:41:53,970 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:41:53,978 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:41:53,980 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:41:53,980 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:41:53,980 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:41:53,981 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:41:53,982 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:41:53,982 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:41:53,997 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41373 to become writable
2020-08-10 23:41:53,999 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095712639 from position 5632
2020-08-10 23:41:53,999 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie435899910300247583test/current/173da52977f.txn
2020-08-10 23:41:53,999 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:41:53,999 - INFO  - [SyncThread-553-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095712639 , logFileOffset - 5636]}.
2020-08-10 23:41:54,003 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:41:54,004 - INFO  - [BookieJournal-41373:Journal@909] - Starting journal on /tmp/bookie435899910300247583test/current
2020-08-10 23:41:54,006 - INFO  - [BookieJournal-41373:JournalChannel@157] - Opening journal /tmp/bookie435899910300247583test/current/173da529780.txn
2020-08-10 23:41:54,006 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:41:54,009 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41373
2020-08-10 23:41:54,261 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41373' has been created.
2020-08-10 23:41:54,262 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd5d59a19, L:/127.0.0.1:33460 - R:127.0.0.1/127.0.0.1:40581]
2020-08-10 23:41:54,262 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40581
2020-08-10 23:41:54,262 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient$1@471] - connection [id: 0xd5d59a19, L:/127.0.0.1:33460 - R:127.0.0.1/127.0.0.1:40581] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:54,262 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xfbd4f19a, L:/127.0.0.1:46338 - R:127.0.0.1/127.0.0.1:41373]
2020-08-10 23:41:54,262 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41373
2020-08-10 23:41:54,263 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient$1@471] - connection [id: 0xfbd4f19a, L:/127.0.0.1:46338 - R:127.0.0.1/127.0.0.1:41373] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:41:54,263 - INFO  - [bookie-io-548-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:54,263 - INFO  - [bookie-io-548-2:BookieRequestHandler@50] - Channel connected  [id: 0x7a684509, L:/127.0.0.1:41373 - R:/127.0.0.1:46338]
2020-08-10 23:41:54,266 - INFO  - [bookie-io-538-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:41:54,266 - INFO  - [bookie-io-538-2:BookieRequestHandler@50] - Channel connected  [id: 0xf3f1b32d, L:/127.0.0.1:40581 - R:/127.0.0.1:33460]
2020-08-10 23:41:54,331 - INFO  - [BookieDeathWatcher-40581:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:54,331 - INFO  - [BookieDeathWatcher-40581:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40581
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:54,331 - INFO  - [BookieDeathWatcher-40581:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:54,331 - INFO  - [BookieDeathWatcher-40581:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:54,352 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 10) from host 127.0.0.1:40581.
2020-08-10 23:41:54,353 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 10) from host 127.0.0.1:41373.
2020-08-10 23:41:54,354 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 11) from host 127.0.0.1:40581.
2020-08-10 23:41:54,356 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 11) from host 127.0.0.1:41373.
2020-08-10 23:41:54,357 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 12) from host 127.0.0.1:40581.
2020-08-10 23:41:54,357 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 12) from host 127.0.0.1:41373.
2020-08-10 23:41:54,358 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 13) from host 127.0.0.1:40581.
2020-08-10 23:41:54,359 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 13) from host 127.0.0.1:41373.
2020-08-10 23:41:54,359 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 14) from host 127.0.0.1:40581.
2020-08-10 23:41:54,360 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 14) from host 127.0.0.1:41373.
2020-08-10 23:41:54,361 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 15) from host 127.0.0.1:40581.
2020-08-10 23:41:54,362 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 15) from host 127.0.0.1:41373.
2020-08-10 23:41:54,362 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 16) from host 127.0.0.1:40581.
2020-08-10 23:41:54,363 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 16) from host 127.0.0.1:41373.
2020-08-10 23:41:54,365 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 17) from host 127.0.0.1:40581.
2020-08-10 23:41:54,366 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 17) from host 127.0.0.1:41373.
2020-08-10 23:41:54,367 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 18) from host 127.0.0.1:40581.
2020-08-10 23:41:54,367 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 18) from host 127.0.0.1:41373.
2020-08-10 23:41:54,368 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 19) from host 127.0.0.1:40581.
2020-08-10 23:41:54,369 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:TestDelayEnsembleChange$VerificationCallback@91] - Missed entry(0, 19) from host 127.0.0.1:41373.
2020-08-10 23:41:54,381 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:41:54,381 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37969
2020-08-10 23:41:54,383 - INFO  - [bookkeeper-io-484-5:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf4eb95c3, L:/127.0.0.1:41840 ! R:127.0.0.1/127.0.0.1:37969]
2020-08-10 23:41:54,383 - INFO  - [bookie-io-488-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe82ab992, L:/127.0.0.1:37969 ! R:/127.0.0.1:41840]
2020-08-10 23:41:54,383 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40581
2020-08-10 23:41:54,383 - INFO  - [bookkeeper-io-484-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xd5d59a19, L:/127.0.0.1:33460 ! R:127.0.0.1/127.0.0.1:40581]
2020-08-10 23:41:54,383 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35161
2020-08-10 23:41:54,384 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41373
2020-08-10 23:41:54,384 - INFO  - [bookie-io-538-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf3f1b32d, L:/127.0.0.1:40581 ! R:/127.0.0.1:33460]
2020-08-10 23:41:54,384 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xfbd4f19a, L:/127.0.0.1:46338 ! R:127.0.0.1/127.0.0.1:41373]
2020-08-10 23:41:54,384 - INFO  - [bookkeeper-io-484-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x6a41abff, L:/127.0.0.1:44524 ! R:127.0.0.1/127.0.0.1:35161]
2020-08-10 23:41:54,385 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38067
2020-08-10 23:41:54,385 - INFO  - [bookie-io-548-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x7a684509, L:/127.0.0.1:41373 ! R:/127.0.0.1:46338]
2020-08-10 23:41:54,384 - INFO  - [bookie-io-528-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x6b0a7863, L:/127.0.0.1:35161 ! R:/127.0.0.1:44524]
2020-08-10 23:41:54,386 - INFO  - [bookkeeper-io-484-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x218656a1, L:/127.0.0.1:37150 ! R:127.0.0.1/127.0.0.1:38067]
2020-08-10 23:41:54,386 - INFO  - [bookie-io-498-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xa5e13393, L:/127.0.0.1:38067 ! R:/127.0.0.1:37150]
2020-08-10 23:41:54,492 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:54,492 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:54,494 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37969 with exitCode 0
2020-08-10 23:41:54,495 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:54,495 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:54,495 - INFO  - [SyncThread-493-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:54,496 - INFO  - [SyncThread-493-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12138975688758526653test/current/0.log for logId 0.
2020-08-10 23:41:54,497 - INFO  - [pool-349-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12138975688758526653test/current/1.log for logId 1.
2020-08-10 23:41:54,504 - INFO  - [SyncThread-493-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095711683 , logFileOffset - 15872]}.
2020-08-10 23:41:54,508 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:54,508 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:54,508 - INFO  - [BookieJournal-37969:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:54,508 - INFO  - [BookieJournal-37969:Journal@1144] - Journal exited loop!
2020-08-10 23:41:54,508 - INFO  - [Bookie-37969:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:54,508 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:54,509 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:54,509 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:54,509 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:54,509 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:54,509 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:54,511 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:54,511 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:54,511 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:54,623 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:54,623 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:54,627 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38067 with exitCode 0
2020-08-10 23:41:54,627 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:54,628 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:54,628 - INFO  - [SyncThread-503-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:54,630 - INFO  - [SyncThread-503-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14960451364595176670test/current/0.log for logId 0.
2020-08-10 23:41:54,631 - INFO  - [pool-356-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14960451364595176670test/current/1.log for logId 1.
2020-08-10 23:41:54,638 - INFO  - [SyncThread-503-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095712002 , logFileOffset - 15872]}.
2020-08-10 23:41:54,641 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:54,642 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:54,642 - INFO  - [BookieJournal-38067:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:54,642 - INFO  - [BookieJournal-38067:Journal@1144] - Journal exited loop!
2020-08-10 23:41:54,642 - INFO  - [Bookie-38067:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:54,642 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:54,642 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:54,643 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:54,643 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:54,643 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:54,643 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:54,645 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:54,645 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:54,645 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:54,690 - INFO  - [BookieDeathWatcher-37969:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:41:54,691 - INFO  - [BookieDeathWatcher-37969:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37969
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:41:54,691 - INFO  - [BookieDeathWatcher-37969:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:54,691 - INFO  - [BookieDeathWatcher-37969:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:54,699 - INFO  - [GarbageCollectorThread-544-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:41:54,700 - INFO  - [GarbageCollectorThread-544-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:41:54,701 - INFO  - [GarbageCollectorThread-544-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:41:54,701 - INFO  - [GarbageCollectorThread-544-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:41:54,750 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:54,751 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:54,754 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35161 with exitCode 0
2020-08-10 23:41:54,755 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:54,755 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:41:54,755 - INFO  - [SyncThread-533-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:41:54,756 - INFO  - [SyncThread-533-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7896280635057293271test/current/0.log for logId 0.
2020-08-10 23:41:54,761 - INFO  - [pool-377-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7896280635057293271test/current/1.log for logId 1.
2020-08-10 23:41:54,764 - INFO  - [SyncThread-533-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095712954 , logFileOffset - 15872]}.
2020-08-10 23:41:54,776 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:41:54,776 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:41:54,776 - INFO  - [BookieJournal-35161:Journal@1135] - Journal exits when shutting down
2020-08-10 23:41:54,776 - INFO  - [BookieJournal-35161:Journal@1144] - Journal exited loop!
2020-08-10 23:41:54,776 - INFO  - [Bookie-35161:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:41:54,776 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:41:54,777 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:41:54,777 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:41:54,777 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:41:54,777 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:41:54,777 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:41:54,783 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:41:54,783 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:41:54,783 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:41:54,891 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:41:54,892 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:41:54,896 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40581 with exitCode 0
2020-08-10 23:41:54,896 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:41:54,896 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
