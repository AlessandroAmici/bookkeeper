2020-08-10 23:42:02,443 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestReadLastConfirmedLongPoll
2020-08-10 23:42:02,845 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:03,015 - INFO  - [Time-limited test:MetadataDrivers@105] - BookKeeper metadata driver manager initialized
2020-08-10 23:42:03,023 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:03,056 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:03,163 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:42:03,203 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:42:03,203 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:42:03,209 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:42:03,275 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:03,474 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11712415310623799836test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11712415310623799836test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:03,675 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:03,690 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:03,703 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:03,722 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11712415310623799836test/current] [/tmp/bookie11712415310623799836test/current]
2020-08-10 23:42:03,866 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:03,886 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11712415310623799836test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:03,888 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:03,916 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:03,926 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:03,933 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:03,942 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:03,943 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:03,983 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39251 to become writable
2020-08-10 23:42:03,994 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 3 ms.
2020-08-10 23:42:03,997 - INFO  - [SyncThread-13-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:04,002 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:04,004 - INFO  - [BookieJournal-39251:Journal@909] - Starting journal on /tmp/bookie11712415310623799836test/current
2020-08-10 23:42:04,008 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:04,010 - INFO  - [BookieJournal-39251:JournalChannel@157] - Opening journal /tmp/bookie11712415310623799836test/current/173da52c3e9.txn
2020-08-10 23:42:04,047 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39251
2020-08-10 23:42:04,300 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39251' has been created.
2020-08-10 23:42:04,303 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:04,305 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2339136110230769023test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2339136110230769023test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:04,310 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:04,318 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:04,329 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:04,345 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2339136110230769023test/current] [/tmp/bookie2339136110230769023test/current]
2020-08-10 23:42:04,358 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:04,361 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2339136110230769023test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:04,362 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:04,362 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:04,363 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:04,365 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:04,365 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:04,365 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:04,390 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37575 to become writable
2020-08-10 23:42:04,391 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:04,392 - INFO  - [SyncThread-23-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:04,396 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:04,403 - INFO  - [BookieJournal-37575:Journal@909] - Starting journal on /tmp/bookie2339136110230769023test/current
2020-08-10 23:42:04,407 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:04,407 - INFO  - [BookieJournal-37575:JournalChannel@157] - Opening journal /tmp/bookie2339136110230769023test/current/173da52c578.txn
2020-08-10 23:42:04,419 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37575
2020-08-10 23:42:04,668 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37575' has been created.
2020-08-10 23:42:04,671 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:04,672 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10749406435019078815test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10749406435019078815test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:04,677 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:04,706 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:04,713 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:04,724 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10749406435019078815test/current] [/tmp/bookie10749406435019078815test/current]
2020-08-10 23:42:04,734 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:04,738 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10749406435019078815test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:04,738 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:04,739 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:04,739 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:04,741 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:04,742 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:04,742 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:04,762 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46065 to become writable
2020-08-10 23:42:04,763 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:04,764 - INFO  - [SyncThread-33-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:04,769 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:04,771 - INFO  - [BookieJournal-46065:Journal@909] - Starting journal on /tmp/bookie10749406435019078815test/current
2020-08-10 23:42:04,771 - INFO  - [BookieJournal-46065:JournalChannel@157] - Opening journal /tmp/bookie10749406435019078815test/current/173da52c6e4.txn
2020-08-10 23:42:04,774 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:04,786 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46065
2020-08-10 23:42:05,035 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46065' has been created.
2020-08-10 23:42:05,039 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:05,040 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1438006317293909237test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1438006317293909237test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:05,046 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:05,053 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:05,059 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:05,070 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1438006317293909237test/current] [/tmp/bookie1438006317293909237test/current]
2020-08-10 23:42:05,082 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:05,084 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1438006317293909237test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:05,084 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:05,085 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:05,085 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:05,088 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:05,088 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:05,088 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:05,107 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41759 to become writable
2020-08-10 23:42:05,108 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:05,109 - INFO  - [SyncThread-43-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:05,113 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:05,115 - INFO  - [BookieJournal-41759:Journal@909] - Starting journal on /tmp/bookie1438006317293909237test/current
2020-08-10 23:42:05,115 - INFO  - [BookieJournal-41759:JournalChannel@157] - Opening journal /tmp/bookie1438006317293909237test/current/173da52c83c.txn
2020-08-10 23:42:05,116 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:05,127 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41759
2020-08-10 23:42:05,380 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41759' has been created.
2020-08-10 23:42:05,383 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:05,384 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie4503693064982266283test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie4503693064982266283test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:05,390 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:05,396 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:05,405 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:05,418 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie4503693064982266283test/current] [/tmp/bookie4503693064982266283test/current]
2020-08-10 23:42:05,430 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:05,432 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie4503693064982266283test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:05,432 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:05,433 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:05,433 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:05,434 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:05,435 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:05,435 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:05,460 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33207 to become writable
2020-08-10 23:42:05,461 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:05,462 - INFO  - [SyncThread-53-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:05,466 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:05,468 - INFO  - [BookieJournal-33207:Journal@909] - Starting journal on /tmp/bookie4503693064982266283test/current
2020-08-10 23:42:05,468 - INFO  - [BookieJournal-33207:JournalChannel@157] - Opening journal /tmp/bookie4503693064982266283test/current/173da52c99d.txn
2020-08-10 23:42:05,469 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:05,477 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33207
2020-08-10 23:42:05,733 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33207' has been created.
2020-08-10 23:42:05,736 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:05,736 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16975853123524172460test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16975853123524172460test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:05,742 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:05,756 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:05,768 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:05,779 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16975853123524172460test/current] [/tmp/bookie16975853123524172460test/current]
2020-08-10 23:42:05,796 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:05,799 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16975853123524172460test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:05,799 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:05,800 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:05,801 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:05,802 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:05,802 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:05,802 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:05,817 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40411 to become writable
2020-08-10 23:42:05,820 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:05,821 - INFO  - [SyncThread-63-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:05,825 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:05,826 - INFO  - [BookieJournal-40411:Journal@909] - Starting journal on /tmp/bookie16975853123524172460test/current
2020-08-10 23:42:05,826 - INFO  - [BookieJournal-40411:JournalChannel@157] - Opening journal /tmp/bookie16975853123524172460test/current/173da52cb03.txn
2020-08-10 23:42:05,828 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:05,836 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40411
2020-08-10 23:42:06,092 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40411' has been created.
2020-08-10 23:42:06,094 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadLACLongPollWhenSomeBookiesDown[0] @ metadata service zk://localhost:38361/ledgers in 3613 ms.
2020-08-10 23:42:06,112 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:40411, 127.0.0.1:33207, 127.0.0.1:41759] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:42:06,183 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:40411, 127.0.0.1:33207, 127.0.0.1:41759] for ledger: 0
2020-08-10 23:42:06,298 - INFO  - [bookie-io-48-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:06,298 - INFO  - [bookie-io-58-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:06,299 - INFO  - [bookie-io-38-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:06,310 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x7428858c, L:/127.0.0.1:49484 - R:127.0.0.1/127.0.0.1:33207]
2020-08-10 23:42:06,310 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x5c559530, L:/127.0.0.1:46148 - R:127.0.0.1/127.0.0.1:40411]
2020-08-10 23:42:06,312 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40411
2020-08-10 23:42:06,311 - INFO  - [bookie-io-58-2:BookieRequestHandler@50] - Channel connected  [id: 0x2093fbb5, L:/127.0.0.1:40411 - R:/127.0.0.1:46148]
2020-08-10 23:42:06,311 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x7a96e4cb, L:/127.0.0.1:45330 - R:127.0.0.1/127.0.0.1:41759]
2020-08-10 23:42:06,312 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41759
2020-08-10 23:42:06,311 - INFO  - [bookie-io-48-2:BookieRequestHandler@50] - Channel connected  [id: 0x34dd4b08, L:/127.0.0.1:33207 - R:/127.0.0.1:49484]
2020-08-10 23:42:06,310 - INFO  - [bookie-io-38-2:BookieRequestHandler@50] - Channel connected  [id: 0x5a69adcb, L:/127.0.0.1:41759 - R:/127.0.0.1:45330]
2020-08-10 23:42:06,311 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33207
2020-08-10 23:42:06,337 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient$1@471] - connection [id: 0x7428858c, L:/127.0.0.1:49484 - R:127.0.0.1/127.0.0.1:33207] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:06,337 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$1@471] - connection [id: 0x7a96e4cb, L:/127.0.0.1:45330 - R:127.0.0.1/127.0.0.1:41759] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:06,341 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient$1@471] - connection [id: 0x5c559530, L:/127.0.0.1:46148 - R:127.0.0.1/127.0.0.1:40411] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:06,421 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:06,424 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16975853123524172460test/current/0.log for logId 0.
2020-08-10 23:42:06,430 - INFO  - [pool-39-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16975853123524172460test/current/1.log for logId 1.
2020-08-10 23:42:06,442 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:06,443 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie4503693064982266283test/current/0.log for logId 0.
2020-08-10 23:42:06,453 - INFO  - [pool-33-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie4503693064982266283test/current/1.log for logId 1.
2020-08-10 23:42:06,462 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:06,465 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1438006317293909237test/current/0.log for logId 0.
2020-08-10 23:42:06,469 - INFO  - [pool-27-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1438006317293909237test/current/1.log for logId 1.
2020-08-10 23:42:06,481 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:06,481 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:06,484 - WARN  - [bookkeeper-io-3-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x7428858c, L:/127.0.0.1:49484 - R:127.0.0.1/127.0.0.1:33207] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:06,484 - INFO  - [bookie-io-48-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x34dd4b08, L:/127.0.0.1:33207 ! R:/127.0.0.1:49484]
2020-08-10 23:42:06,485 - INFO  - [bookkeeper-io-3-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x7428858c, L:/127.0.0.1:49484 ! R:127.0.0.1/127.0.0.1:33207]
2020-08-10 23:42:06,807 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33207 with exitCode 0
2020-08-10 23:42:06,808 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:06,808 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:06,824 - INFO  - [SyncThread-53-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725469 , logFileOffset - 1024]}.
2020-08-10 23:42:06,828 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:06,829 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:06,830 - INFO  - [BookieJournal-33207:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:06,830 - INFO  - [BookieJournal-33207:Journal@1144] - Journal exited loop!
2020-08-10 23:42:06,831 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:06,831 - INFO  - [Bookie-33207:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:06,833 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:06,834 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:06,834 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:06,834 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:06,834 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:06,837 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:06,850 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:06,851 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:06,858 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33207
2020-08-10 23:42:06,971 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:06,972 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:06,973 - WARN  - [bookkeeper-io-3-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x7a96e4cb, L:/127.0.0.1:45330 - R:127.0.0.1/127.0.0.1:41759] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:06,973 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x7a96e4cb, L:/127.0.0.1:45330 ! R:127.0.0.1/127.0.0.1:41759]
2020-08-10 23:42:06,973 - INFO  - [bookie-io-38-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x5a69adcb, L:/127.0.0.1:41759 ! R:/127.0.0.1:45330]
2020-08-10 23:42:06,998 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41759 with exitCode 0
2020-08-10 23:42:06,998 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:06,998 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:07,010 - INFO  - [SyncThread-43-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725116 , logFileOffset - 1024]}.
2020-08-10 23:42:07,014 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:07,014 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:07,015 - INFO  - [BookieJournal-41759:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:07,015 - INFO  - [BookieJournal-41759:Journal@1144] - Journal exited loop!
2020-08-10 23:42:07,016 - INFO  - [Bookie-41759:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:07,016 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:07,020 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:07,021 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:07,021 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:07,021 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:07,021 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:07,024 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:07,028 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:07,028 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:07,167 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41759
2020-08-10 23:42:07,168 - ERROR - [bookkeeper-io-3-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x32c31841, L:/127.0.0.1:45338]/127.0.0.1:41759, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41759
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:07,169 - ERROR - [bookkeeper-io-3-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x3b48a04c, L:/127.0.0.1:49490]/127.0.0.1:33207, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33207
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:07,193 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "33207",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie4503693064982266283test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie4503693064982266283test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:07,199 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:07,207 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:07,211 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:07,235 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:07,238 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:07,239 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:07,240 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:07,241 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:07,242 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:07,242 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:07,264 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33207 to become writable
2020-08-10 23:42:07,265 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725469 from position 1024
2020-08-10 23:42:07,267 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie4503693064982266283test/current/173da52c99d.txn
2020-08-10 23:42:07,267 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 2 ms.
2020-08-10 23:42:07,268 - INFO  - [SyncThread-73-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725469 , logFileOffset - 1028]}.
2020-08-10 23:42:07,272 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:07,275 - INFO  - [BookieJournal-33207:Journal@909] - Starting journal on /tmp/bookie4503693064982266283test/current
2020-08-10 23:42:07,276 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:07,276 - INFO  - [BookieJournal-33207:JournalChannel@157] - Opening journal /tmp/bookie4503693064982266283test/current/173da52c99e.txn
2020-08-10 23:42:07,284 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33207
2020-08-10 23:42:07,477 - INFO  - [BookieDeathWatcher-33207:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:07,477 - INFO  - [BookieDeathWatcher-33207:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33207
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:07,478 - INFO  - [BookieDeathWatcher-33207:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:07,478 - INFO  - [BookieDeathWatcher-33207:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:07,532 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33207' has been created.
2020-08-10 23:42:07,533 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "41759",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1438006317293909237test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1438006317293909237test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:07,539 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:07,544 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:07,549 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:07,563 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:07,565 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:07,566 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:07,567 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:07,571 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:07,571 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:07,571 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:07,586 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41759 to become writable
2020-08-10 23:42:07,586 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725116 from position 1024
2020-08-10 23:42:07,587 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1438006317293909237test/current/173da52c83c.txn
2020-08-10 23:42:07,587 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:07,588 - INFO  - [SyncThread-83-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725116 , logFileOffset - 1028]}.
2020-08-10 23:42:07,592 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:07,593 - INFO  - [BookieJournal-41759:Journal@909] - Starting journal on /tmp/bookie1438006317293909237test/current
2020-08-10 23:42:07,596 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:07,598 - INFO  - [BookieJournal-41759:JournalChannel@157] - Opening journal /tmp/bookie1438006317293909237test/current/173da52c83d.txn
2020-08-10 23:42:07,605 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41759
2020-08-10 23:42:07,855 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41759' has been created.
2020-08-10 23:42:07,862 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:07,862 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:07,892 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41759 with exitCode 0
2020-08-10 23:42:07,892 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:07,892 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:07,893 - INFO  - [SyncThread-83-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725116 , logFileOffset - 1028]}.
2020-08-10 23:42:07,897 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:07,898 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:07,899 - INFO  - [BookieJournal-41759:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:07,899 - INFO  - [BookieJournal-41759:Journal@1144] - Journal exited loop!
2020-08-10 23:42:07,900 - INFO  - [Bookie-41759:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:07,900 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:07,900 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:07,901 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:07,901 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:07,901 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:07,901 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:07,901 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:07,902 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:07,902 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:07,911 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41759
2020-08-10 23:42:08,021 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:08,021 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:08,022 - WARN  - [bookkeeper-io-3-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0x5c559530, L:/127.0.0.1:46148 - R:127.0.0.1/127.0.0.1:40411] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:08,022 - INFO  - [bookkeeper-io-3-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x5c559530, L:/127.0.0.1:46148 ! R:127.0.0.1/127.0.0.1:40411]
2020-08-10 23:42:08,024 - INFO  - [bookie-io-58-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x2093fbb5, L:/127.0.0.1:40411 ! R:/127.0.0.1:46148]
2020-08-10 23:42:08,037 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40411 with exitCode 0
2020-08-10 23:42:08,038 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:08,038 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:08,046 - INFO  - [SyncThread-63-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725827 , logFileOffset - 1024]}.
2020-08-10 23:42:08,049 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:08,050 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:08,050 - INFO  - [BookieJournal-40411:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:08,050 - INFO  - [BookieJournal-40411:Journal@1144] - Journal exited loop!
2020-08-10 23:42:08,050 - INFO  - [Bookie-40411:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:08,051 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:08,051 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:08,051 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:08,051 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:08,052 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:08,052 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:08,057 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:08,059 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:08,060 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:08,068 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40411
2020-08-10 23:42:08,127 - INFO  - [BookieDeathWatcher-41759:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:08,127 - INFO  - [BookieDeathWatcher-41759:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41759
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:08,127 - INFO  - [BookieDeathWatcher-41759:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:08,127 - INFO  - [BookieDeathWatcher-41759:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:08,184 - ERROR - [bookkeeper-io-3-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x765377d8, L:/127.0.0.1:46162]/127.0.0.1:40411, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40411
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:08,185 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8bf2613e, L:/127.0.0.1:49500 - R:127.0.0.1/127.0.0.1:33207]
2020-08-10 23:42:08,192 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33207
2020-08-10 23:42:08,194 - ERROR - [bookkeeper-io-3-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xa19ff63d, L:/127.0.0.1:45348]/127.0.0.1:41759, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41759
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:08,194 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient$1@471] - connection [id: 0x8bf2613e, L:/127.0.0.1:49500 - R:127.0.0.1/127.0.0.1:33207] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:08,199 - INFO  - [bookie-io-68-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:08,199 - INFO  - [bookie-io-68-2:BookieRequestHandler@50] - Channel connected  [id: 0x633fb126, L:/127.0.0.1:33207 - R:/127.0.0.1:49500]
2020-08-10 23:42:08,207 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "41759",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1438006317293909237test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1438006317293909237test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:08,213 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:08,218 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:08,222 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:08,234 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:08,236 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:08,236 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:08,238 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:08,239 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:08,239 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:08,240 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:08,251 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41759 to become writable
2020-08-10 23:42:08,253 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725116 from position 1028
2020-08-10 23:42:08,253 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1438006317293909237test/current/173da52c83c.txn
2020-08-10 23:42:08,253 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725117 from position 0
2020-08-10 23:42:08,253 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1438006317293909237test/current/173da52c83d.txn
2020-08-10 23:42:08,254 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:08,254 - INFO  - [SyncThread-93-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725117 , logFileOffset - 516]}.
2020-08-10 23:42:08,259 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:08,261 - INFO  - [BookieJournal-41759:Journal@909] - Starting journal on /tmp/bookie1438006317293909237test/current
2020-08-10 23:42:08,262 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:08,262 - INFO  - [BookieJournal-41759:JournalChannel@157] - Opening journal /tmp/bookie1438006317293909237test/current/173da52c83e.txn
2020-08-10 23:42:08,268 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41759
2020-08-10 23:42:08,273 - INFO  - [GarbageCollectorThread-74-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:08,275 - INFO  - [GarbageCollectorThread-74-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:08,281 - INFO  - [GarbageCollectorThread-74-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:08,282 - INFO  - [GarbageCollectorThread-74-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:08,517 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41759' has been created.
2020-08-10 23:42:08,518 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40411",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16975853123524172460test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16975853123524172460test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:08,523 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:08,530 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:08,535 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:08,547 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:08,549 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:08,550 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:08,550 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:08,552 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:08,552 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:08,552 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:08,565 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40411 to become writable
2020-08-10 23:42:08,566 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725827 from position 1024
2020-08-10 23:42:08,566 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie16975853123524172460test/current/173da52cb03.txn
2020-08-10 23:42:08,566 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:08,567 - INFO  - [SyncThread-103-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725827 , logFileOffset - 1028]}.
2020-08-10 23:42:08,571 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:08,574 - INFO  - [BookieJournal-40411:Journal@909] - Starting journal on /tmp/bookie16975853123524172460test/current
2020-08-10 23:42:08,575 - INFO  - [BookieJournal-40411:JournalChannel@157] - Opening journal /tmp/bookie16975853123524172460test/current/173da52cb04.txn
2020-08-10 23:42:08,575 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:08,582 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40411
2020-08-10 23:42:08,604 - INFO  - [BookieDeathWatcher-41759:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:08,604 - INFO  - [BookieDeathWatcher-41759:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41759
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:08,604 - INFO  - [BookieDeathWatcher-41759:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:08,604 - INFO  - [BookieDeathWatcher-41759:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:08,836 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40411' has been created.
2020-08-10 23:42:08,837 - INFO  - [BookieDeathWatcher-40411:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:08,838 - INFO  - [BookieDeathWatcher-40411:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40411
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:08,838 - INFO  - [BookieDeathWatcher-40411:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:08,838 - INFO  - [BookieDeathWatcher-40411:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:08,844 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:08,845 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:08,882 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40411 with exitCode 0
2020-08-10 23:42:08,882 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:08,883 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:08,883 - INFO  - [SyncThread-103-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725827 , logFileOffset - 1028]}.
2020-08-10 23:42:08,894 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:08,895 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:08,895 - INFO  - [BookieJournal-40411:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:08,895 - INFO  - [BookieJournal-40411:Journal@1144] - Journal exited loop!
2020-08-10 23:42:08,896 - INFO  - [Bookie-40411:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:08,896 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:08,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:08,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:08,897 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:08,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:08,898 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:08,898 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:08,898 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:08,898 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:08,908 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40411
2020-08-10 23:42:09,016 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:09,016 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:09,017 - WARN  - [bookkeeper-io-3-7:PerChannelBookieClient@1270] - Exception caught on:[id: 0x8bf2613e, L:/127.0.0.1:49500 - R:127.0.0.1/127.0.0.1:33207] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:09,017 - INFO  - [bookkeeper-io-3-7:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8bf2613e, L:/127.0.0.1:49500 ! R:127.0.0.1/127.0.0.1:33207]
2020-08-10 23:42:09,018 - INFO  - [bookie-io-68-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x633fb126, L:/127.0.0.1:33207 ! R:/127.0.0.1:49500]
2020-08-10 23:42:09,021 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33207 with exitCode 0
2020-08-10 23:42:09,021 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:09,021 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:09,022 - INFO  - [SyncThread-73-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725469 , logFileOffset - 1028]}.
2020-08-10 23:42:09,025 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:09,026 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:09,026 - INFO  - [BookieJournal-33207:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:09,026 - INFO  - [BookieJournal-33207:Journal@1144] - Journal exited loop!
2020-08-10 23:42:09,027 - INFO  - [Bookie-33207:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:09,027 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:09,028 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:09,028 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:09,028 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:09,029 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:09,029 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:09,029 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:09,031 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:09,031 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:09,037 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33207
2020-08-10 23:42:09,146 - ERROR - [bookkeeper-io-3-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x6e558cb9, L:/127.0.0.1:46172]/127.0.0.1:40411, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40411
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:09,155 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf47d7ba4, L:/127.0.0.1:45356 - R:127.0.0.1/127.0.0.1:41759]
2020-08-10 23:42:09,155 - ERROR - [bookkeeper-io-3-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xed127468, L:/127.0.0.1:49510]/127.0.0.1:33207, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33207
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:09,155 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41759
2020-08-10 23:42:09,156 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient$1@471] - connection [id: 0xf47d7ba4, L:/127.0.0.1:45356 - R:127.0.0.1/127.0.0.1:41759] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:09,159 - INFO  - [bookie-io-88-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:09,159 - INFO  - [bookie-io-88-2:BookieRequestHandler@50] - Channel connected  [id: 0x4efca6ec, L:/127.0.0.1:41759 - R:/127.0.0.1:45356]
2020-08-10 23:42:09,164 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40411",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16975853123524172460test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16975853123524172460test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:09,169 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:09,261 - INFO  - [GarbageCollectorThread-94-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:09,262 - INFO  - [GarbageCollectorThread-94-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:09,263 - INFO  - [GarbageCollectorThread-94-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:09,264 - INFO  - [GarbageCollectorThread-94-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:09,664 - INFO  - [BookieDeathWatcher-40411:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:09,665 - INFO  - [BookieDeathWatcher-40411:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40411
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:09,666 - INFO  - [BookieDeathWatcher-40411:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:09,666 - INFO  - [BookieDeathWatcher-40411:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:09,667 - INFO  - [BookieDeathWatcher-33207:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:09,667 - INFO  - [BookieDeathWatcher-33207:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33207
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:09,667 - INFO  - [BookieDeathWatcher-33207:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:09,667 - INFO  - [BookieDeathWatcher-33207:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:09,673 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:09,678 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:09,693 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:09,695 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:09,696 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:09,697 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:09,699 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:09,700 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:09,700 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:09,716 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40411 to become writable
2020-08-10 23:42:09,717 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725827 from position 1028
2020-08-10 23:42:09,718 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie16975853123524172460test/current/173da52cb03.txn
2020-08-10 23:42:09,718 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725828 from position 0
2020-08-10 23:42:09,718 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie16975853123524172460test/current/173da52cb04.txn
2020-08-10 23:42:09,718 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:09,719 - INFO  - [SyncThread-113-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725828 , logFileOffset - 516]}.
2020-08-10 23:42:09,722 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:09,723 - INFO  - [BookieJournal-40411:Journal@909] - Starting journal on /tmp/bookie16975853123524172460test/current
2020-08-10 23:42:09,724 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:09,724 - INFO  - [BookieJournal-40411:JournalChannel@157] - Opening journal /tmp/bookie16975853123524172460test/current/173da52cb05.txn
2020-08-10 23:42:09,731 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40411
2020-08-10 23:42:09,980 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40411' has been created.
2020-08-10 23:42:09,981 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "33207",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie4503693064982266283test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38361/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie4503693064982266283test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:09,987 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38361/ledgers : zkServers = localhost:38361, ledgersRootPath = /ledgers.
2020-08-10 23:42:09,995 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:09,999 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:10,015 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:10,017 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:10,017 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:10,018 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:10,020 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:10,021 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:10,021 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:10,036 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33207 to become writable
2020-08-10 23:42:10,037 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725469 from position 1028
2020-08-10 23:42:10,037 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie4503693064982266283test/current/173da52c99d.txn
2020-08-10 23:42:10,037 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095725470 from position 0
2020-08-10 23:42:10,038 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie4503693064982266283test/current/173da52c99e.txn
2020-08-10 23:42:10,038 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:10,039 - INFO  - [SyncThread-123-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725470 , logFileOffset - 516]}.
2020-08-10 23:42:10,043 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:10,043 - INFO  - [BookieJournal-33207:Journal@909] - Starting journal on /tmp/bookie4503693064982266283test/current
2020-08-10 23:42:10,044 - INFO  - [BookieJournal-33207:JournalChannel@157] - Opening journal /tmp/bookie4503693064982266283test/current/173da52c99f.txn
2020-08-10 23:42:10,045 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:10,051 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33207
2020-08-10 23:42:10,301 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33207' has been created.
2020-08-10 23:42:10,302 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:42:10,302 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33207
2020-08-10 23:42:10,303 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40411
2020-08-10 23:42:10,303 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41759
2020-08-10 23:42:10,304 - INFO  - [bookkeeper-io-3-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf47d7ba4, L:/127.0.0.1:45356 ! R:127.0.0.1/127.0.0.1:41759]
2020-08-10 23:42:10,305 - INFO  - [bookie-io-88-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x4efca6ec, L:/127.0.0.1:41759 ! R:/127.0.0.1:45356]
2020-08-10 23:42:10,419 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:10,420 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:10,424 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39251 with exitCode 0
2020-08-10 23:42:10,424 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:10,424 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:10,425 - INFO  - [SyncThread-13-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:10,429 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:10,429 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:10,432 - INFO  - [BookieJournal-39251:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:10,433 - INFO  - [BookieJournal-39251:Journal@1144] - Journal exited loop!
2020-08-10 23:42:10,433 - INFO  - [Bookie-39251:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:10,433 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:10,440 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:10,440 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:10,440 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:10,441 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:10,441 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:10,441 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:10,441 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:10,441 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:10,551 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:10,552 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:10,557 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37575 with exitCode 0
2020-08-10 23:42:10,557 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:10,557 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:10,558 - INFO  - [SyncThread-23-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:10,561 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:10,562 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:10,562 - INFO  - [BookieJournal-37575:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:10,563 - INFO  - [BookieJournal-37575:Journal@1144] - Journal exited loop!
2020-08-10 23:42:10,563 - INFO  - [Bookie-37575:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:10,563 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:10,564 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:10,564 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:10,564 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:10,564 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:10,564 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:10,564 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:10,565 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:10,565 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:10,681 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:10,682 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:10,687 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46065 with exitCode 0
2020-08-10 23:42:10,687 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:10,687 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:10,687 - INFO  - [SyncThread-33-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:10,692 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:10,693 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:10,693 - INFO  - [BookieJournal-46065:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:10,693 - INFO  - [BookieJournal-46065:Journal@1144] - Journal exited loop!
2020-08-10 23:42:10,693 - INFO  - [Bookie-46065:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:10,694 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:10,696 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:10,697 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:10,697 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:10,697 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:10,697 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:10,697 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:10,697 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:10,698 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:10,730 - INFO  - [GarbageCollectorThread-114-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:10,731 - INFO  - [GarbageCollectorThread-114-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:10,732 - INFO  - [GarbageCollectorThread-114-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:10,733 - INFO  - [GarbageCollectorThread-114-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:10,805 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:10,806 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:10,817 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41759 with exitCode 0
2020-08-10 23:42:10,817 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:10,818 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:10,818 - INFO  - [SyncThread-93-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725117 , logFileOffset - 516]}.
2020-08-10 23:42:10,822 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:10,823 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:10,823 - INFO  - [BookieJournal-41759:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:10,823 - INFO  - [BookieJournal-41759:Journal@1144] - Journal exited loop!
2020-08-10 23:42:10,824 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:10,824 - INFO  - [Bookie-41759:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:10,824 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:10,824 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:10,825 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:10,825 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:10,825 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:10,825 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:10,827 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:10,828 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:10,936 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:10,937 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:10,945 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40411 with exitCode 0
2020-08-10 23:42:10,945 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:10,945 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:10,946 - INFO  - [SyncThread-113-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725828 , logFileOffset - 516]}.
2020-08-10 23:42:10,950 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:10,950 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:10,950 - INFO  - [BookieJournal-40411:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:10,951 - INFO  - [BookieJournal-40411:Journal@1144] - Journal exited loop!
2020-08-10 23:42:10,951 - INFO  - [Bookie-40411:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:10,951 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:10,952 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:10,952 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:10,952 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:10,952 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:10,952 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:10,953 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:10,953 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:10,954 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:11,046 - INFO  - [GarbageCollectorThread-124-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:11,047 - INFO  - [GarbageCollectorThread-124-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:11,053 - INFO  - [BookieDeathWatcher-39251:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:11,053 - INFO  - [BookieDeathWatcher-39251:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39251
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:11,053 - INFO  - [BookieDeathWatcher-39251:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:11,053 - INFO  - [BookieDeathWatcher-39251:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:11,063 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:11,064 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:11,068 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33207 with exitCode 0
2020-08-10 23:42:11,068 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:11,068 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:11,068 - INFO  - [SyncThread-123-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095725470 , logFileOffset - 516]}.
2020-08-10 23:42:11,073 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:11,074 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:11,074 - INFO  - [BookieJournal-33207:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:11,074 - INFO  - [BookieJournal-33207:Journal@1144] - Journal exited loop!
2020-08-10 23:42:11,075 - INFO  - [Bookie-33207:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:11,075 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:11,076 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:11,076 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:11,076 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:11,076 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:11,076 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:11,077 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:11,077 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:11,077 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:11,317 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadLACLongPollWhenSomeBookiesDown[0] in 1015 ms.
2020-08-10 23:42:11,321 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestReadLastConfirmedLongPoll
2020-08-10 23:42:11,339 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:11,348 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:11,357 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:11,361 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:42:11,362 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:42:11,362 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:42:11,362 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:42:11,370 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:11,370 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11487527367328435683test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35157/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11487527367328435683test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:11,374 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:11,379 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:11,384 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:11,393 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11487527367328435683test/current] [/tmp/bookie11487527367328435683test/current]
2020-08-10 23:42:11,406 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:11,407 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11487527367328435683test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:11,408 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:11,408 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:11,409 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:11,412 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:11,412 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:11,412 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:11,425 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35469 to become writable
2020-08-10 23:42:11,426 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:11,428 - INFO  - [SyncThread-139-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:11,433 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:11,434 - INFO  - [BookieJournal-35469:Journal@909] - Starting journal on /tmp/bookie11487527367328435683test/current
2020-08-10 23:42:11,435 - INFO  - [BookieJournal-35469:JournalChannel@157] - Opening journal /tmp/bookie11487527367328435683test/current/173da52e0ec.txn
2020-08-10 23:42:11,435 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:11,442 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35469
2020-08-10 23:42:11,668 - INFO  - [BookieDeathWatcher-41759:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:11,668 - INFO  - [BookieDeathWatcher-41759:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41759
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:11,669 - INFO  - [BookieDeathWatcher-41759:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:11,669 - INFO  - [BookieDeathWatcher-41759:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:11,672 - INFO  - [BookieDeathWatcher-37575:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:11,672 - INFO  - [BookieDeathWatcher-37575:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37575
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:11,672 - INFO  - [BookieDeathWatcher-37575:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:11,672 - INFO  - [BookieDeathWatcher-37575:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:11,692 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35469' has been created.
2020-08-10 23:42:11,694 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:11,698 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3298195161247973420test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35157/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3298195161247973420test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:11,704 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:11,715 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:11,719 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:11,727 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3298195161247973420test/current] [/tmp/bookie3298195161247973420test/current]
2020-08-10 23:42:11,732 - INFO  - [BookieDeathWatcher-40411:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:11,732 - INFO  - [BookieDeathWatcher-40411:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40411
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:11,732 - INFO  - [BookieDeathWatcher-40411:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:11,732 - INFO  - [BookieDeathWatcher-40411:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:11,736 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:11,738 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3298195161247973420test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:11,739 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:11,739 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:11,740 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:11,742 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:11,743 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:11,743 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:11,754 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43935 to become writable
2020-08-10 23:42:11,755 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:11,757 - INFO  - [SyncThread-149-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:11,760 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:11,761 - INFO  - [BookieJournal-43935:Journal@909] - Starting journal on /tmp/bookie3298195161247973420test/current
2020-08-10 23:42:11,763 - INFO  - [BookieJournal-43935:JournalChannel@157] - Opening journal /tmp/bookie3298195161247973420test/current/173da52e233.txn
2020-08-10 23:42:11,763 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:11,770 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43935
2020-08-10 23:42:11,795 - INFO  - [BookieDeathWatcher-46065:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:11,796 - INFO  - [BookieDeathWatcher-46065:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46065
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:11,796 - INFO  - [BookieDeathWatcher-46065:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:11,796 - INFO  - [BookieDeathWatcher-46065:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:12,020 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43935' has been created.
2020-08-10 23:42:12,024 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:12,024 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8176861091870909512test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35157/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8176861091870909512test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:12,030 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:12,038 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:12,042 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:12,051 - INFO  - [BookieDeathWatcher-33207:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:12,051 - INFO  - [BookieDeathWatcher-33207:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33207
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:12,051 - INFO  - [BookieDeathWatcher-33207:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:12,051 - INFO  - [BookieDeathWatcher-33207:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:12,056 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8176861091870909512test/current] [/tmp/bookie8176861091870909512test/current]
2020-08-10 23:42:12,067 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:12,069 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8176861091870909512test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:12,069 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:12,070 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:12,070 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:12,072 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:12,072 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:12,073 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:12,083 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35505 to become writable
2020-08-10 23:42:12,083 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:12,085 - INFO  - [SyncThread-159-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:12,088 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:12,091 - INFO  - [BookieJournal-35505:Journal@909] - Starting journal on /tmp/bookie8176861091870909512test/current
2020-08-10 23:42:12,091 - INFO  - [BookieJournal-35505:JournalChannel@157] - Opening journal /tmp/bookie8176861091870909512test/current/173da52e37c.txn
2020-08-10 23:42:12,092 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:12,099 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35505
2020-08-10 23:42:12,349 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35505' has been created.
2020-08-10 23:42:12,350 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:12,351 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2302042651735437621test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35157/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2302042651735437621test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:12,356 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:12,366 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:12,371 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:12,379 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2302042651735437621test/current] [/tmp/bookie2302042651735437621test/current]
2020-08-10 23:42:12,388 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:12,391 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2302042651735437621test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:12,391 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:12,392 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:12,393 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:12,395 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:12,395 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:12,395 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:12,409 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37935 to become writable
2020-08-10 23:42:12,410 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:12,411 - INFO  - [SyncThread-169-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:12,415 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:12,417 - INFO  - [BookieJournal-37935:Journal@909] - Starting journal on /tmp/bookie2302042651735437621test/current
2020-08-10 23:42:12,417 - INFO  - [BookieJournal-37935:JournalChannel@157] - Opening journal /tmp/bookie2302042651735437621test/current/173da52e4c2.txn
2020-08-10 23:42:12,419 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:12,424 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37935
2020-08-10 23:42:12,679 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37935' has been created.
2020-08-10 23:42:12,680 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:12,681 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14559616024613397870test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35157/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14559616024613397870test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:12,686 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:12,692 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:12,699 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:12,705 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14559616024613397870test/current] [/tmp/bookie14559616024613397870test/current]
2020-08-10 23:42:12,718 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:12,719 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14559616024613397870test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:12,719 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:12,720 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:12,720 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:12,721 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:12,721 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:12,721 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:12,732 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33709 to become writable
2020-08-10 23:42:12,733 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:12,734 - INFO  - [SyncThread-179-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:12,738 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:12,739 - INFO  - [BookieJournal-33709:Journal@909] - Starting journal on /tmp/bookie14559616024613397870test/current
2020-08-10 23:42:12,740 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:12,740 - INFO  - [BookieJournal-33709:JournalChannel@157] - Opening journal /tmp/bookie14559616024613397870test/current/173da52e605.txn
2020-08-10 23:42:12,748 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33709
2020-08-10 23:42:12,997 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33709' has been created.
2020-08-10 23:42:12,999 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:12,999 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1525796060606795358test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35157/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1525796060606795358test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:13,003 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35157/ledgers : zkServers = localhost:35157, ledgersRootPath = /ledgers.
2020-08-10 23:42:13,009 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:13,016 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:13,024 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1525796060606795358test/current] [/tmp/bookie1525796060606795358test/current]
2020-08-10 23:42:13,033 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:13,035 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1525796060606795358test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:13,035 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
2020-08-10 23:42:13,035 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:13,036 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:13,037 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:13,037 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:13,038 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:13,057 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45981 to become writable
2020-08-10 23:42:13,057 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:13,058 - INFO  - [SyncThread-189-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:13,062 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:13,064 - INFO  - [BookieJournal-45981:Journal@909] - Starting journal on /tmp/bookie1525796060606795358test/current
2020-08-10 23:42:13,064 - INFO  - [BookieJournal-45981:JournalChannel@157] - Opening journal /tmp/bookie1525796060606795358test/current/173da52e749.txn
2020-08-10 23:42:13,065 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:13,072 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45981
2020-08-10 23:42:13,322 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45981' has been created.
2020-08-10 23:42:13,323 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadLACLongPollWhenAllBookiesUp[0] @ metadata service zk://localhost:35157/ledgers in 2001 ms.
2020-08-10 23:42:13,324 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:35505, 127.0.0.1:43935, 127.0.0.1:33709] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:42:13,353 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:35505, 127.0.0.1:43935, 127.0.0.1:33709] for ledger: 0
2020-08-10 23:42:13,369 - INFO  - [bookkeeper-io-130-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf1a870cb, L:/127.0.0.1:51776 - R:127.0.0.1/127.0.0.1:35505]
2020-08-10 23:42:13,369 - INFO  - [bookkeeper-io-130-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35505
2020-08-10 23:42:13,370 - INFO  - [bookkeeper-io-130-1:PerChannelBookieClient$1@471] - connection [id: 0xf1a870cb, L:/127.0.0.1:51776 - R:127.0.0.1/127.0.0.1:35505] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:13,371 - INFO  - [bookie-io-154-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:13,371 - INFO  - [bookie-io-154-2:BookieRequestHandler@50] - Channel connected  [id: 0x041ae8a4, L:/127.0.0.1:35505 - R:/127.0.0.1:51776]
2020-08-10 23:42:13,380 - INFO  - [bookkeeper-io-130-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x9bd84e3f, L:/127.0.0.1:46484 - R:127.0.0.1/127.0.0.1:33709]
2020-08-10 23:42:13,380 - INFO  - [bookkeeper-io-130-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33709
2020-08-10 23:42:13,381 - INFO  - [bookkeeper-io-130-3:PerChannelBookieClient$1@471] - connection [id: 0x9bd84e3f, L:/127.0.0.1:46484 - R:127.0.0.1/127.0.0.1:33709] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:13,387 - INFO  - [bookkeeper-io-130-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xffc80388, L:/127.0.0.1:48054 - R:127.0.0.1/127.0.0.1:43935]
2020-08-10 23:42:13,388 - INFO  - [bookkeeper-io-130-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:43935
2020-08-10 23:42:13,388 - INFO  - [bookie-io-144-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:13,388 - INFO  - [bookie-io-174-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:13,388 - INFO  - [bookie-io-174-2:BookieRequestHandler@50] - Channel connected  [id: 0xd2b3c4b4, L:/127.0.0.1:33709 - R:/127.0.0.1:46484]
2020-08-10 23:42:13,388 - INFO  - [bookkeeper-io-130-2:PerChannelBookieClient$1@471] - connection [id: 0xffc80388, L:/127.0.0.1:48054 - R:127.0.0.1/127.0.0.1:43935] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:13,388 - INFO  - [bookie-io-144-2:BookieRequestHandler@50] - Channel connected  [id: 0xe862b425, L:/127.0.0.1:43935 - R:/127.0.0.1:48054]
2020-08-10 23:42:13,392 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:13,395 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8176861091870909512test/current/0.log for logId 0.
2020-08-10 23:42:13,400 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:13,400 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:13,405 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3298195161247973420test/current/0.log for logId 0.
2020-08-10 23:42:13,406 - INFO  - [BookieWriteThreadPool-OrderedExecutor-0-0:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14559616024613397870test/current/0.log for logId 0.
2020-08-10 23:42:13,406 - INFO  - [pool-98-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8176861091870909512test/current/1.log for logId 1.
2020-08-10 23:42:13,415 - INFO  - [pool-92-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3298195161247973420test/current/1.log for logId 1.
2020-08-10 23:42:13,420 - INFO  - [pool-110-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14559616024613397870test/current/1.log for logId 1.
2020-08-10 23:42:13,478 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:42:13,478 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35505
2020-08-10 23:42:13,479 - INFO  - [bookkeeper-io-130-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf1a870cb, L:/127.0.0.1:51776 ! R:127.0.0.1/127.0.0.1:35505]
2020-08-10 23:42:13,479 - INFO  - [bookie-io-154-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x041ae8a4, L:/127.0.0.1:35505 ! R:/127.0.0.1:51776]
2020-08-10 23:42:13,479 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:43935
2020-08-10 23:42:13,480 - INFO  - [bookkeeper-io-130-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xffc80388, L:/127.0.0.1:48054 ! R:127.0.0.1/127.0.0.1:43935]
2020-08-10 23:42:13,480 - INFO  - [bookie-io-144-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe862b425, L:/127.0.0.1:43935 ! R:/127.0.0.1:48054]
2020-08-10 23:42:13,480 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33709
2020-08-10 23:42:13,481 - INFO  - [bookkeeper-io-130-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x9bd84e3f, L:/127.0.0.1:46484 ! R:127.0.0.1/127.0.0.1:33709]
2020-08-10 23:42:13,482 - INFO  - [bookie-io-174-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xd2b3c4b4, L:/127.0.0.1:33709 ! R:/127.0.0.1:46484]
2020-08-10 23:42:13,589 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:13,591 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:13,594 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35469 with exitCode 0
2020-08-10 23:42:13,594 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:13,594 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:13,594 - INFO  - [SyncThread-139-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:13,598 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:13,598 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:13,599 - INFO  - [BookieJournal-35469:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:13,599 - INFO  - [BookieJournal-35469:Journal@1144] - Journal exited loop!
2020-08-10 23:42:13,599 - INFO  - [Bookie-35469:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:13,599 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:13,600 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:13,705 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:13,705 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:13,715 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43935 with exitCode 0
2020-08-10 23:42:13,715 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:13,715 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:13,725 - INFO  - [SyncThread-149-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095731763 , logFileOffset - 2560]}.
2020-08-10 23:42:13,729 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:13,730 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:13,730 - INFO  - [BookieJournal-43935:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:13,730 - INFO  - [BookieJournal-43935:Journal@1144] - Journal exited loop!
2020-08-10 23:42:13,730 - INFO  - [Bookie-43935:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:13,730 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:13,731 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:13,731 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:13,731 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:13,731 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:13,731 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:13,734 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:13,736 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:13,736 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:13,846 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:13,847 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:13,854 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35505 with exitCode 0
2020-08-10 23:42:13,855 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:13,855 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:13,862 - INFO  - [SyncThread-159-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095732092 , logFileOffset - 2560]}.
2020-08-10 23:42:13,866 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:13,866 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:13,867 - INFO  - [BookieJournal-35505:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:13,867 - INFO  - [BookieJournal-35505:Journal@1144] - Journal exited loop!
2020-08-10 23:42:13,867 - INFO  - [Bookie-35505:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:13,868 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:13,868 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:13,868 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:13,868 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:13,868 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:13,868 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:13,871 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:13,873 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:13,873 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:13,984 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:13,985 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:13,990 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37935 with exitCode 0
2020-08-10 23:42:13,991 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:13,991 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:13,991 - INFO  - [SyncThread-169-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:13,996 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:13,996 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:13,997 - INFO  - [BookieJournal-37935:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:13,997 - INFO  - [BookieJournal-37935:Journal@1144] - Journal exited loop!
2020-08-10 23:42:13,997 - INFO  - [Bookie-37935:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:13,997 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:13,998 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:14,100 - INFO  - [BookieDeathWatcher-35505:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:14,100 - INFO  - [BookieDeathWatcher-35505:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35505
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:14,100 - INFO  - [BookieDeathWatcher-35505:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,100 - INFO  - [BookieDeathWatcher-35505:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,103 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,107 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,117 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33709 with exitCode 0
2020-08-10 23:42:14,117 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:14,117 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:14,126 - INFO  - [SyncThread-179-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095732741 , logFileOffset - 2560]}.
2020-08-10 23:42:14,129 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:14,130 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:14,130 - INFO  - [BookieJournal-33709:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:14,131 - INFO  - [BookieJournal-33709:Journal@1144] - Journal exited loop!
2020-08-10 23:42:14,132 - INFO  - [Bookie-33709:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:14,132 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:14,133 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:14,133 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:14,133 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:14,133 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:14,133 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:14,137 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:14,138 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:14,139 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:14,250 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,250 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,254 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45981 with exitCode 0
2020-08-10 23:42:14,255 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:14,255 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:14,255 - INFO  - [SyncThread-189-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:14,258 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:14,259 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:14,259 - INFO  - [BookieJournal-45981:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:14,259 - INFO  - [BookieJournal-45981:Journal@1144] - Journal exited loop!
2020-08-10 23:42:14,260 - INFO  - [Bookie-45981:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:14,260 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:14,261 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:14,261 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:14,261 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:14,262 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:14,262 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:14,262 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:14,262 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:14,262 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:14,426 - INFO  - [BookieDeathWatcher-37935:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:14,426 - INFO  - [BookieDeathWatcher-37935:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37935
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:14,426 - INFO  - [BookieDeathWatcher-37935:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,426 - INFO  - [BookieDeathWatcher-37935:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,444 - INFO  - [BookieDeathWatcher-35469:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:14,445 - INFO  - [BookieDeathWatcher-35469:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35469
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:14,445 - INFO  - [BookieDeathWatcher-35469:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,445 - INFO  - [BookieDeathWatcher-35469:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,499 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadLACLongPollWhenAllBookiesUp[0] in 1021 ms.
2020-08-10 23:42:14,503 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestReadLastConfirmedLongPoll
2020-08-10 23:42:14,522 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:14,533 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:14,539 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:14,543 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:42:14,544 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:42:14,544 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:42:14,544 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:42:14,557 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:14,557 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1673889107836845544test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1673889107836845544test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:14,561 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:14,568 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:14,571 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:14,580 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1673889107836845544test/current] [/tmp/bookie1673889107836845544test/current]
2020-08-10 23:42:14,591 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:14,593 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1673889107836845544test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:14,593 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:14,594 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:14,594 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:14,596 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:14,596 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:14,596 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:14,610 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34451 to become writable
2020-08-10 23:42:14,610 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:14,611 - INFO  - [SyncThread-205-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:14,615 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:14,619 - INFO  - [BookieJournal-34451:Journal@909] - Starting journal on /tmp/bookie1673889107836845544test/current
2020-08-10 23:42:14,619 - INFO  - [BookieJournal-34451:JournalChannel@157] - Opening journal /tmp/bookie1673889107836845544test/current/173da52ed5c.txn
2020-08-10 23:42:14,620 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:14,626 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34451
2020-08-10 23:42:14,750 - INFO  - [BookieDeathWatcher-33709:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:14,751 - INFO  - [BookieDeathWatcher-33709:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33709
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:14,751 - INFO  - [BookieDeathWatcher-33709:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,751 - INFO  - [BookieDeathWatcher-33709:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,775 - INFO  - [BookieDeathWatcher-43935:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:14,775 - INFO  - [BookieDeathWatcher-43935:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43935
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:14,776 - INFO  - [BookieDeathWatcher-43935:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:14,776 - INFO  - [BookieDeathWatcher-43935:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:14,876 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34451' has been created.
2020-08-10 23:42:14,877 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:14,878 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2520460751341329543test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2520460751341329543test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:14,882 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:14,886 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:14,894 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:14,901 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2520460751341329543test/current] [/tmp/bookie2520460751341329543test/current]
2020-08-10 23:42:14,910 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:14,913 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2520460751341329543test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:14,913 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:14,913 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:14,913 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:14,914 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:14,914 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:14,915 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:14,925 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33341 to become writable
2020-08-10 23:42:14,927 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:14,929 - INFO  - [SyncThread-215-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:14,933 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:14,935 - INFO  - [BookieJournal-33341:Journal@909] - Starting journal on /tmp/bookie2520460751341329543test/current
2020-08-10 23:42:14,938 - INFO  - [BookieJournal-33341:JournalChannel@157] - Opening journal /tmp/bookie2520460751341329543test/current/173da52ee9a.txn
2020-08-10 23:42:14,938 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:14,944 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33341
2020-08-10 23:42:15,072 - INFO  - [BookieDeathWatcher-45981:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:15,072 - INFO  - [BookieDeathWatcher-45981:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45981
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:15,072 - INFO  - [BookieDeathWatcher-45981:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:15,072 - INFO  - [BookieDeathWatcher-45981:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:15,196 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33341' has been created.
2020-08-10 23:42:15,198 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:15,200 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9447909228004844900test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9447909228004844900test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:15,206 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:15,212 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:15,215 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:15,221 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9447909228004844900test/current] [/tmp/bookie9447909228004844900test/current]
2020-08-10 23:42:15,229 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:15,231 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9447909228004844900test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:15,232 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:15,232 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:15,233 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:15,234 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:15,234 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:15,234 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:15,242 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33601 to become writable
2020-08-10 23:42:15,243 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:15,244 - INFO  - [SyncThread-225-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:15,248 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:15,249 - INFO  - [BookieJournal-33601:Journal@909] - Starting journal on /tmp/bookie9447909228004844900test/current
2020-08-10 23:42:15,249 - INFO  - [BookieJournal-33601:JournalChannel@157] - Opening journal /tmp/bookie9447909228004844900test/current/173da52efd2.txn
2020-08-10 23:42:15,251 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:15,256 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33601
2020-08-10 23:42:15,506 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33601' has been created.
2020-08-10 23:42:15,508 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:15,509 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8303410873431924836test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8303410873431924836test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:15,512 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:15,520 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:15,527 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:15,533 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8303410873431924836test/current] [/tmp/bookie8303410873431924836test/current]
2020-08-10 23:42:15,541 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:15,543 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8303410873431924836test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:15,543 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:15,543 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:15,544 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:15,546 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:15,547 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:15,547 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:15,559 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39317 to become writable
2020-08-10 23:42:15,560 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:15,562 - INFO  - [SyncThread-235-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:15,565 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:15,570 - INFO  - [BookieJournal-39317:Journal@909] - Starting journal on /tmp/bookie8303410873431924836test/current
2020-08-10 23:42:15,571 - INFO  - [BookieJournal-39317:JournalChannel@157] - Opening journal /tmp/bookie8303410873431924836test/current/173da52f114.txn
2020-08-10 23:42:15,571 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:15,578 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39317
2020-08-10 23:42:15,829 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39317' has been created.
2020-08-10 23:42:15,831 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:15,832 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3215589036162601743test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3215589036162601743test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:15,835 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:15,841 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:15,845 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:15,858 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3215589036162601743test/current] [/tmp/bookie3215589036162601743test/current]
2020-08-10 23:42:15,867 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:15,869 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3215589036162601743test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:15,869 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:15,870 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:15,871 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:15,872 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:15,872 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:15,872 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:15,900 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46185 to become writable
2020-08-10 23:42:15,900 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:15,901 - INFO  - [SyncThread-245-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:15,905 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:15,907 - INFO  - [BookieJournal-46185:Journal@909] - Starting journal on /tmp/bookie3215589036162601743test/current
2020-08-10 23:42:15,907 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:15,907 - INFO  - [BookieJournal-46185:JournalChannel@157] - Opening journal /tmp/bookie3215589036162601743test/current/173da52f264.txn
2020-08-10 23:42:15,915 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46185
2020-08-10 23:42:16,164 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46185' has been created.
2020-08-10 23:42:16,166 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:16,167 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8279634846405894299test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8279634846405894299test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:16,171 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:16,178 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:16,181 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:16,188 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8279634846405894299test/current] [/tmp/bookie8279634846405894299test/current]
2020-08-10 23:42:16,196 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:16,199 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8279634846405894299test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:16,199 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:16,199 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:16,200 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:16,201 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:16,201 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:16,201 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:16,232 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43825 to become writable
2020-08-10 23:42:16,232 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:16,233 - INFO  - [SyncThread-255-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:16,238 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:16,240 - INFO  - [BookieJournal-43825:Journal@909] - Starting journal on /tmp/bookie8279634846405894299test/current
2020-08-10 23:42:16,240 - INFO  - [BookieJournal-43825:JournalChannel@157] - Opening journal /tmp/bookie8279634846405894299test/current/173da52f3b1.txn
2020-08-10 23:42:16,241 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:16,247 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43825
2020-08-10 23:42:16,496 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43825' has been created.
2020-08-10 23:42:16,497 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadLACLongPollWhenSomeBookiesDown[1] @ metadata service zk://localhost:38691/ledgers in 1993 ms.
2020-08-10 23:42:16,497 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:33341, 127.0.0.1:34451, 127.0.0.1:39317] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:42:16,525 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:33341, 127.0.0.1:34451, 127.0.0.1:39317] for ledger: 0
2020-08-10 23:42:16,531 - INFO  - [bookkeeper-io-196-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xacabea98, L:/127.0.0.1:51060 - R:127.0.0.1/127.0.0.1:33341]
2020-08-10 23:42:16,532 - INFO  - [bookkeeper-io-196-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33341
2020-08-10 23:42:16,532 - INFO  - [bookkeeper-io-196-1:PerChannelBookieClient$1@471] - connection [id: 0xacabea98, L:/127.0.0.1:51060 - R:127.0.0.1/127.0.0.1:33341] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:16,531 - INFO  - [bookie-io-210-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:16,533 - INFO  - [bookie-io-210-2:BookieRequestHandler@50] - Channel connected  [id: 0x8c76190f, L:/127.0.0.1:33341 - R:/127.0.0.1:51060]
2020-08-10 23:42:16,544 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x98fee658, L:/127.0.0.1:50512 - R:127.0.0.1/127.0.0.1:39317]
2020-08-10 23:42:16,545 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39317
2020-08-10 23:42:16,545 - INFO  - [bookkeeper-io-196-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x67f46ef4, L:/127.0.0.1:44872 - R:127.0.0.1/127.0.0.1:34451]
2020-08-10 23:42:16,545 - INFO  - [bookkeeper-io-196-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34451
2020-08-10 23:42:16,545 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient$1@471] - connection [id: 0x98fee658, L:/127.0.0.1:50512 - R:127.0.0.1/127.0.0.1:39317] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:16,546 - INFO  - [bookie-io-230-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:16,547 - INFO  - [bookie-io-230-2:BookieRequestHandler@50] - Channel connected  [id: 0xc57209b5, L:/127.0.0.1:39317 - R:/127.0.0.1:50512]
2020-08-10 23:42:16,545 - INFO  - [bookie-io-200-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:16,546 - INFO  - [bookkeeper-io-196-2:PerChannelBookieClient$1@471] - connection [id: 0x67f46ef4, L:/127.0.0.1:44872 - R:127.0.0.1/127.0.0.1:34451] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:16,548 - INFO  - [bookie-io-200-2:BookieRequestHandler@50] - Channel connected  [id: 0xa42391b2, L:/127.0.0.1:34451 - R:/127.0.0.1:44872]
2020-08-10 23:42:16,586 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:16,586 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:16,587 - WARN  - [bookkeeper-io-196-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x67f46ef4, L:/127.0.0.1:44872 - R:127.0.0.1/127.0.0.1:34451] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:16,588 - INFO  - [bookkeeper-io-196-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x67f46ef4, L:/127.0.0.1:44872 ! R:127.0.0.1/127.0.0.1:34451]
2020-08-10 23:42:16,589 - INFO  - [bookie-io-200-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xa42391b2, L:/127.0.0.1:34451 ! R:/127.0.0.1:44872]
2020-08-10 23:42:16,591 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34451 with exitCode 0
2020-08-10 23:42:16,591 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:16,591 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:16,591 - INFO  - [SyncThread-205-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:16,592 - INFO  - [SyncThread-205-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1673889107836845544test/current/0.log for logId 0.
2020-08-10 23:42:16,594 - INFO  - [pool-127-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1673889107836845544test/current/1.log for logId 1.
2020-08-10 23:42:16,600 - INFO  - [SyncThread-205-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734620 , logFileOffset - 1024]}.
2020-08-10 23:42:16,604 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:16,604 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:16,605 - INFO  - [BookieJournal-34451:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:16,605 - INFO  - [BookieJournal-34451:Journal@1144] - Journal exited loop!
2020-08-10 23:42:16,605 - INFO  - [Bookie-34451:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:16,605 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:16,606 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:16,606 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:16,606 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:16,606 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:16,606 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:16,609 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:16,611 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:16,611 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:16,616 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:34451
2020-08-10 23:42:16,721 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:16,721 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:16,723 - INFO  - [bookie-io-230-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xc57209b5, L:/127.0.0.1:39317 ! R:/127.0.0.1:50512]
2020-08-10 23:42:16,723 - WARN  - [bookkeeper-io-196-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x98fee658, L:/127.0.0.1:50512 - R:127.0.0.1/127.0.0.1:39317] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:16,724 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x98fee658, L:/127.0.0.1:50512 ! R:127.0.0.1/127.0.0.1:39317]
2020-08-10 23:42:16,734 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39317 with exitCode 0
2020-08-10 23:42:16,735 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:16,735 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:16,735 - INFO  - [SyncThread-235-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:16,736 - INFO  - [SyncThread-235-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8303410873431924836test/current/0.log for logId 0.
2020-08-10 23:42:16,738 - INFO  - [pool-148-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8303410873431924836test/current/1.log for logId 1.
2020-08-10 23:42:16,744 - INFO  - [SyncThread-235-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095735572 , logFileOffset - 1024]}.
2020-08-10 23:42:16,748 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:16,749 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:16,749 - INFO  - [BookieJournal-39317:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:16,749 - INFO  - [BookieJournal-39317:Journal@1144] - Journal exited loop!
2020-08-10 23:42:16,750 - INFO  - [Bookie-39317:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:16,750 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:16,750 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:16,750 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:16,750 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:16,751 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:16,751 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:16,754 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:16,756 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:16,757 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:16,870 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:39317
2020-08-10 23:42:16,876 - ERROR - [bookkeeper-io-196-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x9bd389fb, L:/127.0.0.1:44876]/127.0.0.1:34451, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:34451
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:16,877 - ERROR - [bookkeeper-io-196-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xf86d8c92, L:/127.0.0.1:50516]/127.0.0.1:39317, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:39317
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:16,887 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "34451",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1673889107836845544test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1673889107836845544test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:16,891 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:16,897 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:16,900 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:16,909 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:16,914 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:16,914 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:16,915 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:16,916 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:16,916 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:16,916 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:16,930 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34451 to become writable
2020-08-10 23:42:16,932 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095734620 from position 1024
2020-08-10 23:42:16,932 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1673889107836845544test/current/173da52ed5c.txn
2020-08-10 23:42:16,932 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:16,933 - INFO  - [SyncThread-265-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734620 , logFileOffset - 1028]}.
2020-08-10 23:42:16,937 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:16,945 - INFO  - [BookieJournal-34451:Journal@909] - Starting journal on /tmp/bookie1673889107836845544test/current
2020-08-10 23:42:16,945 - INFO  - [BookieJournal-34451:JournalChannel@157] - Opening journal /tmp/bookie1673889107836845544test/current/173da52ed5d.txn
2020-08-10 23:42:16,946 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:16,952 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34451
2020-08-10 23:42:17,203 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34451' has been created.
2020-08-10 23:42:17,203 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "39317",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8303410873431924836test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8303410873431924836test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:17,207 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:17,212 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:17,217 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:17,226 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:17,228 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:17,229 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:17,229 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:17,230 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:17,230 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:17,230 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:17,240 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39317 to become writable
2020-08-10 23:42:17,240 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095735572 from position 1024
2020-08-10 23:42:17,240 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie8303410873431924836test/current/173da52f114.txn
2020-08-10 23:42:17,241 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:17,243 - INFO  - [SyncThread-275-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095735572 , logFileOffset - 1028]}.
2020-08-10 23:42:17,246 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:17,249 - INFO  - [BookieJournal-39317:Journal@909] - Starting journal on /tmp/bookie8303410873431924836test/current
2020-08-10 23:42:17,250 - INFO  - [BookieJournal-39317:JournalChannel@157] - Opening journal /tmp/bookie8303410873431924836test/current/173da52f115.txn
2020-08-10 23:42:17,251 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:17,257 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39317
2020-08-10 23:42:17,506 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39317' has been created.
2020-08-10 23:42:17,513 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:17,513 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:17,518 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39317 with exitCode 0
2020-08-10 23:42:17,518 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:17,518 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:17,518 - INFO  - [SyncThread-275-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095735572 , logFileOffset - 1028]}.
2020-08-10 23:42:17,523 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:17,524 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:17,524 - INFO  - [BookieJournal-39317:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:17,524 - INFO  - [BookieJournal-39317:Journal@1144] - Journal exited loop!
2020-08-10 23:42:17,524 - INFO  - [Bookie-39317:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:17,524 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:17,525 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:17,525 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:17,525 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:17,525 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:17,525 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:17,525 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:17,526 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:17,526 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:17,537 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:39317
2020-08-10 23:42:17,580 - INFO  - [BookieDeathWatcher-39317:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:17,581 - INFO  - [BookieDeathWatcher-39317:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39317
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:17,581 - INFO  - [BookieDeathWatcher-39317:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:17,581 - INFO  - [BookieDeathWatcher-39317:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:17,627 - INFO  - [BookieDeathWatcher-34451:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:17,628 - INFO  - [BookieDeathWatcher-34451:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34451
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:17,631 - INFO  - [BookieDeathWatcher-34451:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:17,631 - INFO  - [BookieDeathWatcher-34451:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:17,638 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:17,638 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:17,639 - WARN  - [bookkeeper-io-196-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0xacabea98, L:/127.0.0.1:51060 - R:127.0.0.1/127.0.0.1:33341] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:17,639 - INFO  - [bookie-io-210-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x8c76190f, L:/127.0.0.1:33341 ! R:/127.0.0.1:51060]
2020-08-10 23:42:17,639 - INFO  - [bookkeeper-io-196-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xacabea98, L:/127.0.0.1:51060 ! R:127.0.0.1/127.0.0.1:33341]
2020-08-10 23:42:17,649 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33341 with exitCode 0
2020-08-10 23:42:17,649 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:17,649 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:17,650 - INFO  - [SyncThread-215-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:17,651 - INFO  - [SyncThread-215-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2520460751341329543test/current/0.log for logId 0.
2020-08-10 23:42:17,653 - INFO  - [pool-134-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2520460751341329543test/current/1.log for logId 1.
2020-08-10 23:42:17,661 - INFO  - [SyncThread-215-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734938 , logFileOffset - 1024]}.
2020-08-10 23:42:17,665 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:17,665 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:17,665 - INFO  - [BookieJournal-33341:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:17,666 - INFO  - [BookieJournal-33341:Journal@1144] - Journal exited loop!
2020-08-10 23:42:17,666 - INFO  - [Bookie-33341:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:17,666 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:17,667 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:17,667 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:17,667 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:17,667 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:17,668 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:17,671 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:17,672 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:17,672 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:17,678 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33341
2020-08-10 23:42:17,783 - ERROR - [bookkeeper-io-196-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x00521ecb, L:/127.0.0.1:51074]/127.0.0.1:33341, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33341
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:17,784 - INFO  - [bookkeeper-io-196-7:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf5c118f1, L:/127.0.0.1:44886 - R:127.0.0.1/127.0.0.1:34451]
2020-08-10 23:42:17,785 - INFO  - [bookkeeper-io-196-7:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34451
2020-08-10 23:42:17,785 - INFO  - [bookkeeper-io-196-7:PerChannelBookieClient$1@471] - connection [id: 0xf5c118f1, L:/127.0.0.1:44886 - R:127.0.0.1/127.0.0.1:34451] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:17,784 - ERROR - [bookkeeper-io-196-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x674e30ef, L:/127.0.0.1:50526]/127.0.0.1:39317, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:39317
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:17,786 - INFO  - [bookie-io-260-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:17,786 - INFO  - [bookie-io-260-2:BookieRequestHandler@50] - Channel connected  [id: 0x77a6d458, L:/127.0.0.1:34451 - R:/127.0.0.1:44886]
2020-08-10 23:42:17,789 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "39317",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8303410873431924836test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8303410873431924836test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:17,793 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:17,803 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:17,807 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:17,814 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:17,816 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:17,817 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:17,818 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:17,819 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:17,819 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:17,819 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:17,829 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39317 to become writable
2020-08-10 23:42:17,832 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095735572 from position 1028
2020-08-10 23:42:17,832 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie8303410873431924836test/current/173da52f114.txn
2020-08-10 23:42:17,833 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095735573 from position 0
2020-08-10 23:42:17,833 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie8303410873431924836test/current/173da52f115.txn
2020-08-10 23:42:17,833 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:17,836 - INFO  - [SyncThread-285-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095735573 , logFileOffset - 516]}.
2020-08-10 23:42:17,840 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:17,842 - INFO  - [BookieJournal-39317:Journal@909] - Starting journal on /tmp/bookie8303410873431924836test/current
2020-08-10 23:42:17,843 - INFO  - [BookieJournal-39317:JournalChannel@157] - Opening journal /tmp/bookie8303410873431924836test/current/173da52f116.txn
2020-08-10 23:42:17,843 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:17,849 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39317
2020-08-10 23:42:17,951 - INFO  - [GarbageCollectorThread-266-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:17,951 - INFO  - [BookieDeathWatcher-33341:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:17,951 - INFO  - [BookieDeathWatcher-33341:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33341
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:17,952 - INFO  - [BookieDeathWatcher-33341:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:17,952 - INFO  - [BookieDeathWatcher-33341:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:17,952 - INFO  - [GarbageCollectorThread-266-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:17,953 - INFO  - [GarbageCollectorThread-266-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:17,953 - INFO  - [GarbageCollectorThread-266-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:18,099 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39317' has been created.
2020-08-10 23:42:18,100 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "33341",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2520460751341329543test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2520460751341329543test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:18,103 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:18,109 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:18,113 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:18,132 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:18,133 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:18,134 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:18,134 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:18,138 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:18,138 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:18,139 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:18,147 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33341 to become writable
2020-08-10 23:42:18,148 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095734938 from position 1024
2020-08-10 23:42:18,148 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie2520460751341329543test/current/173da52ee9a.txn
2020-08-10 23:42:18,148 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:18,152 - INFO  - [SyncThread-295-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734938 , logFileOffset - 1028]}.
2020-08-10 23:42:18,155 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:18,157 - INFO  - [BookieJournal-33341:Journal@909] - Starting journal on /tmp/bookie2520460751341329543test/current
2020-08-10 23:42:18,158 - INFO  - [BookieJournal-33341:JournalChannel@157] - Opening journal /tmp/bookie2520460751341329543test/current/173da52ee9b.txn
2020-08-10 23:42:18,159 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:18,166 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33341
2020-08-10 23:42:18,257 - INFO  - [BookieDeathWatcher-39317:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:18,257 - INFO  - [BookieDeathWatcher-39317:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39317
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:18,257 - INFO  - [BookieDeathWatcher-39317:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:18,257 - INFO  - [BookieDeathWatcher-39317:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:18,418 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33341' has been created.
2020-08-10 23:42:18,422 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:18,422 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:18,427 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33341 with exitCode 0
2020-08-10 23:42:18,427 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:18,427 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:18,428 - INFO  - [SyncThread-295-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734938 , logFileOffset - 1028]}.
2020-08-10 23:42:18,432 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:18,432 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:18,433 - INFO  - [BookieJournal-33341:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:18,433 - INFO  - [BookieJournal-33341:Journal@1144] - Journal exited loop!
2020-08-10 23:42:18,433 - INFO  - [Bookie-33341:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:18,433 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:18,434 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:18,440 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33341
2020-08-10 23:42:18,548 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:18,548 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:18,549 - WARN  - [bookkeeper-io-196-7:PerChannelBookieClient@1270] - Exception caught on:[id: 0xf5c118f1, L:/127.0.0.1:44886 - R:127.0.0.1/127.0.0.1:34451] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:18,549 - INFO  - [bookkeeper-io-196-7:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf5c118f1, L:/127.0.0.1:44886 ! R:127.0.0.1/127.0.0.1:34451]
2020-08-10 23:42:18,550 - INFO  - [bookie-io-260-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x77a6d458, L:/127.0.0.1:34451 ! R:/127.0.0.1:44886]
2020-08-10 23:42:18,553 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34451 with exitCode 0
2020-08-10 23:42:18,554 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:18,554 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:18,554 - INFO  - [SyncThread-265-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734620 , logFileOffset - 1028]}.
2020-08-10 23:42:18,558 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:18,558 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:18,559 - INFO  - [BookieJournal-34451:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:18,559 - INFO  - [BookieJournal-34451:Journal@1144] - Journal exited loop!
2020-08-10 23:42:18,559 - INFO  - [Bookie-34451:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:18,559 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:18,560 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:18,560 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:18,560 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:18,560 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:18,560 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:18,560 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:18,561 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:18,561 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:18,567 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:34451
2020-08-10 23:42:18,678 - ERROR - [bookkeeper-io-196-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x8e19c958, L:/127.0.0.1:51084]/127.0.0.1:33341, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:33341
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:18,680 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x41f0c202, L:/127.0.0.1:50536 - R:127.0.0.1/127.0.0.1:39317]
2020-08-10 23:42:18,680 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39317
2020-08-10 23:42:18,680 - ERROR - [bookkeeper-io-196-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x0267198a, L:/127.0.0.1:44896]/127.0.0.1:34451, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:34451
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:18,681 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient$1@471] - connection [id: 0x41f0c202, L:/127.0.0.1:50536 - R:127.0.0.1/127.0.0.1:39317] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:18,682 - INFO  - [bookie-io-280-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:18,682 - INFO  - [bookie-io-280-2:BookieRequestHandler@50] - Channel connected  [id: 0xbcc792bb, L:/127.0.0.1:39317 - R:/127.0.0.1:50536]
2020-08-10 23:42:18,685 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "33341",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2520460751341329543test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2520460751341329543test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:18,690 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:18,697 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:18,701 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:18,709 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:18,711 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:18,711 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:18,713 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:18,714 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:18,714 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:18,714 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:18,725 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33341 to become writable
2020-08-10 23:42:18,726 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095734938 from position 1028
2020-08-10 23:42:18,726 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie2520460751341329543test/current/173da52ee9a.txn
2020-08-10 23:42:18,726 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095734939 from position 0
2020-08-10 23:42:18,726 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie2520460751341329543test/current/173da52ee9b.txn
2020-08-10 23:42:18,727 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:18,728 - INFO  - [SyncThread-305-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734939 , logFileOffset - 516]}.
2020-08-10 23:42:18,732 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:18,734 - INFO  - [BookieJournal-33341:Journal@909] - Starting journal on /tmp/bookie2520460751341329543test/current
2020-08-10 23:42:18,735 - INFO  - [BookieJournal-33341:JournalChannel@157] - Opening journal /tmp/bookie2520460751341329543test/current/173da52ee9c.txn
2020-08-10 23:42:18,735 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:18,743 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33341
2020-08-10 23:42:18,845 - INFO  - [GarbageCollectorThread-286-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:18,847 - INFO  - [GarbageCollectorThread-286-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:18,848 - INFO  - [GarbageCollectorThread-286-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:18,849 - INFO  - [GarbageCollectorThread-286-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:18,955 - INFO  - [BookieDeathWatcher-34451:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:18,956 - INFO  - [BookieDeathWatcher-34451:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34451
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:18,956 - INFO  - [BookieDeathWatcher-34451:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:18,956 - INFO  - [BookieDeathWatcher-34451:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:18,994 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33341' has been created.
2020-08-10 23:42:18,995 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "34451",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1673889107836845544test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38691/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1673889107836845544test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:18,998 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38691/ledgers : zkServers = localhost:38691, ledgersRootPath = /ledgers.
2020-08-10 23:42:19,005 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:19,010 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:19,020 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:19,022 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:19,023 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:19,024 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:19,025 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:19,025 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:19,025 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:19,033 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34451 to become writable
2020-08-10 23:42:19,033 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095734620 from position 1028
2020-08-10 23:42:19,033 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1673889107836845544test/current/173da52ed5c.txn
2020-08-10 23:42:19,034 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095734621 from position 0
2020-08-10 23:42:19,034 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie1673889107836845544test/current/173da52ed5d.txn
2020-08-10 23:42:19,034 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:19,035 - INFO  - [SyncThread-315-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734621 , logFileOffset - 516]}.
2020-08-10 23:42:19,039 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:19,041 - INFO  - [BookieJournal-34451:Journal@909] - Starting journal on /tmp/bookie1673889107836845544test/current
2020-08-10 23:42:19,042 - INFO  - [BookieJournal-34451:JournalChannel@157] - Opening journal /tmp/bookie1673889107836845544test/current/173da52ed5e.txn
2020-08-10 23:42:19,042 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:19,049 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34451
2020-08-10 23:42:19,166 - INFO  - [BookieDeathWatcher-33341:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:19,166 - INFO  - [BookieDeathWatcher-33341:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33341
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:19,167 - INFO  - [BookieDeathWatcher-33341:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,167 - INFO  - [BookieDeathWatcher-33341:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,302 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34451' has been created.
2020-08-10 23:42:19,302 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:42:19,302 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39317
2020-08-10 23:42:19,303 - INFO  - [bookkeeper-io-196-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x41f0c202, L:/127.0.0.1:50536 ! R:127.0.0.1/127.0.0.1:39317]
2020-08-10 23:42:19,303 - INFO  - [bookie-io-280-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xbcc792bb, L:/127.0.0.1:39317 ! R:/127.0.0.1:50536]
2020-08-10 23:42:19,304 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33341
2020-08-10 23:42:19,304 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34451
2020-08-10 23:42:19,411 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,411 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,416 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33601 with exitCode 0
2020-08-10 23:42:19,416 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:19,416 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:19,417 - INFO  - [SyncThread-225-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:19,421 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:19,422 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:19,422 - INFO  - [BookieJournal-33601:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:19,422 - INFO  - [BookieJournal-33601:Journal@1144] - Journal exited loop!
2020-08-10 23:42:19,422 - INFO  - [Bookie-33601:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:19,423 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:19,424 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:19,529 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,532 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,537 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46185 with exitCode 0
2020-08-10 23:42:19,537 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:19,537 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:19,538 - INFO  - [SyncThread-245-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:19,541 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:19,542 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:19,542 - INFO  - [BookieJournal-46185:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:19,542 - INFO  - [BookieJournal-46185:Journal@1144] - Journal exited loop!
2020-08-10 23:42:19,542 - INFO  - [Bookie-46185:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:19,543 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:19,543 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:19,543 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:19,543 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:19,543 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:19,544 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:19,544 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:19,544 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:19,544 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:19,649 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,649 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,657 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43825 with exitCode 0
2020-08-10 23:42:19,658 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:19,658 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:19,658 - INFO  - [SyncThread-255-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:19,662 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:19,664 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:19,664 - INFO  - [BookieJournal-43825:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:19,664 - INFO  - [BookieJournal-43825:Journal@1144] - Journal exited loop!
2020-08-10 23:42:19,664 - INFO  - [Bookie-43825:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:19,664 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:19,668 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:19,668 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:19,668 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:19,668 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:19,668 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:19,669 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:19,669 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:19,669 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:19,735 - INFO  - [GarbageCollectorThread-306-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:19,736 - INFO  - [GarbageCollectorThread-306-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:19,737 - INFO  - [GarbageCollectorThread-306-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:19,738 - INFO  - [GarbageCollectorThread-306-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:19,778 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,779 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,785 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39317 with exitCode 0
2020-08-10 23:42:19,786 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:19,786 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:19,786 - INFO  - [SyncThread-285-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095735573 , logFileOffset - 516]}.
2020-08-10 23:42:19,790 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:19,791 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:19,791 - INFO  - [BookieJournal-39317:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:19,791 - INFO  - [BookieJournal-39317:Journal@1144] - Journal exited loop!
2020-08-10 23:42:19,792 - INFO  - [Bookie-39317:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:19,792 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:19,793 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:19,793 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:19,793 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:19,793 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:19,794 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:19,794 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:19,795 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:19,795 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:19,911 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,911 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,916 - INFO  - [BookieDeathWatcher-46185:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:19,916 - INFO  - [BookieDeathWatcher-46185:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46185
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:19,917 - INFO  - [BookieDeathWatcher-46185:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:19,917 - INFO  - [BookieDeathWatcher-46185:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:19,932 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33341 with exitCode 0
2020-08-10 23:42:19,932 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:19,932 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:19,932 - INFO  - [SyncThread-305-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734939 , logFileOffset - 516]}.
2020-08-10 23:42:19,936 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:19,937 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:19,937 - INFO  - [BookieJournal-33341:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:19,938 - INFO  - [BookieJournal-33341:Journal@1144] - Journal exited loop!
2020-08-10 23:42:19,938 - INFO  - [Bookie-33341:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:19,938 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:19,938 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:19,939 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:19,939 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:19,939 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:19,939 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:19,940 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:19,940 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:19,940 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:20,043 - INFO  - [GarbageCollectorThread-316-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:20,044 - INFO  - [GarbageCollectorThread-316-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:20,052 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:20,054 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:20,063 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34451 with exitCode 0
2020-08-10 23:42:20,064 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:20,064 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:20,065 - INFO  - [SyncThread-315-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095734621 , logFileOffset - 516]}.
2020-08-10 23:42:20,068 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:20,068 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:20,069 - INFO  - [BookieJournal-34451:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:20,069 - INFO  - [BookieJournal-34451:Journal@1144] - Journal exited loop!
2020-08-10 23:42:20,069 - INFO  - [Bookie-34451:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:20,069 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:20,070 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:20,249 - INFO  - [BookieDeathWatcher-43825:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:20,249 - INFO  - [BookieDeathWatcher-43825:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43825
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:20,249 - INFO  - [BookieDeathWatcher-43825:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:20,249 - INFO  - [BookieDeathWatcher-43825:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:20,264 - INFO  - [BookieDeathWatcher-33601:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:20,264 - INFO  - [BookieDeathWatcher-33601:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33601
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:20,264 - INFO  - [BookieDeathWatcher-33601:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:20,264 - INFO  - [BookieDeathWatcher-33601:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:20,301 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadLACLongPollWhenSomeBookiesDown[1] in 998 ms.
2020-08-10 23:42:20,302 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestReadLastConfirmedLongPoll
2020-08-10 23:42:20,316 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:20,324 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:20,332 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:20,336 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:42:20,336 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:42:20,336 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:42:20,336 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:42:20,343 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:20,344 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3416367835283424558test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44111/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3416367835283424558test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:20,355 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:20,360 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:20,365 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:20,374 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3416367835283424558test/current] [/tmp/bookie3416367835283424558test/current]
2020-08-10 23:42:20,384 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:20,386 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3416367835283424558test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:20,386 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:20,386 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:20,386 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:20,388 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:20,388 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:20,388 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:20,404 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36185 to become writable
2020-08-10 23:42:20,404 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:20,405 - INFO  - [SyncThread-331-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:20,409 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:20,410 - INFO  - [BookieJournal-36185:Journal@909] - Starting journal on /tmp/bookie3416367835283424558test/current
2020-08-10 23:42:20,410 - INFO  - [BookieJournal-36185:JournalChannel@157] - Opening journal /tmp/bookie3416367835283424558test/current/173da5303fb.txn
2020-08-10 23:42:20,410 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:20,418 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36185
2020-08-10 23:42:20,667 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36185' has been created.
2020-08-10 23:42:20,670 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:20,670 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18047610505280945048test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44111/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18047610505280945048test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:20,673 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:20,679 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:20,682 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:20,690 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18047610505280945048test/current] [/tmp/bookie18047610505280945048test/current]
2020-08-10 23:42:20,699 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:20,701 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18047610505280945048test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:20,701 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:20,702 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:20,702 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:20,703 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:20,703 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:20,703 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:20,712 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35805 to become writable
2020-08-10 23:42:20,713 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:20,714 - INFO  - [SyncThread-341-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:20,719 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:20,725 - INFO  - [BookieJournal-35805:Journal@909] - Starting journal on /tmp/bookie18047610505280945048test/current
2020-08-10 23:42:20,725 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:20,725 - INFO  - [BookieJournal-35805:JournalChannel@157] - Opening journal /tmp/bookie18047610505280945048test/current/173da530536.txn
2020-08-10 23:42:20,733 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35805
2020-08-10 23:42:20,742 - INFO  - [BookieDeathWatcher-33341:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:20,743 - INFO  - [BookieDeathWatcher-33341:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33341
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:20,743 - INFO  - [BookieDeathWatcher-33341:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:20,743 - INFO  - [BookieDeathWatcher-33341:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:20,854 - INFO  - [BookieDeathWatcher-39317:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:20,855 - INFO  - [BookieDeathWatcher-39317:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39317
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:20,855 - INFO  - [BookieDeathWatcher-39317:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:20,855 - INFO  - [BookieDeathWatcher-39317:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:20,993 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35805' has been created.
2020-08-10 23:42:21,055 - INFO  - [BookieDeathWatcher-34451:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:21,055 - INFO  - [BookieDeathWatcher-34451:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34451
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:21,055 - INFO  - [BookieDeathWatcher-34451:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:21,055 - INFO  - [BookieDeathWatcher-34451:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:21,414 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:21,416 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1608199226655672355test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44111/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1608199226655672355test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:21,421 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:21,432 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:21,435 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:21,442 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1608199226655672355test/current] [/tmp/bookie1608199226655672355test/current]
2020-08-10 23:42:21,451 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:21,453 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1608199226655672355test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:21,453 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:21,454 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:21,454 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:21,455 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:21,455 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:21,455 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:21,463 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:32843 to become writable
2020-08-10 23:42:21,468 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:21,469 - INFO  - [SyncThread-351-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:21,473 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:21,475 - INFO  - [BookieJournal-32843:Journal@909] - Starting journal on /tmp/bookie1608199226655672355test/current
2020-08-10 23:42:21,476 - INFO  - [BookieJournal-32843:JournalChannel@157] - Opening journal /tmp/bookie1608199226655672355test/current/173da530825.txn
2020-08-10 23:42:21,477 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:21,484 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:32843
2020-08-10 23:42:21,734 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:32843' has been created.
2020-08-10 23:42:21,735 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:21,735 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10996598058065182446test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44111/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10996598058065182446test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:21,739 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:21,743 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:21,746 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:21,752 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10996598058065182446test/current] [/tmp/bookie10996598058065182446test/current]
2020-08-10 23:42:21,760 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:21,761 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10996598058065182446test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:21,761 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:21,762 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:21,762 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:21,763 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:21,764 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:21,764 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:21,792 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35153 to become writable
2020-08-10 23:42:21,793 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:21,794 - INFO  - [SyncThread-361-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:21,798 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:21,800 - INFO  - [BookieJournal-35153:Journal@909] - Starting journal on /tmp/bookie10996598058065182446test/current
2020-08-10 23:42:21,802 - INFO  - [BookieJournal-35153:JournalChannel@157] - Opening journal /tmp/bookie10996598058065182446test/current/173da53096b.txn
2020-08-10 23:42:21,803 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:21,809 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35153
2020-08-10 23:42:22,064 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35153' has been created.
2020-08-10 23:42:22,066 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:22,067 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16871648306884115637test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44111/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16871648306884115637test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:22,070 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:22,076 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:22,079 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:22,110 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16871648306884115637test/current] [/tmp/bookie16871648306884115637test/current]
2020-08-10 23:42:22,119 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:22,121 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16871648306884115637test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:22,122 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:22,122 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:22,122 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:22,123 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:22,123 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:22,124 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:22,131 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42257 to become writable
2020-08-10 23:42:22,132 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:22,133 - INFO  - [SyncThread-371-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:22,137 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:22,140 - INFO  - [BookieJournal-42257:Journal@909] - Starting journal on /tmp/bookie16871648306884115637test/current
2020-08-10 23:42:22,141 - INFO  - [BookieJournal-42257:JournalChannel@157] - Opening journal /tmp/bookie16871648306884115637test/current/173da530abe.txn
2020-08-10 23:42:22,141 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:22,145 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42257
2020-08-10 23:42:22,411 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42257' has been created.
2020-08-10 23:42:22,413 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:22,413 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.SortedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14962607443323946335test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44111/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14962607443323946335test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:22,416 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44111/ledgers : zkServers = localhost:44111, ledgersRootPath = /ledgers.
2020-08-10 23:42:22,422 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:22,425 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:22,435 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14962607443323946335test/current] [/tmp/bookie14962607443323946335test/current]
2020-08-10 23:42:22,443 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:22,445 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14962607443323946335test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:22,445 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:42:22,445 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:42:22,446 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:42:22,447 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:22,447 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:22,447 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:22,460 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45587 to become writable
2020-08-10 23:42:22,460 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:22,461 - INFO  - [SyncThread-381-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:22,465 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:22,468 - INFO  - [BookieJournal-45587:Journal@909] - Starting journal on /tmp/bookie14962607443323946335test/current
2020-08-10 23:42:22,469 - INFO  - [BookieJournal-45587:JournalChannel@157] - Opening journal /tmp/bookie14962607443323946335test/current/173da530c06.txn
2020-08-10 23:42:22,469 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:22,476 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45587
2020-08-10 23:42:22,726 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45587' has been created.
2020-08-10 23:42:22,727 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadLACLongPollWhenAllBookiesUp[1] @ metadata service zk://localhost:44111/ledgers in 2424 ms.
2020-08-10 23:42:22,729 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:42257, 127.0.0.1:36185, 127.0.0.1:35153] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:42:22,757 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:42257, 127.0.0.1:36185, 127.0.0.1:35153] for ledger: 0
2020-08-10 23:42:22,765 - INFO  - [bookie-io-366-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:22,766 - INFO  - [bookie-io-356-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:22,767 - INFO  - [bookie-io-356-2:BookieRequestHandler@50] - Channel connected  [id: 0x81b1f667, L:/127.0.0.1:35153 - R:/127.0.0.1:55610]
2020-08-10 23:42:22,766 - INFO  - [bookie-io-326-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:22,767 - INFO  - [bookie-io-326-2:BookieRequestHandler@50] - Channel connected  [id: 0x8eac133c, L:/127.0.0.1:36185 - R:/127.0.0.1:49922]
2020-08-10 23:42:22,766 - INFO  - [bookkeeper-io-322-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x86e6b087, L:/127.0.0.1:55610 - R:127.0.0.1/127.0.0.1:35153]
2020-08-10 23:42:22,767 - INFO  - [bookkeeper-io-322-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35153
2020-08-10 23:42:22,766 - INFO  - [bookkeeper-io-322-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x0870b1d7, L:/127.0.0.1:49922 - R:127.0.0.1/127.0.0.1:36185]
2020-08-10 23:42:22,767 - INFO  - [bookkeeper-io-322-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36185
2020-08-10 23:42:22,768 - INFO  - [bookkeeper-io-322-2:PerChannelBookieClient$1@471] - connection [id: 0x0870b1d7, L:/127.0.0.1:49922 - R:127.0.0.1/127.0.0.1:36185] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:22,766 - INFO  - [bookkeeper-io-322-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x0c9e4402, L:/127.0.0.1:43044 - R:127.0.0.1/127.0.0.1:42257]
2020-08-10 23:42:22,769 - INFO  - [bookkeeper-io-322-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42257
2020-08-10 23:42:22,769 - INFO  - [bookkeeper-io-322-1:PerChannelBookieClient$1@471] - connection [id: 0x0c9e4402, L:/127.0.0.1:43044 - R:127.0.0.1/127.0.0.1:42257] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:22,768 - INFO  - [bookkeeper-io-322-3:PerChannelBookieClient$1@471] - connection [id: 0x86e6b087, L:/127.0.0.1:55610 - R:127.0.0.1/127.0.0.1:35153] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:22,766 - INFO  - [bookie-io-366-2:BookieRequestHandler@50] - Channel connected  [id: 0x0763b93a, L:/127.0.0.1:42257 - R:/127.0.0.1:43044]
2020-08-10 23:42:23,317 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:42:23,318 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35153
2020-08-10 23:42:23,318 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42257
2020-08-10 23:42:23,318 - INFO  - [bookkeeper-io-322-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x86e6b087, L:/127.0.0.1:55610 ! R:127.0.0.1/127.0.0.1:35153]
2020-08-10 23:42:23,319 - INFO  - [bookie-io-356-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x81b1f667, L:/127.0.0.1:35153 ! R:/127.0.0.1:55610]
2020-08-10 23:42:23,323 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36185
2020-08-10 23:42:23,323 - INFO  - [bookie-io-366-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x0763b93a, L:/127.0.0.1:42257 ! R:/127.0.0.1:43044]
2020-08-10 23:42:23,323 - INFO  - [bookkeeper-io-322-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x0c9e4402, L:/127.0.0.1:43044 ! R:127.0.0.1/127.0.0.1:42257]
2020-08-10 23:42:23,324 - INFO  - [bookkeeper-io-322-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x0870b1d7, L:/127.0.0.1:49922 ! R:127.0.0.1/127.0.0.1:36185]
2020-08-10 23:42:23,328 - INFO  - [bookie-io-326-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x8eac133c, L:/127.0.0.1:36185 ! R:/127.0.0.1:49922]
2020-08-10 23:42:23,444 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:23,444 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:23,459 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36185 with exitCode 0
2020-08-10 23:42:23,461 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:23,461 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:23,461 - INFO  - [SyncThread-331-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:23,462 - INFO  - [SyncThread-331-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3416367835283424558test/current/0.log for logId 0.
2020-08-10 23:42:23,465 - INFO  - [pool-216-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3416367835283424558test/current/1.log for logId 1.
2020-08-10 23:42:23,480 - INFO  - [SyncThread-331-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095740411 , logFileOffset - 2560]}.
2020-08-10 23:42:23,483 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:23,483 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:23,484 - INFO  - [BookieJournal-36185:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:23,484 - INFO  - [BookieJournal-36185:Journal@1144] - Journal exited loop!
2020-08-10 23:42:23,485 - INFO  - [Bookie-36185:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:23,485 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:23,485 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:23,486 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:23,486 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:23,486 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:23,486 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:23,489 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:23,489 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:23,489 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:23,605 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:23,606 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:23,616 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35805 with exitCode 0
2020-08-10 23:42:23,616 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:23,616 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:23,617 - INFO  - [SyncThread-341-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:23,620 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:23,622 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:23,622 - INFO  - [BookieJournal-35805:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:23,622 - INFO  - [BookieJournal-35805:Journal@1144] - Journal exited loop!
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:23,623 - INFO  - [Bookie-35805:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:23,623 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:23,624 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:23,624 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:23,728 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:23,730 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:23,734 - INFO  - [BookieDeathWatcher-35805:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:23,734 - INFO  - [BookieDeathWatcher-35805:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35805
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:23,734 - INFO  - [BookieDeathWatcher-35805:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:23,735 - INFO  - [BookieDeathWatcher-35805:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:23,739 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-32843 with exitCode 0
2020-08-10 23:42:23,739 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:23,739 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:23,739 - INFO  - [SyncThread-351-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:23,744 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:23,744 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:23,744 - INFO  - [BookieJournal-32843:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:23,745 - INFO  - [BookieJournal-32843:Journal@1144] - Journal exited loop!
2020-08-10 23:42:23,745 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:23,745 - INFO  - [Bookie-32843:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:23,746 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:23,853 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:23,854 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:23,861 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35153 with exitCode 0
2020-08-10 23:42:23,861 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:23,861 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:23,861 - INFO  - [SyncThread-361-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:23,863 - INFO  - [SyncThread-361-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10996598058065182446test/current/0.log for logId 0.
2020-08-10 23:42:23,866 - INFO  - [pool-237-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10996598058065182446test/current/1.log for logId 1.
2020-08-10 23:42:23,882 - INFO  - [SyncThread-361-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095741803 , logFileOffset - 2560]}.
2020-08-10 23:42:23,886 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:23,886 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:23,888 - INFO  - [BookieJournal-35153:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:23,888 - INFO  - [BookieJournal-35153:Journal@1144] - Journal exited loop!
2020-08-10 23:42:23,888 - INFO  - [Bookie-35153:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:23,889 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:23,889 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:23,890 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:23,890 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:23,890 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:23,890 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:23,893 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:23,893 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:23,893 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:24,000 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,001 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:24,009 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42257 with exitCode 0
2020-08-10 23:42:24,009 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:24,010 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:24,010 - INFO  - [SyncThread-371-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:24,011 - INFO  - [SyncThread-371-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16871648306884115637test/current/0.log for logId 0.
2020-08-10 23:42:24,014 - INFO  - [pool-244-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16871648306884115637test/current/1.log for logId 1.
2020-08-10 23:42:24,020 - INFO  - [SyncThread-371-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095742142 , logFileOffset - 2560]}.
2020-08-10 23:42:24,024 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:24,024 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:24,024 - INFO  - [BookieJournal-42257:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:24,024 - INFO  - [BookieJournal-42257:Journal@1144] - Journal exited loop!
2020-08-10 23:42:24,025 - INFO  - [Bookie-42257:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:24,025 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:24,027 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:24,027 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:24,027 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:24,027 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:24,027 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:24,030 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:24,030 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:24,030 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:24,140 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,140 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:24,146 - INFO  - [BookieDeathWatcher-42257:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:24,146 - INFO  - [BookieDeathWatcher-42257:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42257
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:24,146 - INFO  - [BookieDeathWatcher-42257:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,146 - INFO  - [BookieDeathWatcher-42257:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:24,150 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45587 with exitCode 0
2020-08-10 23:42:24,150 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:24,150 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:24,151 - INFO  - [SyncThread-381-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:24,155 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:24,155 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:24,155 - INFO  - [BookieJournal-45587:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:24,155 - INFO  - [BookieJournal-45587:Journal@1144] - Journal exited loop!
2020-08-10 23:42:24,155 - INFO  - [Bookie-45587:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:42:24,156 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:24,316 - INFO  - [BookieDeathWatcher-35153:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:24,316 - INFO  - [BookieDeathWatcher-35153:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35153
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:24,317 - INFO  - [BookieDeathWatcher-35153:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,317 - INFO  - [BookieDeathWatcher-35153:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:24,376 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadLACLongPollWhenAllBookiesUp[1] in 1058 ms.
2020-08-10 23:42:24,379 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestReadLastConfirmedLongPoll
2020-08-10 23:42:24,395 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:24,403 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:24,409 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:24,414 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:42:24,415 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:42:24,415 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:42:24,415 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:42:24,418 - INFO  - [BookieDeathWatcher-36185:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:24,418 - INFO  - [BookieDeathWatcher-36185:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36185
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:24,419 - INFO  - [BookieDeathWatcher-36185:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,419 - INFO  - [BookieDeathWatcher-36185:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:24,424 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:24,424 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10457905030003020778test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10457905030003020778test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:24,428 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:24,433 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:24,436 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:24,442 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10457905030003020778test/current] [/tmp/bookie10457905030003020778test/current]
2020-08-10 23:42:24,453 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:24,455 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10457905030003020778test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:24,455 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:24,455 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:24,456 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:24,456 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:24,456 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:24,460 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie10457905030003020778test/current
2020-08-10 23:42:24,476 - INFO  - [BookieDeathWatcher-45587:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:24,476 - INFO  - [BookieDeathWatcher-45587:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45587
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:24,477 - INFO  - [BookieDeathWatcher-45587:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,477 - INFO  - [BookieDeathWatcher-45587:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:24,804 - INFO  - [BookieDeathWatcher-32843:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:24,804 - INFO  - [BookieDeathWatcher-32843:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-32843
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:24,805 - INFO  - [BookieDeathWatcher-32843:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:24,805 - INFO  - [BookieDeathWatcher-32843:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:25,474 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:25,474 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:25,475 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:25,491 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41141 to become writable
2020-08-10 23:42:25,492 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:25,521 - INFO  - [SyncThread-397-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:25,524 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:25,526 - INFO  - [BookieJournal-41141:Journal@909] - Starting journal on /tmp/bookie10457905030003020778test/current
2020-08-10 23:42:25,526 - INFO  - [BookieJournal-41141:JournalChannel@157] - Opening journal /tmp/bookie10457905030003020778test/current/173da5317f7.txn
2020-08-10 23:42:25,527 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:25,534 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41141
2020-08-10 23:42:25,785 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41141' has been created.
2020-08-10 23:42:25,786 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:25,787 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8360023704963261526test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8360023704963261526test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:25,790 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:25,795 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:25,806 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:25,814 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8360023704963261526test/current] [/tmp/bookie8360023704963261526test/current]
2020-08-10 23:42:25,821 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:25,824 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8360023704963261526test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:25,825 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:25,825 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:25,825 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:25,825 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:25,825 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:25,826 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie8360023704963261526test/current
2020-08-10 23:42:25,884 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:25,885 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:25,885 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:25,896 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40691 to become writable
2020-08-10 23:42:25,900 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:25,920 - INFO  - [SyncThread-410-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:25,923 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:25,924 - INFO  - [BookieJournal-40691:Journal@909] - Starting journal on /tmp/bookie8360023704963261526test/current
2020-08-10 23:42:25,925 - INFO  - [BookieJournal-40691:JournalChannel@157] - Opening journal /tmp/bookie8360023704963261526test/current/173da531986.txn
2020-08-10 23:42:25,926 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:25,931 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40691
2020-08-10 23:42:26,181 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40691' has been created.
2020-08-10 23:42:26,182 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:26,183 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3980426750452001215test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3980426750452001215test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:26,186 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:26,194 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:26,197 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:26,204 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3980426750452001215test/current] [/tmp/bookie3980426750452001215test/current]
2020-08-10 23:42:26,212 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:26,215 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3980426750452001215test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:26,215 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:26,215 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:26,215 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:26,215 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:26,215 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:26,215 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie3980426750452001215test/current
2020-08-10 23:42:26,276 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:26,276 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:26,276 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:26,288 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46829 to become writable
2020-08-10 23:42:26,288 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:26,308 - INFO  - [SyncThread-423-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:26,312 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:26,316 - INFO  - [BookieJournal-46829:Journal@909] - Starting journal on /tmp/bookie3980426750452001215test/current
2020-08-10 23:42:26,316 - INFO  - [BookieJournal-46829:JournalChannel@157] - Opening journal /tmp/bookie3980426750452001215test/current/173da531b0d.txn
2020-08-10 23:42:26,317 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:26,323 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46829
2020-08-10 23:42:26,578 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46829' has been created.
2020-08-10 23:42:26,580 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:26,580 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7637185590380076495test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7637185590380076495test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:26,585 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:26,589 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:26,592 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:26,597 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7637185590380076495test/current] [/tmp/bookie7637185590380076495test/current]
2020-08-10 23:42:26,605 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:26,607 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7637185590380076495test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:26,607 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:26,607 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:26,607 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:26,607 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:26,607 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:26,607 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie7637185590380076495test/current
2020-08-10 23:42:26,688 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:26,688 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:26,688 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:26,695 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36963 to become writable
2020-08-10 23:42:26,695 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:26,711 - INFO  - [SyncThread-436-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:26,714 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:26,718 - INFO  - [BookieJournal-36963:Journal@909] - Starting journal on /tmp/bookie7637185590380076495test/current
2020-08-10 23:42:26,718 - INFO  - [BookieJournal-36963:JournalChannel@157] - Opening journal /tmp/bookie7637185590380076495test/current/173da531c9f.txn
2020-08-10 23:42:26,719 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:26,727 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36963
2020-08-10 23:42:26,978 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36963' has been created.
2020-08-10 23:42:26,981 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:26,981 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6540350355613418467test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6540350355613418467test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:26,985 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:26,989 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:26,991 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:27,001 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6540350355613418467test/current] [/tmp/bookie6540350355613418467test/current]
2020-08-10 23:42:27,008 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:27,010 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6540350355613418467test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:27,010 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:27,010 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:27,010 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:27,010 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:27,010 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:27,010 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie6540350355613418467test/current
2020-08-10 23:42:27,067 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:27,067 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:27,067 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:27,074 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43975 to become writable
2020-08-10 23:42:27,074 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:27,091 - INFO  - [SyncThread-449-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:27,095 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:27,096 - INFO  - [BookieJournal-43975:Journal@909] - Starting journal on /tmp/bookie6540350355613418467test/current
2020-08-10 23:42:27,096 - INFO  - [BookieJournal-43975:JournalChannel@157] - Opening journal /tmp/bookie6540350355613418467test/current/173da531e19.txn
2020-08-10 23:42:27,097 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:27,101 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43975
2020-08-10 23:42:27,350 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43975' has been created.
2020-08-10 23:42:27,352 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:27,352 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8438725456964990520test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8438725456964990520test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:27,355 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:27,360 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:27,364 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:27,373 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8438725456964990520test/current] [/tmp/bookie8438725456964990520test/current]
2020-08-10 23:42:27,381 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:27,383 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8438725456964990520test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:27,383 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:27,383 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:27,383 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:27,383 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:27,384 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:27,384 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie8438725456964990520test/current
2020-08-10 23:42:27,455 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:27,455 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:27,455 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:27,466 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36583 to become writable
2020-08-10 23:42:27,467 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:27,493 - INFO  - [SyncThread-462-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:27,496 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:27,497 - INFO  - [BookieJournal-36583:Journal@909] - Starting journal on /tmp/bookie8438725456964990520test/current
2020-08-10 23:42:27,498 - INFO  - [BookieJournal-36583:JournalChannel@157] - Opening journal /tmp/bookie8438725456964990520test/current/173da531fab.txn
2020-08-10 23:42:27,499 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:27,506 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36583
2020-08-10 23:42:27,755 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36583' has been created.
2020-08-10 23:42:27,756 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadLACLongPollWhenSomeBookiesDown[2] @ metadata service zk://localhost:45665/ledgers in 3376 ms.
2020-08-10 23:42:27,757 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:36963, 127.0.0.1:43975, 127.0.0.1:40691] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:42:27,781 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:36963, 127.0.0.1:43975, 127.0.0.1:40691] for ledger: 0
2020-08-10 23:42:27,793 - INFO  - [bookie-io-444-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:27,793 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xa8d509dc, L:/127.0.0.1:56994 - R:127.0.0.1/127.0.0.1:40691]
2020-08-10 23:42:27,793 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40691
2020-08-10 23:42:27,793 - INFO  - [bookkeeper-io-388-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x3f9fe64a, L:/127.0.0.1:42482 - R:127.0.0.1/127.0.0.1:43975]
2020-08-10 23:42:27,794 - INFO  - [bookkeeper-io-388-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:43975
2020-08-10 23:42:27,794 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient$1@471] - connection [id: 0xa8d509dc, L:/127.0.0.1:56994 - R:127.0.0.1/127.0.0.1:40691] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:27,794 - INFO  - [bookkeeper-io-388-2:PerChannelBookieClient$1@471] - connection [id: 0x3f9fe64a, L:/127.0.0.1:42482 - R:127.0.0.1/127.0.0.1:43975] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:27,793 - INFO  - [bookkeeper-io-388-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x546f17cb, L:/127.0.0.1:45742 - R:127.0.0.1/127.0.0.1:36963]
2020-08-10 23:42:27,794 - INFO  - [bookkeeper-io-388-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36963
2020-08-10 23:42:27,793 - INFO  - [bookie-io-431-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:27,795 - INFO  - [bookie-io-431-2:BookieRequestHandler@50] - Channel connected  [id: 0xddbd8d34, L:/127.0.0.1:36963 - R:/127.0.0.1:45742]
2020-08-10 23:42:27,793 - INFO  - [bookie-io-444-2:BookieRequestHandler@50] - Channel connected  [id: 0x40124c1e, L:/127.0.0.1:43975 - R:/127.0.0.1:42482]
2020-08-10 23:42:27,794 - INFO  - [bookkeeper-io-388-1:PerChannelBookieClient$1@471] - connection [id: 0x546f17cb, L:/127.0.0.1:45742 - R:127.0.0.1/127.0.0.1:36963] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:27,796 - INFO  - [bookie-io-405-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:27,796 - INFO  - [bookie-io-405-2:BookieRequestHandler@50] - Channel connected  [id: 0x5d03af8f, L:/127.0.0.1:40691 - R:/127.0.0.1:56994]
2020-08-10 23:42:27,836 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:27,836 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:27,837 - WARN  - [bookkeeper-io-388-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x3f9fe64a, L:/127.0.0.1:42482 - R:127.0.0.1/127.0.0.1:43975] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:27,837 - INFO  - [bookkeeper-io-388-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x3f9fe64a, L:/127.0.0.1:42482 ! R:127.0.0.1/127.0.0.1:43975]
2020-08-10 23:42:27,837 - INFO  - [bookie-io-444-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x40124c1e, L:/127.0.0.1:43975 ! R:/127.0.0.1:42482]
2020-08-10 23:42:27,840 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43975 with exitCode 0
2020-08-10 23:42:27,841 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:27,841 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:27,846 - INFO  - [SyncThread-449-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:27,847 - INFO  - [SyncThread-449-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6540350355613418467test/current/0.log for logId 0.
2020-08-10 23:42:27,851 - INFO  - [pool-287-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6540350355613418467test/current/1.log for logId 1.
2020-08-10 23:42:27,871 - INFO  - [SyncThread-449-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095747097 , logFileOffset - 1024]}.
2020-08-10 23:42:27,875 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:27,875 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:27,875 - INFO  - [BookieJournal-43975:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:27,875 - INFO  - [BookieJournal-43975:Journal@1144] - Journal exited loop!
2020-08-10 23:42:27,876 - INFO  - [Bookie-43975:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:27,876 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:27,896 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:27,896 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:27,898 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:27,900 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:28,009 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:43975
2020-08-10 23:42:28,015 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:28,016 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:28,016 - INFO  - [bookie-io-405-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x5d03af8f, L:/127.0.0.1:40691 ! R:/127.0.0.1:56994]
2020-08-10 23:42:28,017 - WARN  - [bookkeeper-io-388-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0xa8d509dc, L:/127.0.0.1:56994 - R:127.0.0.1/127.0.0.1:40691] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:28,017 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xa8d509dc, L:/127.0.0.1:56994 ! R:127.0.0.1/127.0.0.1:40691]
2020-08-10 23:42:28,025 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40691 with exitCode 0
2020-08-10 23:42:28,025 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:28,025 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:28,026 - INFO  - [SyncThread-410-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:28,026 - INFO  - [SyncThread-410-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8360023704963261526test/current/0.log for logId 0.
2020-08-10 23:42:28,028 - INFO  - [pool-269-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8360023704963261526test/current/1.log for logId 1.
2020-08-10 23:42:28,048 - INFO  - [SyncThread-410-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095745926 , logFileOffset - 1024]}.
2020-08-10 23:42:28,052 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:28,052 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:28,052 - INFO  - [BookieJournal-40691:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:28,052 - INFO  - [BookieJournal-40691:Journal@1144] - Journal exited loop!
2020-08-10 23:42:28,053 - INFO  - [Bookie-40691:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:28,053 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:28,065 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:28,065 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:28,067 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:28,068 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:28,104 - INFO  - [BookieDeathWatcher-43975:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:28,104 - INFO  - [BookieDeathWatcher-43975:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43975
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:28,105 - INFO  - [BookieDeathWatcher-43975:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:28,105 - INFO  - [BookieDeathWatcher-43975:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:28,174 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40691
2020-08-10 23:42:28,178 - ERROR - [bookkeeper-io-388-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xcd7eb2ab, L:/127.0.0.1:42486]/127.0.0.1:43975, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:43975
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:28,182 - ERROR - [bookkeeper-io-388-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x92004a96, L:/127.0.0.1:56998]/127.0.0.1:40691, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40691
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:28,189 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "43975",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6540350355613418467test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6540350355613418467test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:28,192 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:28,197 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:28,201 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:28,210 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:28,212 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:28,212 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:28,212 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:28,212 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:28,212 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:28,213 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie6540350355613418467test/current
2020-08-10 23:42:28,267 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:28,267 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:28,267 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:28,273 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43975 to become writable
2020-08-10 23:42:28,275 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095747097 from position 1024
2020-08-10 23:42:28,275 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie6540350355613418467test/current/173da531e19.txn
2020-08-10 23:42:28,275 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:28,286 - INFO  - [SyncThread-475-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095747097 , logFileOffset - 1028]}.
2020-08-10 23:42:28,289 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:28,290 - INFO  - [BookieJournal-43975:Journal@909] - Starting journal on /tmp/bookie6540350355613418467test/current
2020-08-10 23:42:28,290 - INFO  - [BookieJournal-43975:JournalChannel@157] - Opening journal /tmp/bookie6540350355613418467test/current/173da531e1a.txn
2020-08-10 23:42:28,291 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:28,298 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43975
2020-08-10 23:42:28,547 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43975' has been created.
2020-08-10 23:42:28,548 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40691",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8360023704963261526test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8360023704963261526test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:28,552 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:28,556 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:28,559 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:28,572 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:28,575 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:28,575 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:28,575 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:28,575 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:28,575 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:28,575 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie8360023704963261526test/current
2020-08-10 23:42:28,631 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:28,631 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:28,631 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:28,639 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40691 to become writable
2020-08-10 23:42:28,640 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095745926 from position 1024
2020-08-10 23:42:28,640 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie8360023704963261526test/current/173da531986.txn
2020-08-10 23:42:28,640 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:28,659 - INFO  - [SyncThread-488-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095745926 , logFileOffset - 1028]}.
2020-08-10 23:42:28,662 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:28,663 - INFO  - [BookieJournal-40691:Journal@909] - Starting journal on /tmp/bookie8360023704963261526test/current
2020-08-10 23:42:28,664 - INFO  - [BookieJournal-40691:JournalChannel@157] - Opening journal /tmp/bookie8360023704963261526test/current/173da531987.txn
2020-08-10 23:42:28,664 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:28,668 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40691
2020-08-10 23:42:28,918 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40691' has been created.
2020-08-10 23:42:28,921 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:28,921 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:28,933 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40691 with exitCode 0
2020-08-10 23:42:28,933 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:28,933 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:28,934 - INFO  - [BookieDeathWatcher-40691:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:28,935 - INFO  - [BookieDeathWatcher-40691:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40691
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:28,935 - INFO  - [BookieDeathWatcher-40691:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:28,935 - INFO  - [BookieDeathWatcher-40691:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:28,942 - INFO  - [SyncThread-488-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095745926 , logFileOffset - 1028]}.
2020-08-10 23:42:28,946 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:28,946 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:28,946 - INFO  - [BookieJournal-40691:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:28,946 - INFO  - [BookieJournal-40691:Journal@1144] - Journal exited loop!
2020-08-10 23:42:28,947 - INFO  - [Bookie-40691:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:28,947 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:28,958 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:28,959 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:28,959 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:28,962 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:28,965 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40691
2020-08-10 23:42:29,071 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:29,072 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:29,075 - WARN  - [bookkeeper-io-388-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0x546f17cb, L:/127.0.0.1:45742 - R:127.0.0.1/127.0.0.1:36963] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:29,075 - INFO  - [bookkeeper-io-388-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x546f17cb, L:/127.0.0.1:45742 ! R:127.0.0.1/127.0.0.1:36963]
2020-08-10 23:42:29,075 - INFO  - [bookie-io-431-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xddbd8d34, L:/127.0.0.1:36963 ! R:/127.0.0.1:45742]
2020-08-10 23:42:29,078 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36963 with exitCode 0
2020-08-10 23:42:29,078 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:29,078 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:29,079 - INFO  - [SyncThread-436-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:42:29,079 - INFO  - [SyncThread-436-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7637185590380076495test/current/0.log for logId 0.
2020-08-10 23:42:29,081 - INFO  - [pool-281-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7637185590380076495test/current/1.log for logId 1.
2020-08-10 23:42:29,104 - INFO  - [SyncThread-436-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095746719 , logFileOffset - 1024]}.
2020-08-10 23:42:29,108 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:29,108 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:29,108 - INFO  - [BookieJournal-36963:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:29,108 - INFO  - [BookieJournal-36963:Journal@1144] - Journal exited loop!
2020-08-10 23:42:29,108 - INFO  - [Bookie-36963:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:29,109 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:29,121 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:29,121 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:29,123 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:29,126 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:29,130 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:36963
2020-08-10 23:42:29,236 - ERROR - [bookkeeper-io-388-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x39c73c17, L:/127.0.0.1:45756]/127.0.0.1:36963, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:36963
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:29,237 - INFO  - [bookkeeper-io-388-7:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xab767545, L:/127.0.0.1:42496 - R:127.0.0.1/127.0.0.1:43975]
2020-08-10 23:42:29,238 - INFO  - [bookkeeper-io-388-7:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:43975
2020-08-10 23:42:29,238 - INFO  - [bookkeeper-io-388-7:PerChannelBookieClient$1@471] - connection [id: 0xab767545, L:/127.0.0.1:42496 - R:127.0.0.1/127.0.0.1:43975] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:29,238 - ERROR - [bookkeeper-io-388-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x5e4d3b2a, L:/127.0.0.1:57008]/127.0.0.1:40691, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40691
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:29,239 - INFO  - [bookie-io-470-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:29,239 - INFO  - [bookie-io-470-2:BookieRequestHandler@50] - Channel connected  [id: 0x8875dc38, L:/127.0.0.1:43975 - R:/127.0.0.1:42496]
2020-08-10 23:42:29,244 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40691",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8360023704963261526test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8360023704963261526test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:29,246 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:29,251 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:29,254 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:29,265 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:29,266 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:29,266 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:29,266 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:29,267 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:29,267 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:29,267 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie8360023704963261526test/current
2020-08-10 23:42:29,290 - INFO  - [GarbageCollectorThread-479-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:29,291 - INFO  - [GarbageCollectorThread-479-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:29,292 - INFO  - [GarbageCollectorThread-479-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:29,292 - INFO  - [GarbageCollectorThread-479-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:29,728 - INFO  - [BookieDeathWatcher-36963:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:29,728 - INFO  - [BookieDeathWatcher-36963:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36963
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:29,729 - INFO  - [BookieDeathWatcher-36963:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:29,729 - INFO  - [BookieDeathWatcher-36963:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:29,796 - INFO  - [BookieDeathWatcher-40691:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:29,797 - INFO  - [BookieDeathWatcher-40691:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40691
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:29,807 - INFO  - [BookieDeathWatcher-40691:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:29,807 - INFO  - [BookieDeathWatcher-40691:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:29,826 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:29,826 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:29,826 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:29,834 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40691 to become writable
2020-08-10 23:42:29,834 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095745926 from position 1028
2020-08-10 23:42:29,834 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie8360023704963261526test/current/173da531986.txn
2020-08-10 23:42:29,834 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095745927 from position 0
2020-08-10 23:42:29,834 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie8360023704963261526test/current/173da531987.txn
2020-08-10 23:42:29,835 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:29,846 - INFO  - [SyncThread-501-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095745927 , logFileOffset - 516]}.
2020-08-10 23:42:29,849 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:29,850 - INFO  - [BookieJournal-40691:Journal@909] - Starting journal on /tmp/bookie8360023704963261526test/current
2020-08-10 23:42:29,851 - INFO  - [BookieJournal-40691:JournalChannel@157] - Opening journal /tmp/bookie8360023704963261526test/current/173da531988.txn
2020-08-10 23:42:29,852 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:29,857 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40691
2020-08-10 23:42:30,109 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40691' has been created.
2020-08-10 23:42:30,109 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "36963",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7637185590380076495test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7637185590380076495test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:30,113 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:30,117 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:30,119 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:30,126 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:30,127 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:30,128 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:30,128 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:30,128 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:30,128 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:30,128 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie7637185590380076495test/current
2020-08-10 23:42:30,177 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:30,178 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:30,178 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:30,186 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36963 to become writable
2020-08-10 23:42:30,187 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095746719 from position 1024
2020-08-10 23:42:30,187 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie7637185590380076495test/current/173da531c9f.txn
2020-08-10 23:42:30,188 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:30,198 - INFO  - [SyncThread-514-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095746719 , logFileOffset - 1028]}.
2020-08-10 23:42:30,201 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:30,202 - INFO  - [BookieJournal-36963:Journal@909] - Starting journal on /tmp/bookie7637185590380076495test/current
2020-08-10 23:42:30,202 - INFO  - [BookieJournal-36963:JournalChannel@157] - Opening journal /tmp/bookie7637185590380076495test/current/173da531ca0.txn
2020-08-10 23:42:30,203 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:30,209 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36963
2020-08-10 23:42:30,462 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36963' has been created.
2020-08-10 23:42:30,465 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:30,466 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:30,469 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36963 with exitCode 0
2020-08-10 23:42:30,470 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:30,470 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:30,480 - INFO  - [SyncThread-514-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095746719 , logFileOffset - 1028]}.
2020-08-10 23:42:30,484 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:30,484 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:30,484 - INFO  - [BookieJournal-36963:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:30,484 - INFO  - [BookieJournal-36963:Journal@1144] - Journal exited loop!
2020-08-10 23:42:30,485 - INFO  - [Bookie-36963:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:30,485 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:30,495 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:30,495 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:30,495 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:30,496 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:30,602 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:36963
2020-08-10 23:42:30,607 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:30,607 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:30,608 - WARN  - [bookkeeper-io-388-7:PerChannelBookieClient@1270] - Exception caught on:[id: 0xab767545, L:/127.0.0.1:42496 - R:127.0.0.1/127.0.0.1:43975] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:42:30,608 - INFO  - [bookkeeper-io-388-7:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xab767545, L:/127.0.0.1:42496 ! R:127.0.0.1/127.0.0.1:43975]
2020-08-10 23:42:30,609 - INFO  - [bookie-io-470-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x8875dc38, L:/127.0.0.1:43975 ! R:/127.0.0.1:42496]
2020-08-10 23:42:30,617 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43975 with exitCode 0
2020-08-10 23:42:30,617 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:30,617 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:30,627 - INFO  - [SyncThread-475-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095747097 , logFileOffset - 1028]}.
2020-08-10 23:42:30,630 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:30,631 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:30,631 - INFO  - [BookieJournal-43975:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:30,631 - INFO  - [BookieJournal-43975:Journal@1144] - Journal exited loop!
2020-08-10 23:42:30,631 - INFO  - [Bookie-43975:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:30,631 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:30,642 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:30,643 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:30,643 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:30,644 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:30,648 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:43975
2020-08-10 23:42:30,750 - ERROR - [bookkeeper-io-388-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x184f832c, L:/127.0.0.1:45766]/127.0.0.1:36963, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:36963
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:30,750 - ERROR - [bookkeeper-io-388-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xaada3e75, L:/127.0.0.1:42506]/127.0.0.1:43975, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:43975
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:42:30,752 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient$1@471] - connection null authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:30,752 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xfbe510e0, L:/127.0.0.1:57018 - R:127.0.0.1/127.0.0.1:40691]
2020-08-10 23:42:30,752 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40691
2020-08-10 23:42:30,755 - INFO  - [bookie-io-496-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:30,756 - INFO  - [bookie-io-496-2:BookieRequestHandler@50] - Channel connected  [id: 0x689d5f73, L:/127.0.0.1:40691 - R:/127.0.0.1:57018]
2020-08-10 23:42:30,760 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "36963",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7637185590380076495test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7637185590380076495test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:30,764 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:30,769 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:30,771 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:30,788 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:30,789 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:30,790 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:30,790 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:30,790 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:30,790 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:30,790 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie7637185590380076495test/current
2020-08-10 23:42:30,842 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:30,842 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:30,843 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:30,850 - INFO  - [GarbageCollectorThread-505-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:30,851 - INFO  - [GarbageCollectorThread-505-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:30,852 - INFO  - [GarbageCollectorThread-505-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:30,852 - INFO  - [GarbageCollectorThread-505-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:30,856 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36963 to become writable
2020-08-10 23:42:30,857 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095746719 from position 1028
2020-08-10 23:42:30,857 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie7637185590380076495test/current/173da531c9f.txn
2020-08-10 23:42:30,857 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095746720 from position 0
2020-08-10 23:42:30,857 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie7637185590380076495test/current/173da531ca0.txn
2020-08-10 23:42:30,857 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:30,868 - INFO  - [SyncThread-527-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095746720 , logFileOffset - 516]}.
2020-08-10 23:42:30,872 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:30,873 - INFO  - [BookieJournal-36963:Journal@909] - Starting journal on /tmp/bookie7637185590380076495test/current
2020-08-10 23:42:30,876 - INFO  - [BookieJournal-36963:JournalChannel@157] - Opening journal /tmp/bookie7637185590380076495test/current/173da531ca1.txn
2020-08-10 23:42:30,877 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:30,884 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36963
2020-08-10 23:42:31,133 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36963' has been created.
2020-08-10 23:42:31,134 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "43975",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6540350355613418467test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45665/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6540350355613418467test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:31,136 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45665/ledgers : zkServers = localhost:45665, ledgersRootPath = /ledgers.
2020-08-10 23:42:31,141 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:31,145 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:31,154 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:31,156 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:31,156 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:31,156 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:31,156 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:31,156 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:31,157 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie6540350355613418467test/current
2020-08-10 23:42:31,202 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:31,202 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:31,202 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:31,209 - INFO  - [BookieDeathWatcher-36963:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:31,209 - INFO  - [BookieDeathWatcher-36963:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36963
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:31,209 - INFO  - [BookieDeathWatcher-36963:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:31,209 - INFO  - [BookieDeathWatcher-36963:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:31,213 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43975 to become writable
2020-08-10 23:42:31,213 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095747097 from position 1028
2020-08-10 23:42:31,213 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie6540350355613418467test/current/173da531e19.txn
2020-08-10 23:42:31,213 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597095747098 from position 0
2020-08-10 23:42:31,214 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie6540350355613418467test/current/173da531e1a.txn
2020-08-10 23:42:31,214 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:31,232 - INFO  - [SyncThread-540-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095747098 , logFileOffset - 516]}.
2020-08-10 23:42:31,235 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:31,237 - INFO  - [BookieJournal-43975:Journal@909] - Starting journal on /tmp/bookie6540350355613418467test/current
2020-08-10 23:42:31,237 - INFO  - [BookieJournal-43975:JournalChannel@157] - Opening journal /tmp/bookie6540350355613418467test/current/173da531e1b.txn
2020-08-10 23:42:31,237 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:31,245 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43975
2020-08-10 23:42:31,299 - INFO  - [BookieDeathWatcher-43975:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:31,299 - INFO  - [BookieDeathWatcher-43975:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43975
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:31,299 - INFO  - [BookieDeathWatcher-43975:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:31,299 - INFO  - [BookieDeathWatcher-43975:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:31,496 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43975' has been created.
2020-08-10 23:42:31,496 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:42:31,496 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:43975
2020-08-10 23:42:31,496 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36963
2020-08-10 23:42:31,496 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40691
2020-08-10 23:42:31,497 - INFO  - [bookkeeper-io-388-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xfbe510e0, L:/127.0.0.1:57018 ! R:127.0.0.1/127.0.0.1:40691]
2020-08-10 23:42:31,497 - INFO  - [bookie-io-496-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x689d5f73, L:/127.0.0.1:40691 ! R:/127.0.0.1:57018]
2020-08-10 23:42:31,610 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:31,610 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:31,620 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41141 with exitCode 0
2020-08-10 23:42:31,620 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:31,620 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:31,630 - INFO  - [SyncThread-397-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:31,633 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:31,634 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:31,634 - INFO  - [BookieJournal-41141:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:31,634 - INFO  - [BookieJournal-41141:Journal@1144] - Journal exited loop!
2020-08-10 23:42:31,634 - INFO  - [Bookie-41141:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:31,634 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:31,645 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:31,645 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:31,645 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:31,646 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:31,754 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:31,754 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:31,757 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46829 with exitCode 0
2020-08-10 23:42:31,758 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:31,758 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:31,769 - INFO  - [SyncThread-423-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:31,773 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:31,773 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:31,773 - INFO  - [BookieJournal-46829:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:31,773 - INFO  - [BookieJournal-46829:Journal@1144] - Journal exited loop!
2020-08-10 23:42:31,773 - INFO  - [Bookie-46829:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:31,773 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:31,787 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:31,787 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:31,787 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:31,789 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:31,874 - INFO  - [GarbageCollectorThread-531-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:31,874 - INFO  - [GarbageCollectorThread-531-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:31,875 - INFO  - [GarbageCollectorThread-531-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:42:31,875 - INFO  - [GarbageCollectorThread-531-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:42:31,893 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:31,894 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:31,906 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36583 with exitCode 0
2020-08-10 23:42:31,906 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:31,906 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:31,919 - INFO  - [SyncThread-462-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:31,923 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:31,924 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:31,924 - INFO  - [BookieJournal-36583:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:31,924 - INFO  - [BookieJournal-36583:Journal@1144] - Journal exited loop!
2020-08-10 23:42:31,924 - INFO  - [Bookie-36583:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:31,924 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:31,935 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:31,936 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:31,936 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:31,938 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:32,043 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,044 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,049 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40691 with exitCode 0
2020-08-10 23:42:32,049 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:32,049 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:32,060 - INFO  - [SyncThread-501-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095745927 , logFileOffset - 516]}.
2020-08-10 23:42:32,064 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:32,064 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:32,064 - INFO  - [BookieJournal-40691:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:32,064 - INFO  - [BookieJournal-40691:Journal@1144] - Journal exited loop!
2020-08-10 23:42:32,065 - INFO  - [Bookie-40691:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:32,065 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:32,076 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:32,076 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:32,076 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:32,078 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:32,184 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,185 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,189 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36963 with exitCode 0
2020-08-10 23:42:32,189 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:32,189 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:32,200 - INFO  - [SyncThread-527-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095746720 , logFileOffset - 516]}.
2020-08-10 23:42:32,203 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:32,204 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:32,204 - INFO  - [BookieJournal-36963:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:32,204 - INFO  - [BookieJournal-36963:Journal@1144] - Journal exited loop!
2020-08-10 23:42:32,204 - INFO  - [Bookie-36963:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:32,204 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:32,216 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:32,216 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:32,216 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:32,217 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:32,236 - INFO  - [GarbageCollectorThread-544-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:42:32,237 - INFO  - [GarbageCollectorThread-544-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:42:32,324 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,324 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,325 - INFO  - [BookieDeathWatcher-46829:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:32,325 - INFO  - [BookieDeathWatcher-46829:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46829
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:32,325 - INFO  - [BookieDeathWatcher-46829:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,325 - INFO  - [BookieDeathWatcher-46829:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,330 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43975 with exitCode 0
2020-08-10 23:42:32,331 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:42:32,331 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:42:32,342 - INFO  - [SyncThread-540-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095747098 , logFileOffset - 516]}.
2020-08-10 23:42:32,346 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:42:32,346 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:42:32,346 - INFO  - [BookieJournal-43975:Journal@1135] - Journal exits when shutting down
2020-08-10 23:42:32,346 - INFO  - [BookieJournal-43975:Journal@1144] - Journal exited loop!
2020-08-10 23:42:32,346 - INFO  - [Bookie-43975:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:42:32,346 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:42:32,357 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:42:32,357 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:42:32,357 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:42:32,361 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:42:32,542 - INFO  - [BookieDeathWatcher-41141:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:32,542 - INFO  - [BookieDeathWatcher-41141:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41141
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:32,542 - INFO  - [BookieDeathWatcher-41141:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,542 - INFO  - [BookieDeathWatcher-41141:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,594 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadLACLongPollWhenSomeBookiesDown[2] in 1098 ms.
2020-08-10 23:42:32,596 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.TestReadLastConfirmedLongPoll
2020-08-10 23:42:32,614 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:32,622 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:32,630 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:32,633 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:42:32,634 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:42:32,634 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:42:32,635 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:42:32,644 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:32,645 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7922271653691637420test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35415/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7922271653691637420test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:32,648 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:32,654 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:32,656 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:32,662 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7922271653691637420test/current] [/tmp/bookie7922271653691637420test/current]
2020-08-10 23:42:32,672 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:32,673 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7922271653691637420test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:32,674 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:32,674 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:32,674 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:32,674 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:32,674 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:32,674 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie7922271653691637420test/current
2020-08-10 23:42:32,733 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:32,734 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:32,734 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:32,740 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42193 to become writable
2020-08-10 23:42:32,741 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:32,757 - INFO  - [SyncThread-559-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:32,760 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:32,761 - INFO  - [BookieJournal-42193:Journal@909] - Starting journal on /tmp/bookie7922271653691637420test/current
2020-08-10 23:42:32,761 - INFO  - [BookieJournal-42193:JournalChannel@157] - Opening journal /tmp/bookie7922271653691637420test/current/173da53343a.txn
2020-08-10 23:42:32,761 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:32,769 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42193
2020-08-10 23:42:32,802 - INFO  - [BookieDeathWatcher-36583:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:32,802 - INFO  - [BookieDeathWatcher-36583:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36583
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:32,802 - INFO  - [BookieDeathWatcher-36583:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,802 - INFO  - [BookieDeathWatcher-36583:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,857 - INFO  - [BookieDeathWatcher-40691:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:32,858 - INFO  - [BookieDeathWatcher-40691:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40691
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:32,858 - INFO  - [BookieDeathWatcher-40691:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,858 - INFO  - [BookieDeathWatcher-40691:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:32,883 - INFO  - [BookieDeathWatcher-36963:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:32,884 - INFO  - [BookieDeathWatcher-36963:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36963
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:32,884 - INFO  - [BookieDeathWatcher-36963:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:32,884 - INFO  - [BookieDeathWatcher-36963:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:33,019 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42193' has been created.
2020-08-10 23:42:33,021 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:33,021 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie13756254002396429163test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35415/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie13756254002396429163test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:33,026 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:33,030 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:33,033 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:33,048 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie13756254002396429163test/current] [/tmp/bookie13756254002396429163test/current]
2020-08-10 23:42:33,058 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:33,060 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie13756254002396429163test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:33,060 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:33,060 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:33,060 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:33,060 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:33,060 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:33,060 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie13756254002396429163test/current
2020-08-10 23:42:33,120 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:33,120 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:33,120 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:33,128 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45797 to become writable
2020-08-10 23:42:33,128 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:33,144 - INFO  - [SyncThread-572-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:33,147 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:33,148 - INFO  - [BookieJournal-45797:Journal@909] - Starting journal on /tmp/bookie13756254002396429163test/current
2020-08-10 23:42:33,149 - INFO  - [BookieJournal-45797:JournalChannel@157] - Opening journal /tmp/bookie13756254002396429163test/current/173da5335be.txn
2020-08-10 23:42:33,150 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:33,158 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45797
2020-08-10 23:42:33,245 - INFO  - [BookieDeathWatcher-43975:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:42:33,245 - INFO  - [BookieDeathWatcher-43975:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43975
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:42:33,245 - INFO  - [BookieDeathWatcher-43975:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:42:33,245 - INFO  - [BookieDeathWatcher-43975:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:42:33,409 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45797' has been created.
2020-08-10 23:42:33,411 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:33,411 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6585446440434437712test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35415/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6585446440434437712test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:33,416 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:33,420 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:33,422 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:33,428 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6585446440434437712test/current] [/tmp/bookie6585446440434437712test/current]
2020-08-10 23:42:33,445 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:33,447 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6585446440434437712test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:33,447 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:33,447 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:33,447 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:33,447 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:33,447 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:33,447 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie6585446440434437712test/current
2020-08-10 23:42:33,511 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:33,512 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:33,512 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:33,519 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38673 to become writable
2020-08-10 23:42:33,520 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:33,531 - INFO  - [SyncThread-585-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:33,804 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:33,809 - INFO  - [BookieJournal-38673:Journal@909] - Starting journal on /tmp/bookie6585446440434437712test/current
2020-08-10 23:42:33,810 - INFO  - [BookieJournal-38673:JournalChannel@157] - Opening journal /tmp/bookie6585446440434437712test/current/173da533853.txn
2020-08-10 23:42:33,810 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:33,816 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38673
2020-08-10 23:42:34,081 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38673' has been created.
2020-08-10 23:42:34,083 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:34,083 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie254324669832682573test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35415/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie254324669832682573test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:34,086 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:34,092 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:34,096 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:34,100 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie254324669832682573test/current] [/tmp/bookie254324669832682573test/current]
2020-08-10 23:42:34,109 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:34,110 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie254324669832682573test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:34,111 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:34,111 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:34,111 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:34,111 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:34,111 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:34,112 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie254324669832682573test/current
2020-08-10 23:42:34,193 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:34,193 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:34,193 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:34,203 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37345 to become writable
2020-08-10 23:42:34,204 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:34,215 - INFO  - [SyncThread-598-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:34,219 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:34,220 - INFO  - [BookieJournal-37345:Journal@909] - Starting journal on /tmp/bookie254324669832682573test/current
2020-08-10 23:42:34,221 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:34,221 - INFO  - [BookieJournal-37345:JournalChannel@157] - Opening journal /tmp/bookie254324669832682573test/current/173da5339ee.txn
2020-08-10 23:42:34,226 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37345
2020-08-10 23:42:34,476 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37345' has been created.
2020-08-10 23:42:34,477 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:34,477 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie13898227462807362935test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35415/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie13898227462807362935test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:34,481 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:34,485 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:34,487 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:34,497 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie13898227462807362935test/current] [/tmp/bookie13898227462807362935test/current]
2020-08-10 23:42:34,505 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:34,507 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie13898227462807362935test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:34,507 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:34,507 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:34,507 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:34,507 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:34,507 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:34,508 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie13898227462807362935test/current
2020-08-10 23:42:34,563 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:34,564 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:34,564 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:34,574 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41901 to become writable
2020-08-10 23:42:34,575 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:42:34,587 - INFO  - [SyncThread-611-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:34,590 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:34,591 - INFO  - [BookieJournal-41901:Journal@909] - Starting journal on /tmp/bookie13898227462807362935test/current
2020-08-10 23:42:34,591 - INFO  - [BookieJournal-41901:JournalChannel@157] - Opening journal /tmp/bookie13898227462807362935test/current/173da533b60.txn
2020-08-10 23:42:34,592 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:34,598 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41901
2020-08-10 23:42:34,850 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41901' has been created.
2020-08-10 23:42:34,851 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:42:34,852 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1554368393539740661test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35415/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1554368393539740661test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:42:34,855 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35415/ledgers : zkServers = localhost:35415, ledgersRootPath = /ledgers.
2020-08-10 23:42:34,859 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:42:34,862 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:42:34,867 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1554368393539740661test/current] [/tmp/bookie1554368393539740661test/current]
2020-08-10 23:42:34,874 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:42:34,875 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1554368393539740661test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:42:34,875 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage
2020-08-10 23:42:34,876 - INFO  - [Time-limited test:DbLedgerStorage@108] - Started Db Ledger Storage
2020-08-10 23:42:34,876 - INFO  - [Time-limited test:DbLedgerStorage@109] -  - Number of directories: 1
2020-08-10 23:42:34,876 - INFO  - [Time-limited test:DbLedgerStorage@110] -  - Write cache size: 4 MB
2020-08-10 23:42:34,876 - INFO  - [Time-limited test:DbLedgerStorage@111] -  - Read Cache: 4 MB
2020-08-10 23:42:34,876 - INFO  - [Time-limited test:SingleDirectoryDbLedgerStorage@144] - Creating single directory db ledger storage on /tmp/bookie1554368393539740661test/current
2020-08-10 23:42:34,937 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:42:34,938 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:42:34,938 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:42:34,950 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43371 to become writable
2020-08-10 23:42:34,951 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:42:34,971 - INFO  - [SyncThread-624-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:42:34,974 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:42:34,976 - INFO  - [BookieJournal-43371:Journal@909] - Starting journal on /tmp/bookie1554368393539740661test/current
2020-08-10 23:42:34,976 - INFO  - [BookieJournal-43371:JournalChannel@157] - Opening journal /tmp/bookie1554368393539740661test/current/173da533ce1.txn
2020-08-10 23:42:34,977 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:42:34,983 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43371
2020-08-10 23:42:35,232 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43371' has been created.
2020-08-10 23:42:35,233 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadLACLongPollWhenAllBookiesUp[2] @ metadata service zk://localhost:35415/ledgers in 2637 ms.
2020-08-10 23:42:35,234 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:42193, 127.0.0.1:37345, 127.0.0.1:45797] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:42:35,257 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:42193, 127.0.0.1:37345, 127.0.0.1:45797] for ledger: 0
2020-08-10 23:42:35,261 - INFO  - [bookkeeper-io-550-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x95475f3b, L:/127.0.0.1:47488 - R:127.0.0.1/127.0.0.1:42193]
2020-08-10 23:42:35,262 - INFO  - [bookkeeper-io-550-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42193
2020-08-10 23:42:35,262 - INFO  - [bookkeeper-io-550-1:PerChannelBookieClient$1@471] - connection [id: 0x95475f3b, L:/127.0.0.1:47488 - R:127.0.0.1/127.0.0.1:42193] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:35,268 - INFO  - [bookkeeper-io-550-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xce7d793a, L:/127.0.0.1:46382 - R:127.0.0.1/127.0.0.1:37345]
2020-08-10 23:42:35,269 - INFO  - [bookkeeper-io-550-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37345
2020-08-10 23:42:35,269 - INFO  - [bookkeeper-io-550-2:PerChannelBookieClient$1@471] - connection [id: 0xce7d793a, L:/127.0.0.1:46382 - R:127.0.0.1/127.0.0.1:37345] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:35,269 - INFO  - [bookie-io-554-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:35,271 - INFO  - [bookie-io-554-2:BookieRequestHandler@50] - Channel connected  [id: 0x3f5c414c, L:/127.0.0.1:42193 - R:/127.0.0.1:47488]
2020-08-10 23:42:35,271 - INFO  - [bookkeeper-io-550-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd5002e65, L:/127.0.0.1:41618 - R:127.0.0.1/127.0.0.1:45797]
2020-08-10 23:42:35,272 - INFO  - [bookkeeper-io-550-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45797
2020-08-10 23:42:35,272 - INFO  - [bookkeeper-io-550-3:PerChannelBookieClient$1@471] - connection [id: 0xd5002e65, L:/127.0.0.1:41618 - R:127.0.0.1/127.0.0.1:45797] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:42:35,272 - INFO  - [bookie-io-593-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:35,273 - INFO  - [bookie-io-593-2:BookieRequestHandler@50] - Channel connected  [id: 0x298498ba, L:/127.0.0.1:37345 - R:/127.0.0.1:46382]
2020-08-10 23:42:35,272 - INFO  - [bookie-io-567-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:42:35,273 - INFO  - [bookie-io-567-2:BookieRequestHandler@50] - Channel connected  [id: 0x469fc32b, L:/127.0.0.1:45797 - R:/127.0.0.1:41618]
2020-08-10 23:42:35,311 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:42:35,311 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37345
2020-08-10 23:42:35,312 - INFO  - [bookkeeper-io-550-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xce7d793a, L:/127.0.0.1:46382 ! R:127.0.0.1/127.0.0.1:37345]
2020-08-10 23:42:35,312 - INFO  - [bookie-io-593-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x298498ba, L:/127.0.0.1:37345 ! R:/127.0.0.1:46382]
2020-08-10 23:42:35,312 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45797
2020-08-10 23:42:35,314 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42193
