2020-08-10 23:46:06,154 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:06,919 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:07,075 - INFO  - [Time-limited test:MetadataDrivers@105] - BookKeeper metadata driver manager initialized
2020-08-10 23:46:07,084 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:07,100 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:07,234 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:07,272 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:07,273 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:07,277 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:07,343 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:07,543 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18052869400817491578test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44891/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18052869400817491578test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:07,728 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:07,738 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:07,748 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:07,767 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18052869400817491578test/current] [/tmp/bookie18052869400817491578test/current]
2020-08-10 23:46:07,913 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:07,935 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18052869400817491578test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:07,936 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:07,964 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:07,974 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:07,981 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:07,988 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:07,989 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:08,026 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46663 to become writable
2020-08-10 23:46:08,034 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 2 ms.
2020-08-10 23:46:08,036 - INFO  - [SyncThread-13-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:08,041 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:08,044 - INFO  - [BookieJournal-46663:Journal@909] - Starting journal on /tmp/bookie18052869400817491578test/current
2020-08-10 23:46:08,065 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:08,067 - INFO  - [BookieJournal-46663:JournalChannel@157] - Opening journal /tmp/bookie18052869400817491578test/current/173da567d39.txn
2020-08-10 23:46:08,084 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:08,333 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46663' has been created.
2020-08-10 23:46:08,336 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:08,338 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10012000512258212179test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44891/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10012000512258212179test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:08,342 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:08,355 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:08,364 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:08,375 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10012000512258212179test/current] [/tmp/bookie10012000512258212179test/current]
2020-08-10 23:46:08,387 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:08,389 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10012000512258212179test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:08,390 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:08,391 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:08,392 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:08,394 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:08,395 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:08,395 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:08,416 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37875 to become writable
2020-08-10 23:46:08,417 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:08,419 - INFO  - [SyncThread-23-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:08,423 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:08,425 - INFO  - [BookieJournal-37875:Journal@909] - Starting journal on /tmp/bookie10012000512258212179test/current
2020-08-10 23:46:08,426 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:08,425 - INFO  - [BookieJournal-37875:JournalChannel@157] - Opening journal /tmp/bookie10012000512258212179test/current/173da567eaa.txn
2020-08-10 23:46:08,438 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:08,688 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37875' has been created.
2020-08-10 23:46:08,690 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:08,691 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7681832207462000572test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44891/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7681832207462000572test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:08,697 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:08,722 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:08,728 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:08,742 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7681832207462000572test/current] [/tmp/bookie7681832207462000572test/current]
2020-08-10 23:46:08,752 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:08,755 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7681832207462000572test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:08,755 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:08,756 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:08,757 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:08,760 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:08,760 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:08,761 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:08,778 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36005 to become writable
2020-08-10 23:46:08,779 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:08,781 - INFO  - [SyncThread-33-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:08,785 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:08,788 - INFO  - [BookieJournal-36005:Journal@909] - Starting journal on /tmp/bookie7681832207462000572test/current
2020-08-10 23:46:08,789 - INFO  - [BookieJournal-36005:JournalChannel@157] - Opening journal /tmp/bookie7681832207462000572test/current/173da568016.txn
2020-08-10 23:46:08,791 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:08,799 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:09,048 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36005' has been created.
2020-08-10 23:46:09,052 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:09,053 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16971876334132562083test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44891/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16971876334132562083test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:09,061 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:09,068 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:09,075 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:09,085 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16971876334132562083test/current] [/tmp/bookie16971876334132562083test/current]
2020-08-10 23:46:09,095 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:09,098 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16971876334132562083test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:09,098 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:09,098 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:09,099 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:09,101 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:09,101 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:09,101 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:09,122 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34463 to become writable
2020-08-10 23:46:09,123 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:09,125 - INFO  - [SyncThread-43-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:09,129 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:09,131 - INFO  - [BookieJournal-34463:Journal@909] - Starting journal on /tmp/bookie16971876334132562083test/current
2020-08-10 23:46:09,132 - INFO  - [BookieJournal-34463:JournalChannel@157] - Opening journal /tmp/bookie16971876334132562083test/current/173da56816d.txn
2020-08-10 23:46:09,132 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:09,143 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:09,392 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34463' has been created.
2020-08-10 23:46:09,394 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadEntryReleaseByteBufs @ metadata service zk://localhost:44891/ledgers in 3207 ms.
2020-08-10 23:46:09,398 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:09,404 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:09,409 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:09,409 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:09,409 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:09,410 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:09,414 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:09,415 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:09,415 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:09,416 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:09,433 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:36005, 127.0.0.1:37875, 127.0.0.1:34463] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:09,492 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:36005, 127.0.0.1:37875, 127.0.0.1:34463] for ledger: 0
2020-08-10 23:46:09,577 - INFO  - [bookie-io-18-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:09,578 - INFO  - [bookie-io-28-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:09,595 - INFO  - [bookkeeper-io-50-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xaed12039, L:/127.0.0.1:44256 - R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:09,596 - INFO  - [bookkeeper-io-50-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37875
2020-08-10 23:46:09,595 - INFO  - [bookkeeper-io-50-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x58b2cfba, L:/127.0.0.1:54212 - R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:09,597 - INFO  - [bookkeeper-io-50-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36005
2020-08-10 23:46:09,595 - INFO  - [bookie-io-28-2:BookieRequestHandler@50] - Channel connected  [id: 0xb7e65dc6, L:/127.0.0.1:36005 - R:/127.0.0.1:54212]
2020-08-10 23:46:09,596 - INFO  - [bookie-io-18-2:BookieRequestHandler@50] - Channel connected  [id: 0x28ff4506, L:/127.0.0.1:37875 - R:/127.0.0.1:44256]
2020-08-10 23:46:09,629 - INFO  - [bookkeeper-io-50-1:PerChannelBookieClient$1@471] - connection [id: 0x58b2cfba, L:/127.0.0.1:54212 - R:127.0.0.1/127.0.0.1:36005] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:09,629 - INFO  - [bookkeeper-io-50-2:PerChannelBookieClient$1@471] - connection [id: 0xaed12039, L:/127.0.0.1:44256 - R:127.0.0.1/127.0.0.1:37875] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:09,721 - INFO  - [bookkeeper-io-50-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8a9eeb02, L:/127.0.0.1:59516 - R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:09,722 - INFO  - [bookkeeper-io-50-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34463
2020-08-10 23:46:09,723 - INFO  - [bookkeeper-io-50-3:PerChannelBookieClient$1@471] - connection [id: 0x8a9eeb02, L:/127.0.0.1:59516 - R:127.0.0.1/127.0.0.1:34463] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:09,723 - INFO  - [bookie-io-38-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:09,723 - INFO  - [bookie-io-38-2:BookieRequestHandler@50] - Channel connected  [id: 0xae8b8c0b, L:/127.0.0.1:34463 - R:/127.0.0.1:59516]
2020-08-10 23:46:09,852 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:09,858 - INFO  - [bookkeeper-io-50-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x58b2cfba, L:/127.0.0.1:54212 ! R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:09,863 - INFO  - [bookie-io-28-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xb7e65dc6, L:/127.0.0.1:36005 ! R:/127.0.0.1:54212]
2020-08-10 23:46:09,863 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:09,865 - INFO  - [bookkeeper-io-50-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8a9eeb02, L:/127.0.0.1:59516 ! R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:09,865 - INFO  - [bookie-io-38-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xae8b8c0b, L:/127.0.0.1:34463 ! R:/127.0.0.1:59516]
2020-08-10 23:46:09,866 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:09,866 - INFO  - [bookkeeper-io-50-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xaed12039, L:/127.0.0.1:44256 ! R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:09,868 - INFO  - [bookie-io-18-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x28ff4506, L:/127.0.0.1:37875 ! R:/127.0.0.1:44256]
2020-08-10 23:46:10,010 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:10,017 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:10,021 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:10,022 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:10,022 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:10,022 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:10,025 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:10,026 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:10,026 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:10,026 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:10,050 - INFO  - [bookkeeper-io-56-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xefb8c974, L:/127.0.0.1:54220 - R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:10,050 - INFO  - [bookkeeper-io-56-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36005
2020-08-10 23:46:10,050 - INFO  - [bookkeeper-io-56-1:PerChannelBookieClient$1@471] - connection [id: 0xefb8c974, L:/127.0.0.1:54220 - R:127.0.0.1/127.0.0.1:36005] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:10,053 - INFO  - [bookie-io-28-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:10,060 - INFO  - [bookie-io-28-3:BookieRequestHandler@50] - Channel connected  [id: 0x2364de44, L:/127.0.0.1:36005 - R:/127.0.0.1:54220]
2020-08-10 23:46:10,070 - INFO  - [bookkeeper-io-56-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8e7cf518, L:/127.0.0.1:44266 - R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:10,070 - INFO  - [bookkeeper-io-56-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37875
2020-08-10 23:46:10,073 - INFO  - [bookkeeper-io-56-2:PerChannelBookieClient$1@471] - connection [id: 0x8e7cf518, L:/127.0.0.1:44266 - R:127.0.0.1/127.0.0.1:37875] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:10,077 - INFO  - [bookie-io-18-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:10,078 - INFO  - [bookie-io-18-3:BookieRequestHandler@50] - Channel connected  [id: 0xa9c01142, L:/127.0.0.1:37875 - R:/127.0.0.1:44266]
2020-08-10 23:46:10,084 - INFO  - [bookkeeper-io-56-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x814e9e68, L:/127.0.0.1:59524 - R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:10,085 - INFO  - [bookkeeper-io-56-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34463
2020-08-10 23:46:10,085 - INFO  - [bookkeeper-io-56-3:PerChannelBookieClient$1@471] - connection [id: 0x814e9e68, L:/127.0.0.1:59524 - R:127.0.0.1/127.0.0.1:34463] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:10,085 - INFO  - [bookie-io-38-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:10,087 - INFO  - [bookie-io-38-3:BookieRequestHandler@50] - Channel connected  [id: 0x2acba126, L:/127.0.0.1:34463 - R:/127.0.0.1:59524]
2020-08-10 23:46:10,128 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:10,129 - INFO  - [bookkeeper-io-56-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xefb8c974, L:/127.0.0.1:54220 ! R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:10,130 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:10,130 - INFO  - [bookie-io-28-3:BookieRequestHandler@61] - Channels disconnected: [id: 0x2364de44, L:/127.0.0.1:36005 ! R:/127.0.0.1:54220]
2020-08-10 23:46:10,132 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:10,133 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:10,133 - INFO  - [bookie-io-38-3:BookieRequestHandler@61] - Channels disconnected: [id: 0x2acba126, L:/127.0.0.1:34463 ! R:/127.0.0.1:59524]
2020-08-10 23:46:10,133 - INFO  - [bookkeeper-io-56-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x814e9e68, L:/127.0.0.1:59524 ! R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:10,134 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:10,135 - INFO  - [bookkeeper-io-56-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8e7cf518, L:/127.0.0.1:44266 ! R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:10,135 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:10,139 - INFO  - [bookie-io-18-3:BookieRequestHandler@61] - Channels disconnected: [id: 0xa9c01142, L:/127.0.0.1:37875 ! R:/127.0.0.1:44266]
2020-08-10 23:46:12,211 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:12,220 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:12,224 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:12,225 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:12,225 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:12,225 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:12,229 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:12,229 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:12,229 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:12,229 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:12,255 - INFO  - [bookkeeper-io-62-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x6d6aac34, L:/127.0.0.1:54230 - R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:12,256 - INFO  - [bookkeeper-io-62-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36005
2020-08-10 23:46:12,255 - INFO  - [bookie-io-28-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:12,265 - INFO  - [bookie-io-28-4:BookieRequestHandler@50] - Channel connected  [id: 0x2c447bac, L:/127.0.0.1:36005 - R:/127.0.0.1:54230]
2020-08-10 23:46:12,264 - INFO  - [bookie-io-18-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:12,260 - INFO  - [bookkeeper-io-62-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe0f25ea5, L:/127.0.0.1:44276 - R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:12,260 - INFO  - [bookkeeper-io-62-1:PerChannelBookieClient$1@471] - connection [id: 0x6d6aac34, L:/127.0.0.1:54230 - R:127.0.0.1/127.0.0.1:36005] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:12,266 - INFO  - [bookie-io-18-4:BookieRequestHandler@50] - Channel connected  [id: 0x143dd0cb, L:/127.0.0.1:37875 - R:/127.0.0.1:44276]
2020-08-10 23:46:12,267 - INFO  - [bookkeeper-io-62-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37875
2020-08-10 23:46:12,276 - INFO  - [bookkeeper-io-62-2:PerChannelBookieClient$1@471] - connection [id: 0xe0f25ea5, L:/127.0.0.1:44276 - R:127.0.0.1/127.0.0.1:37875] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:12,276 - INFO  - [bookkeeper-io-62-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x26439393, L:/127.0.0.1:59534 - R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:12,284 - INFO  - [bookkeeper-io-62-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34463
2020-08-10 23:46:12,275 - INFO  - [bookie-io-38-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:12,290 - INFO  - [bookie-io-38-4:BookieRequestHandler@50] - Channel connected  [id: 0x5a35f3f8, L:/127.0.0.1:34463 - R:/127.0.0.1:59534]
2020-08-10 23:46:12,287 - INFO  - [bookkeeper-io-62-3:PerChannelBookieClient$1@471] - connection [id: 0x26439393, L:/127.0.0.1:59534 - R:127.0.0.1/127.0.0.1:34463] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:12,312 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:12,313 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:12,314 - INFO  - [bookie-io-28-4:BookieRequestHandler@61] - Channels disconnected: [id: 0x2c447bac, L:/127.0.0.1:36005 ! R:/127.0.0.1:54230]
2020-08-10 23:46:12,313 - INFO  - [bookkeeper-io-62-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x6d6aac34, L:/127.0.0.1:54230 ! R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:12,314 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:12,317 - INFO  - [bookkeeper-io-62-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x26439393, L:/127.0.0.1:59534 ! R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:12,317 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:12,319 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:12,317 - INFO  - [bookie-io-38-4:BookieRequestHandler@61] - Channels disconnected: [id: 0x5a35f3f8, L:/127.0.0.1:34463 ! R:/127.0.0.1:59534]
2020-08-10 23:46:12,319 - INFO  - [bookkeeper-io-62-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe0f25ea5, L:/127.0.0.1:44276 ! R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:12,319 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:12,319 - INFO  - [bookie-io-18-4:BookieRequestHandler@61] - Channels disconnected: [id: 0x143dd0cb, L:/127.0.0.1:37875 ! R:/127.0.0.1:44276]
2020-08-10 23:46:14,406 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:14,412 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:14,416 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:14,417 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:14,417 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:14,417 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:14,420 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:14,420 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:14,420 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:14,420 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:14,435 - INFO  - [bookie-io-28-5:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:14,436 - INFO  - [bookkeeper-io-68-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xcf776128, L:/127.0.0.1:54238 - R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:14,438 - INFO  - [bookkeeper-io-68-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36005
2020-08-10 23:46:14,441 - INFO  - [bookie-io-18-5:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:14,442 - INFO  - [bookie-io-18-5:BookieRequestHandler@50] - Channel connected  [id: 0xb9f53bb6, L:/127.0.0.1:37875 - R:/127.0.0.1:44286]
2020-08-10 23:46:14,443 - INFO  - [bookkeeper-io-68-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x16518163, L:/127.0.0.1:59540 - R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:14,443 - INFO  - [bookkeeper-io-68-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34463
2020-08-10 23:46:14,444 - INFO  - [bookie-io-38-5:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:14,444 - INFO  - [bookkeeper-io-68-3:PerChannelBookieClient$1@471] - connection [id: 0x16518163, L:/127.0.0.1:59540 - R:127.0.0.1/127.0.0.1:34463] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:14,443 - INFO  - [bookkeeper-io-68-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x71d62fe0, L:/127.0.0.1:44286 - R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:14,450 - INFO  - [bookkeeper-io-68-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37875
2020-08-10 23:46:14,444 - INFO  - [bookie-io-38-5:BookieRequestHandler@50] - Channel connected  [id: 0xc6ee04ab, L:/127.0.0.1:34463 - R:/127.0.0.1:59540]
2020-08-10 23:46:14,450 - INFO  - [bookkeeper-io-68-2:PerChannelBookieClient$1@471] - connection [id: 0x71d62fe0, L:/127.0.0.1:44286 - R:127.0.0.1/127.0.0.1:37875] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:14,443 - INFO  - [bookie-io-28-5:BookieRequestHandler@50] - Channel connected  [id: 0xeda10d71, L:/127.0.0.1:36005 - R:/127.0.0.1:54238]
2020-08-10 23:46:14,443 - INFO  - [bookkeeper-io-68-1:PerChannelBookieClient$1@471] - connection [id: 0xcf776128, L:/127.0.0.1:54238 - R:127.0.0.1/127.0.0.1:36005] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:14,525 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:14,525 - INFO  - [bookkeeper-io-68-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xcf776128, L:/127.0.0.1:54238 ! R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:14,526 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:14,525 - INFO  - [bookie-io-28-5:BookieRequestHandler@61] - Channels disconnected: [id: 0xeda10d71, L:/127.0.0.1:36005 ! R:/127.0.0.1:54238]
2020-08-10 23:46:14,526 - INFO  - [bookkeeper-io-68-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x16518163, L:/127.0.0.1:59540 ! R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:14,526 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:14,527 - INFO  - [bookie-io-18-5:BookieRequestHandler@61] - Channels disconnected: [id: 0xb9f53bb6, L:/127.0.0.1:37875 ! R:/127.0.0.1:44286]
2020-08-10 23:46:14,527 - INFO  - [bookkeeper-io-68-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x71d62fe0, L:/127.0.0.1:44286 ! R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:14,530 - INFO  - [bookie-io-38-5:BookieRequestHandler@61] - Channels disconnected: [id: 0xc6ee04ab, L:/127.0.0.1:34463 ! R:/127.0.0.1:59540]
2020-08-10 23:46:16,558 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:16,565 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:16,568 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:16,569 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:16,569 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:16,569 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:16,572 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:16,573 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:16,573 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:16,573 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:16,586 - INFO  - [bookkeeper-io-74-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe447dfc9, L:/127.0.0.1:44290 - R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:16,589 - INFO  - [bookkeeper-io-74-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xc23084e7, L:/127.0.0.1:54248 - R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:16,590 - INFO  - [bookkeeper-io-74-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36005
2020-08-10 23:46:16,591 - INFO  - [bookkeeper-io-74-1:PerChannelBookieClient$1@471] - connection [id: 0xc23084e7, L:/127.0.0.1:54248 - R:127.0.0.1/127.0.0.1:36005] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:16,590 - INFO  - [bookkeeper-io-74-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37875
2020-08-10 23:46:16,588 - INFO  - [bookie-io-18-6:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:16,602 - INFO  - [bookie-io-18-6:BookieRequestHandler@50] - Channel connected  [id: 0x337a79e8, L:/127.0.0.1:37875 - R:/127.0.0.1:44290]
2020-08-10 23:46:16,602 - INFO  - [bookkeeper-io-74-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x00e4f94b, L:/127.0.0.1:59550 - R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:16,603 - INFO  - [bookkeeper-io-74-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34463
2020-08-10 23:46:16,603 - INFO  - [bookkeeper-io-74-3:PerChannelBookieClient$1@471] - connection [id: 0x00e4f94b, L:/127.0.0.1:59550 - R:127.0.0.1/127.0.0.1:34463] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:16,592 - INFO  - [bookie-io-28-6:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:16,605 - INFO  - [bookie-io-28-6:BookieRequestHandler@50] - Channel connected  [id: 0x2528c107, L:/127.0.0.1:36005 - R:/127.0.0.1:54248]
2020-08-10 23:46:16,592 - INFO  - [bookie-io-38-6:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:16,606 - INFO  - [bookie-io-38-6:BookieRequestHandler@50] - Channel connected  [id: 0xeec75a12, L:/127.0.0.1:34463 - R:/127.0.0.1:59550]
2020-08-10 23:46:16,602 - INFO  - [bookkeeper-io-74-2:PerChannelBookieClient$1@471] - connection [id: 0xe447dfc9, L:/127.0.0.1:44290 - R:127.0.0.1/127.0.0.1:37875] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:16,645 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:16,647 - INFO  - [bookkeeper-io-74-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xc23084e7, L:/127.0.0.1:54248 ! R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:16,648 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:16,648 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:16,648 - INFO  - [bookkeeper-io-74-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x00e4f94b, L:/127.0.0.1:59550 ! R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:16,649 - INFO  - [bookie-io-38-6:BookieRequestHandler@61] - Channels disconnected: [id: 0xeec75a12, L:/127.0.0.1:34463 ! R:/127.0.0.1:59550]
2020-08-10 23:46:16,650 - INFO  - [bookie-io-28-6:BookieRequestHandler@61] - Channels disconnected: [id: 0x2528c107, L:/127.0.0.1:36005 ! R:/127.0.0.1:54248]
2020-08-10 23:46:16,650 - INFO  - [bookie-io-18-6:BookieRequestHandler@61] - Channels disconnected: [id: 0x337a79e8, L:/127.0.0.1:37875 ! R:/127.0.0.1:44290]
2020-08-10 23:46:16,650 - INFO  - [bookkeeper-io-74-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe447dfc9, L:/127.0.0.1:44290 ! R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:18,707 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44891/ledgers : zkServers = localhost:44891, ledgersRootPath = /ledgers.
2020-08-10 23:46:18,713 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:18,717 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:18,718 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:18,718 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:18,718 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:18,720 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46663
2020-08-10 23:46:18,721 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36005
2020-08-10 23:46:18,721 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34463
2020-08-10 23:46:18,721 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37875
2020-08-10 23:46:18,747 - INFO  - [bookkeeper-io-80-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x300f2190, L:/127.0.0.1:54254 - R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:18,747 - INFO  - [bookkeeper-io-80-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36005
2020-08-10 23:46:18,747 - INFO  - [bookkeeper-io-80-1:PerChannelBookieClient$1@471] - connection [id: 0x300f2190, L:/127.0.0.1:54254 - R:127.0.0.1/127.0.0.1:36005] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:18,749 - INFO  - [bookie-io-28-7:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:18,749 - INFO  - [bookie-io-28-7:BookieRequestHandler@50] - Channel connected  [id: 0xbf77515c, L:/127.0.0.1:36005 - R:/127.0.0.1:54254]
2020-08-10 23:46:18,750 - INFO  - [bookie-io-18-7:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:18,751 - INFO  - [bookie-io-18-7:BookieRequestHandler@50] - Channel connected  [id: 0x02c56e68, L:/127.0.0.1:37875 - R:/127.0.0.1:44300]
2020-08-10 23:46:18,753 - INFO  - [bookkeeper-io-80-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe7dec12a, L:/127.0.0.1:44300 - R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:18,753 - INFO  - [bookkeeper-io-80-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37875
2020-08-10 23:46:18,754 - INFO  - [bookkeeper-io-80-2:PerChannelBookieClient$1@471] - connection [id: 0xe7dec12a, L:/127.0.0.1:44300 - R:127.0.0.1/127.0.0.1:37875] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:18,760 - INFO  - [bookkeeper-io-80-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x3c311f53, L:/127.0.0.1:59558 - R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:18,761 - INFO  - [bookkeeper-io-80-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34463
2020-08-10 23:46:18,761 - INFO  - [bookkeeper-io-80-3:PerChannelBookieClient$1@471] - connection [id: 0x3c311f53, L:/127.0.0.1:59558 - R:127.0.0.1/127.0.0.1:34463] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:18,776 - INFO  - [bookie-io-38-7:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:18,776 - INFO  - [bookie-io-38-7:BookieRequestHandler@50] - Channel connected  [id: 0xfad4c7bc, L:/127.0.0.1:34463 - R:/127.0.0.1:59558]
2020-08-10 23:46:18,782 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36005
2020-08-10 23:46:18,783 - INFO  - [bookkeeper-io-80-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x300f2190, L:/127.0.0.1:54254 ! R:127.0.0.1/127.0.0.1:36005]
2020-08-10 23:46:18,783 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:34463
2020-08-10 23:46:18,790 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37875
2020-08-10 23:46:18,790 - INFO  - [bookie-io-28-7:BookieRequestHandler@61] - Channels disconnected: [id: 0xbf77515c, L:/127.0.0.1:36005 ! R:/127.0.0.1:54254]
2020-08-10 23:46:18,790 - INFO  - [bookkeeper-io-80-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x3c311f53, L:/127.0.0.1:59558 ! R:127.0.0.1/127.0.0.1:34463]
2020-08-10 23:46:18,790 - INFO  - [bookie-io-18-7:BookieRequestHandler@61] - Channels disconnected: [id: 0x02c56e68, L:/127.0.0.1:37875 ! R:/127.0.0.1:44300]
2020-08-10 23:46:18,791 - INFO  - [bookie-io-38-7:BookieRequestHandler@61] - Channels disconnected: [id: 0xfad4c7bc, L:/127.0.0.1:34463 ! R:/127.0.0.1:59558]
2020-08-10 23:46:18,790 - INFO  - [bookkeeper-io-80-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe7dec12a, L:/127.0.0.1:44300 ! R:127.0.0.1/127.0.0.1:37875]
2020-08-10 23:46:20,868 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:20,975 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:20,976 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:20,993 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46663 with exitCode 0
2020-08-10 23:46:20,993 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:20,993 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:20,993 - INFO  - [SyncThread-13-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:20,997 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:20,997 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:20,998 - INFO  - [BookieJournal-46663:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:20,998 - INFO  - [BookieJournal-46663:Journal@1144] - Journal exited loop!
2020-08-10 23:46:20,999 - INFO  - [Bookie-46663:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:21,001 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:21,002 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:21,002 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:21,002 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:21,003 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:21,003 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:21,003 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:21,005 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:21,005 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:21,116 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:21,116 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:21,119 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37875 with exitCode 0
2020-08-10 23:46:21,120 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:21,120 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:21,120 - INFO  - [SyncThread-23-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:21,125 - INFO  - [SyncThread-23-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10012000512258212179test/current/0.log for logId 0.
2020-08-10 23:46:21,129 - INFO  - [pool-16-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie10012000512258212179test/current/1.log for logId 1.
2020-08-10 23:46:21,137 - INFO  - [SyncThread-23-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095968426 , logFileOffset - 4096]}.
2020-08-10 23:46:21,142 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:21,143 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:21,143 - INFO  - [BookieJournal-37875:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:21,143 - INFO  - [BookieJournal-37875:Journal@1144] - Journal exited loop!
2020-08-10 23:46:21,144 - INFO  - [Bookie-37875:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:21,144 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:21,144 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:21,144 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:21,144 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:21,145 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:21,145 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:21,148 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:21,162 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:21,162 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:21,284 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:21,285 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:21,294 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36005 with exitCode 0
2020-08-10 23:46:21,294 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:21,294 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:21,294 - INFO  - [SyncThread-33-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:21,296 - INFO  - [SyncThread-33-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7681832207462000572test/current/0.log for logId 0.
2020-08-10 23:46:21,298 - INFO  - [pool-23-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7681832207462000572test/current/1.log for logId 1.
2020-08-10 23:46:21,303 - INFO  - [SyncThread-33-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095968790 , logFileOffset - 4096]}.
2020-08-10 23:46:21,306 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:21,307 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:21,308 - INFO  - [BookieJournal-36005:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:21,308 - INFO  - [BookieJournal-36005:Journal@1144] - Journal exited loop!
2020-08-10 23:46:21,312 - INFO  - [Bookie-36005:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:21,312 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:21,314 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:21,314 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:21,314 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:21,314 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:21,314 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:21,319 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:21,322 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:21,323 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:21,441 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:21,442 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:21,445 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34463 with exitCode 0
2020-08-10 23:46:21,446 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:21,446 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:21,446 - INFO  - [SyncThread-43-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:21,448 - INFO  - [SyncThread-43-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16971876334132562083test/current/0.log for logId 0.
2020-08-10 23:46:21,450 - INFO  - [pool-30-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16971876334132562083test/current/1.log for logId 1.
2020-08-10 23:46:21,452 - INFO  - [BookieDeathWatcher-37875:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:21,453 - INFO  - [BookieDeathWatcher-37875:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37875
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:21,457 - INFO  - [BookieDeathWatcher-37875:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:21,457 - INFO  - [SyncThread-43-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095969133 , logFileOffset - 3584]}.
2020-08-10 23:46:21,457 - INFO  - [BookieDeathWatcher-37875:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:21,461 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:21,462 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:21,462 - INFO  - [BookieJournal-34463:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:21,462 - INFO  - [BookieJournal-34463:Journal@1144] - Journal exited loop!
2020-08-10 23:46:21,463 - INFO  - [Bookie-34463:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:21,463 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:21,463 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:21,464 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:21,464 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:21,464 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:21,464 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:21,467 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:21,470 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:21,470 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:21,714 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadEntryReleaseByteBufs in 845 ms.
2020-08-10 23:46:21,717 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:21,740 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:21,750 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36223/ledgers : zkServers = localhost:36223, ledgersRootPath = /ledgers.
2020-08-10 23:46:21,758 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:21,762 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:21,762 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:21,762 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:21,762 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:21,771 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:21,772 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15134964231454809943test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:36223/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15134964231454809943test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:21,777 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36223/ledgers : zkServers = localhost:36223, ledgersRootPath = /ledgers.
2020-08-10 23:46:21,783 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:21,788 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:21,798 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15134964231454809943test/current] [/tmp/bookie15134964231454809943test/current]
2020-08-10 23:46:21,810 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:21,813 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15134964231454809943test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:21,813 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:21,814 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:21,814 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:21,816 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:21,816 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:21,817 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:21,818 - INFO  - [BookieDeathWatcher-36005:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:21,818 - INFO  - [BookieDeathWatcher-36005:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36005
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:21,818 - INFO  - [BookieDeathWatcher-36005:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:21,818 - INFO  - [BookieDeathWatcher-36005:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:21,826 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37613 to become writable
2020-08-10 23:46:21,827 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:21,828 - INFO  - [SyncThread-95-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:21,832 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:21,837 - INFO  - [BookieJournal-37613:Journal@909] - Starting journal on /tmp/bookie15134964231454809943test/current
2020-08-10 23:46:21,837 - INFO  - [BookieJournal-37613:JournalChannel@157] - Opening journal /tmp/bookie15134964231454809943test/current/173da56b30e.txn
2020-08-10 23:46:21,838 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:21,845 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37613
2020-08-10 23:46:22,093 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37613' has been created.
2020-08-10 23:46:22,095 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:22,096 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11429779404438198611test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:36223/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11429779404438198611test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:22,103 - INFO  - [BookieDeathWatcher-46663:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:22,103 - INFO  - [BookieDeathWatcher-46663:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46663
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:22,104 - INFO  - [BookieDeathWatcher-46663:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:22,104 - INFO  - [BookieDeathWatcher-46663:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:22,114 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36223/ledgers : zkServers = localhost:36223, ledgersRootPath = /ledgers.
2020-08-10 23:46:22,122 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:22,126 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:22,138 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11429779404438198611test/current] [/tmp/bookie11429779404438198611test/current]
2020-08-10 23:46:22,149 - INFO  - [BookieDeathWatcher-34463:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:22,150 - INFO  - [BookieDeathWatcher-34463:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34463
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:22,150 - INFO  - [BookieDeathWatcher-34463:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:22,150 - INFO  - [BookieDeathWatcher-34463:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:22,151 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:22,155 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11429779404438198611test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:22,155 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:22,156 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:22,162 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:22,164 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:22,165 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:22,165 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:22,189 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45425 to become writable
2020-08-10 23:46:22,190 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:22,191 - INFO  - [SyncThread-105-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:22,195 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:22,197 - INFO  - [BookieJournal-45425:Journal@909] - Starting journal on /tmp/bookie11429779404438198611test/current
2020-08-10 23:46:22,199 - INFO  - [BookieJournal-45425:JournalChannel@157] - Opening journal /tmp/bookie11429779404438198611test/current/173da56b478.txn
2020-08-10 23:46:22,200 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:22,206 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45425
2020-08-10 23:46:22,455 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45425' has been created.
2020-08-10 23:46:22,457 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:22,458 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14105842574829576716test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:36223/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14105842574829576716test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:22,462 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36223/ledgers : zkServers = localhost:36223, ledgersRootPath = /ledgers.
2020-08-10 23:46:22,468 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:22,472 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:22,483 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14105842574829576716test/current] [/tmp/bookie14105842574829576716test/current]
2020-08-10 23:46:22,492 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:22,495 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14105842574829576716test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:22,495 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:22,495 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:22,496 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:22,497 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:22,497 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:22,497 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:22,507 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33413 to become writable
2020-08-10 23:46:22,509 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:22,512 - INFO  - [SyncThread-115-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:22,515 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:22,518 - INFO  - [BookieJournal-33413:Journal@909] - Starting journal on /tmp/bookie14105842574829576716test/current
2020-08-10 23:46:22,518 - INFO  - [BookieJournal-33413:JournalChannel@157] - Opening journal /tmp/bookie14105842574829576716test/current/173da56b5b7.txn
2020-08-10 23:46:22,519 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:22,526 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33413
2020-08-10 23:46:22,782 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33413' has been created.
2020-08-10 23:46:22,785 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:22,786 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7852391446437105008test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:36223/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7852391446437105008test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:22,789 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36223/ledgers : zkServers = localhost:36223, ledgersRootPath = /ledgers.
2020-08-10 23:46:22,795 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:22,799 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:22,810 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7852391446437105008test/current] [/tmp/bookie7852391446437105008test/current]
2020-08-10 23:46:22,821 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:22,823 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7852391446437105008test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:22,823 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:22,824 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:22,824 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:22,826 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:22,826 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:22,827 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:22,849 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45341 to become writable
2020-08-10 23:46:22,851 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:46:22,852 - INFO  - [SyncThread-125-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:22,856 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:22,861 - INFO  - [BookieJournal-45341:Journal@909] - Starting journal on /tmp/bookie7852391446437105008test/current
2020-08-10 23:46:22,863 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:22,863 - INFO  - [BookieJournal-45341:JournalChannel@157] - Opening journal /tmp/bookie7852391446437105008test/current/173da56b710.txn
2020-08-10 23:46:22,869 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45341
2020-08-10 23:46:23,119 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45341' has been created.
2020-08-10 23:46:23,122 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testConstructionZkDelay @ metadata service zk://localhost:36223/ledgers in 1404 ms.
2020-08-10 23:46:23,127 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36223/ledgers : zkServers = localhost:36223, ledgersRootPath = /ledgers.
2020-08-10 23:46:23,332 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:23,336 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:23,336 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:23,337 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:23,337 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:23,340 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33413
2020-08-10 23:46:23,340 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45425
2020-08-10 23:46:23,340 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45341
2020-08-10 23:46:23,341 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37613
2020-08-10 23:46:23,343 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:37613, 127.0.0.1:33413, 127.0.0.1:45341] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:23,373 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:37613, 127.0.0.1:33413, 127.0.0.1:45341] for ledger: 0
2020-08-10 23:46:23,491 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:23,599 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:23,599 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:23,608 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37613 with exitCode 0
2020-08-10 23:46:23,608 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:23,609 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:23,609 - INFO  - [SyncThread-95-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:23,613 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:23,614 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:23,614 - INFO  - [BookieJournal-37613:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:23,614 - INFO  - [BookieJournal-37613:Journal@1144] - Journal exited loop!
2020-08-10 23:46:23,623 - INFO  - [Bookie-37613:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:23,624 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:23,625 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:23,625 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:23,625 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:23,625 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:23,625 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:23,626 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:23,626 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:23,626 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:23,737 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:23,737 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:23,744 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45425 with exitCode 0
2020-08-10 23:46:23,744 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:23,745 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:23,745 - INFO  - [SyncThread-105-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:23,749 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:23,750 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:23,750 - INFO  - [BookieJournal-45425:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:23,750 - INFO  - [BookieJournal-45425:Journal@1144] - Journal exited loop!
2020-08-10 23:46:23,750 - INFO  - [Bookie-45425:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:23,750 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:23,751 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:23,751 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:23,751 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:23,751 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:23,751 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:23,752 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:23,752 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:23,752 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:23,848 - INFO  - [BookieDeathWatcher-37613:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:23,848 - INFO  - [BookieDeathWatcher-37613:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37613
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:23,848 - INFO  - [BookieDeathWatcher-37613:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:23,848 - INFO  - [BookieDeathWatcher-37613:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:23,860 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:23,861 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:23,872 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33413 with exitCode 0
2020-08-10 23:46:23,872 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:23,872 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:23,873 - INFO  - [SyncThread-115-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:23,876 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:23,876 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:23,877 - INFO  - [BookieJournal-33413:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:23,877 - INFO  - [BookieJournal-33413:Journal@1144] - Journal exited loop!
2020-08-10 23:46:23,877 - INFO  - [Bookie-33413:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:23,877 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:23,878 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:23,878 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:23,878 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:23,878 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:23,878 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:23,878 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:23,879 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:23,879 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:23,985 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:23,985 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:23,995 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45341 with exitCode 0
2020-08-10 23:46:23,995 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:23,995 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:23,996 - INFO  - [SyncThread-125-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:24,000 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:24,001 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:24,001 - INFO  - [BookieJournal-45341:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:24,001 - INFO  - [BookieJournal-45341:Journal@1144] - Journal exited loop!
2020-08-10 23:46:24,001 - INFO  - [Bookie-45341:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:24,002 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:24,002 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:24,002 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:24,003 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:24,003 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:24,003 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:24,003 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:24,003 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:24,003 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:24,207 - INFO  - [BookieDeathWatcher-45425:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:24,207 - INFO  - [BookieDeathWatcher-45425:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45425
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:24,207 - INFO  - [BookieDeathWatcher-45425:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:24,207 - INFO  - [BookieDeathWatcher-45425:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:24,224 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testConstructionZkDelay in 733 ms.
2020-08-10 23:46:24,230 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:24,248 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:24,258 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:24,265 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:24,269 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:24,269 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:24,270 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:24,270 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:24,279 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:24,280 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7986435986660231841test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:40243/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7986435986660231841test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:24,284 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:24,293 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:24,296 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:24,304 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7986435986660231841test/current] [/tmp/bookie7986435986660231841test/current]
2020-08-10 23:46:24,318 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:24,320 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7986435986660231841test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:24,320 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:24,321 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:24,321 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:24,322 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:24,323 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:24,323 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:24,337 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46187 to become writable
2020-08-10 23:46:24,337 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:24,340 - INFO  - [SyncThread-147-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:24,344 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:24,345 - INFO  - [BookieJournal-46187:Journal@909] - Starting journal on /tmp/bookie7986435986660231841test/current
2020-08-10 23:46:24,346 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:24,346 - INFO  - [BookieJournal-46187:JournalChannel@157] - Opening journal /tmp/bookie7986435986660231841test/current/173da56bcdb.txn
2020-08-10 23:46:24,353 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46187
2020-08-10 23:46:24,530 - INFO  - [BookieDeathWatcher-33413:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:24,530 - INFO  - [BookieDeathWatcher-33413:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33413
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:24,530 - INFO  - [BookieDeathWatcher-33413:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:24,530 - INFO  - [BookieDeathWatcher-33413:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:24,607 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46187' has been created.
2020-08-10 23:46:24,609 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:24,609 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie5744946518401130618test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:40243/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie5744946518401130618test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:24,613 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:24,620 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:24,921 - INFO  - [BookieDeathWatcher-45341:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:24,922 - INFO  - [BookieDeathWatcher-45341:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45341
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:24,922 - INFO  - [BookieDeathWatcher-45341:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:24,922 - INFO  - [BookieDeathWatcher-45341:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:24,925 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:24,934 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie5744946518401130618test/current] [/tmp/bookie5744946518401130618test/current]
2020-08-10 23:46:24,948 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:24,950 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie5744946518401130618test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:24,950 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:24,951 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:24,951 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:24,953 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:24,954 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:24,954 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:24,969 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44627 to become writable
2020-08-10 23:46:24,970 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:24,972 - INFO  - [SyncThread-157-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:24,976 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:24,976 - INFO  - [BookieJournal-44627:Journal@909] - Starting journal on /tmp/bookie5744946518401130618test/current
2020-08-10 23:46:24,977 - INFO  - [BookieJournal-44627:JournalChannel@157] - Opening journal /tmp/bookie5744946518401130618test/current/173da56bf52.txn
2020-08-10 23:46:24,977 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:24,984 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44627
2020-08-10 23:46:25,234 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44627' has been created.
2020-08-10 23:46:25,236 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:25,237 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11788042036772833263test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:40243/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11788042036772833263test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:25,240 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:25,245 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:25,249 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:25,256 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11788042036772833263test/current] [/tmp/bookie11788042036772833263test/current]
2020-08-10 23:46:25,270 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:25,273 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11788042036772833263test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:25,274 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:25,275 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:25,276 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:25,278 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:25,278 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:25,279 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:25,299 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34165 to become writable
2020-08-10 23:46:25,300 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:25,301 - INFO  - [SyncThread-167-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:25,304 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:25,309 - INFO  - [BookieJournal-34165:Journal@909] - Starting journal on /tmp/bookie11788042036772833263test/current
2020-08-10 23:46:25,310 - INFO  - [BookieJournal-34165:JournalChannel@157] - Opening journal /tmp/bookie11788042036772833263test/current/173da56c09f.txn
2020-08-10 23:46:25,310 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:25,317 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34165
2020-08-10 23:46:25,566 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34165' has been created.
2020-08-10 23:46:25,568 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:25,568 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8152924696639232283test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:40243/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8152924696639232283test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:25,572 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:25,578 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:25,581 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:25,590 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8152924696639232283test/current] [/tmp/bookie8152924696639232283test/current]
2020-08-10 23:46:25,600 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:25,602 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8152924696639232283test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:25,602 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:25,602 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:25,603 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:25,605 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:25,606 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:25,606 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:25,628 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41259 to become writable
2020-08-10 23:46:25,629 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:25,630 - INFO  - [SyncThread-177-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:25,633 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:25,634 - INFO  - [BookieJournal-41259:Journal@909] - Starting journal on /tmp/bookie8152924696639232283test/current
2020-08-10 23:46:25,635 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:25,636 - INFO  - [BookieJournal-41259:JournalChannel@157] - Opening journal /tmp/bookie8152924696639232283test/current/173da56c1e4.txn
2020-08-10 23:46:25,646 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41259
2020-08-10 23:46:25,903 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41259' has been created.
2020-08-10 23:46:25,904 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testEnforceMinNumFaultDomainsForWrite @ metadata service zk://localhost:40243/ledgers in 1674 ms.
2020-08-10 23:46:25,905 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:25,905 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16068337064902038893test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:40243/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16068337064902038893test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:25,913 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:25,926 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:25,930 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:25,937 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16068337064902038893test/current] [/tmp/bookie16068337064902038893test/current]
2020-08-10 23:46:25,945 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:25,948 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16068337064902038893test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:25,948 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:25,949 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:25,949 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:25,950 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:25,950 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:25,951 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:25,962 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43241 to become writable
2020-08-10 23:46:25,963 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:46:25,964 - INFO  - [SyncThread-187-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:25,968 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:25,974 - INFO  - [BookieJournal-43241:Journal@909] - Starting journal on /tmp/bookie16068337064902038893test/current
2020-08-10 23:46:25,975 - INFO  - [BookieJournal-43241:JournalChannel@157] - Opening journal /tmp/bookie16068337064902038893test/current/173da56c338.txn
2020-08-10 23:46:25,975 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:25,982 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43241
2020-08-10 23:46:26,232 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43241' has been created.
2020-08-10 23:46:26,235 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:26,235 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14129984644128913548test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:40243/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14129984644128913548test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:26,238 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:26,244 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:26,247 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:26,253 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14129984644128913548test/current] [/tmp/bookie14129984644128913548test/current]
2020-08-10 23:46:26,261 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:26,263 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14129984644128913548test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:26,264 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:26,265 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:26,265 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:26,266 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:26,267 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:26,267 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:26,279 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37885 to become writable
2020-08-10 23:46:26,279 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:26,285 - INFO  - [SyncThread-197-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:26,289 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:26,290 - INFO  - [BookieJournal-37885:Journal@909] - Starting journal on /tmp/bookie14129984644128913548test/current
2020-08-10 23:46:26,291 - INFO  - [BookieJournal-37885:JournalChannel@157] - Opening journal /tmp/bookie14129984644128913548test/current/173da56c474.txn
2020-08-10 23:46:26,292 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:26,300 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37885
2020-08-10 23:46:26,550 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37885' has been created.
2020-08-10 23:46:26,556 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:40243/ledgers : zkServers = localhost:40243, ledgersRootPath = /ledgers.
2020-08-10 23:46:26,562 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:26,565 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:26,565 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:26,566 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:26,566 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:26,569 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46187
2020-08-10 23:46:26,570 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34165
2020-08-10 23:46:26,570 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41259
2020-08-10 23:46:26,570 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44627
2020-08-10 23:46:26,571 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37885
2020-08-10 23:46:26,571 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43241
2020-08-10 23:46:26,572 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:37885, 127.0.0.1:44627, 127.0.0.1:34165] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:26,601 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:37885, 127.0.0.1:44627, 127.0.0.1:34165] for ledger: 0
2020-08-10 23:46:26,601 - INFO  - [Time-limited test:BookKeeperTest@1037] - Putting all non ensemble bookies to sleep.
2020-08-10 23:46:26,605 - INFO  - [Time-limited test:BookKeeperClusterTestCase@519] - Sleep bookie 127.0.0.1:46187.
2020-08-10 23:46:26,611 - INFO  - [Time-limited test:BookKeeperClusterTestCase@519] - Sleep bookie 127.0.0.1:41259.
2020-08-10 23:46:26,617 - INFO  - [Time-limited test:BookKeeperClusterTestCase@519] - Sleep bookie 127.0.0.1:43241.
2020-08-10 23:46:26,620 - INFO  - [Time-limited test:BookKeeperTest@1057] - Putting picked bookie to sleep
2020-08-10 23:46:26,629 - INFO  - [Time-limited test:BookKeeperClusterTestCase@519] - Sleep bookie 127.0.0.1:37885.
2020-08-10 23:46:26,630 - INFO  - [Thread-4:BookKeeperTest@1048] - Initiating write for entry
2020-08-10 23:46:26,641 - INFO  - [bookie-io-152-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:26,642 - INFO  - [bookie-io-152-2:BookieRequestHandler@50] - Channel connected  [id: 0xe9e5f938, L:/127.0.0.1:44627 - R:/127.0.0.1:54668]
2020-08-10 23:46:26,647 - INFO  - [bookkeeper-io-204-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xb310b0f4, L:/127.0.0.1:37792 - R:127.0.0.1/127.0.0.1:37885]
2020-08-10 23:46:26,648 - INFO  - [bookkeeper-io-204-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37885
2020-08-10 23:46:26,648 - INFO  - [bookkeeper-io-204-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xc3f5c6b8, L:/127.0.0.1:54668 - R:127.0.0.1/127.0.0.1:44627]
2020-08-10 23:46:26,649 - INFO  - [bookkeeper-io-204-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:44627
2020-08-10 23:46:26,649 - INFO  - [bookkeeper-io-204-1:PerChannelBookieClient$1@471] - connection [id: 0xb310b0f4, L:/127.0.0.1:37792 - R:127.0.0.1/127.0.0.1:37885] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:26,649 - INFO  - [bookkeeper-io-204-2:PerChannelBookieClient$1@471] - connection [id: 0xc3f5c6b8, L:/127.0.0.1:54668 - R:127.0.0.1/127.0.0.1:44627] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:26,654 - INFO  - [bookkeeper-io-204-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x227f3b62, L:/127.0.0.1:55568 - R:127.0.0.1/127.0.0.1:34165]
2020-08-10 23:46:26,656 - INFO  - [bookkeeper-io-204-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:34165
2020-08-10 23:46:26,656 - INFO  - [bookkeeper-io-204-3:PerChannelBookieClient$1@471] - connection [id: 0x227f3b62, L:/127.0.0.1:55568 - R:127.0.0.1/127.0.0.1:34165] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:26,657 - INFO  - [bookie-io-162-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:26,658 - INFO  - [bookie-io-162-2:BookieRequestHandler@50] - Channel connected  [id: 0xe37d9164, L:/127.0.0.1:34165 - R:/127.0.0.1:55568]
2020-08-10 23:46:26,669 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@389] - Write success for entry ID 0 delayed, not acknowledged by bookies in enough fault domains
2020-08-10 23:46:26,669 - INFO  - [bookie-io-192-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:26,670 - INFO  - [bookie-io-192-2:BookieRequestHandler@50] - Channel connected  [id: 0xc152ac20, L:/127.0.0.1:37885 - R:/127.0.0.1:37792]
2020-08-10 23:46:26,681 - INFO  - [Thread-4:BookKeeperTest@1050] - Wrote entry with entryId = 0
2020-08-10 23:46:26,682 - INFO  - [Time-limited test:BookKeeperTest@1096] - Putting picked bookie to sleep
2020-08-10 23:46:26,692 - INFO  - [Time-limited test:BookKeeperClusterTestCase@519] - Sleep bookie 127.0.0.1:44627.
2020-08-10 23:46:26,696 - INFO  - [Thread-6:BookKeeperTest@1087] - Initiating write for entry
2020-08-10 23:46:26,703 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@389] - Write success for entry ID 1 delayed, not acknowledged by bookies in enough fault domains
2020-08-10 23:46:29,570 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@376] - Failed to write entry (0, 1): Bookie operation timeout
2020-08-10 23:46:29,570 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:PerChannelBookieClient@1004] - Timed-out 1 operations to channel [id: 0xc3f5c6b8, L:/127.0.0.1:54668 - R:127.0.0.1/127.0.0.1:44627] for 127.0.0.1:44627
2020-08-10 23:46:29,575 - WARN  - [BookKeeperClientWorker-OrderedExecutor-0-0:BookieWatcherImpl@298] - replaceBookie for bookie: 127.0.0.1:44627 in ensemble: [127.0.0.1:37885, 127.0.0.1:44627, 127.0.0.1:34165] is not adhering to placement policy and chose 127.0.0.1:46187. excludedBookies [127.0.0.1:44627] and quarantinedBookies []
2020-08-10 23:46:29,586 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1978] - New Ensemble: [127.0.0.1:37885, 127.0.0.1:46187, 127.0.0.1:34165] for ledger: 0
2020-08-10 23:46:29,589 - INFO  - [bookkeeper-io-204-4:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x9d1384f6, L:/127.0.0.1:35430 - R:127.0.0.1/127.0.0.1:46187]
2020-08-10 23:46:29,590 - INFO  - [bookkeeper-io-204-4:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:46187
2020-08-10 23:46:29,590 - INFO  - [bookkeeper-io-204-4:PerChannelBookieClient$1@471] - connection [id: 0x9d1384f6, L:/127.0.0.1:35430 - R:127.0.0.1/127.0.0.1:46187] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:31,603 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:LedgerHandle@1770] - Timed out 1 add ops
2020-08-10 23:46:31,604 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1758] - Closing ledger 0 due to AddEntryQuorumTimeoutException: Add entry quorum wait timed out
2020-08-10 23:46:31,605 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L0 E1
2020-08-10 23:46:31,606 - INFO  - [bookie-io-142-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:31,607 - INFO  - [bookie-io-142-2:BookieRequestHandler@50] - Channel connected  [id: 0x9de617be, L:/127.0.0.1:46187 - R:/127.0.0.1:35430]
2020-08-10 23:46:31,614 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:31,727 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:31,730 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:31,731 - WARN  - [bookkeeper-io-204-4:PerChannelBookieClient@1270] - Exception caught on:[id: 0x9d1384f6, L:/127.0.0.1:35430 - R:127.0.0.1/127.0.0.1:46187] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:31,731 - INFO  - [bookie-io-142-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x9de617be, L:/127.0.0.1:46187 ! R:/127.0.0.1:35430]
2020-08-10 23:46:31,734 - INFO  - [bookkeeper-io-204-4:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x9d1384f6, L:/127.0.0.1:35430 ! R:127.0.0.1/127.0.0.1:46187]
2020-08-10 23:46:31,736 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46187 with exitCode 0
2020-08-10 23:46:31,736 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:31,736 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:31,737 - INFO  - [SyncThread-147-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:31,738 - INFO  - [SyncThread-147-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7986435986660231841test/current/0.log for logId 0.
2020-08-10 23:46:31,740 - INFO  - [pool-96-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7986435986660231841test/current/1.log for logId 1.
2020-08-10 23:46:31,746 - INFO  - [SyncThread-147-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095984347 , logFileOffset - 1024]}.
2020-08-10 23:46:31,751 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:31,751 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:31,752 - INFO  - [BookieJournal-46187:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:31,752 - INFO  - [BookieJournal-46187:Journal@1144] - Journal exited loop!
2020-08-10 23:46:31,752 - INFO  - [Bookie-46187:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:31,753 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:31,753 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:31,753 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:31,753 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:31,753 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:31,753 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:31,756 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:31,760 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:31,760 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:31,765 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:46187
2020-08-10 23:46:31,865 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:31,865 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:31,866 - INFO  - [bookie-io-152-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe9e5f938, L:/127.0.0.1:44627 ! R:/127.0.0.1:54668]
2020-08-10 23:46:31,866 - WARN  - [bookkeeper-io-204-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0xc3f5c6b8, L:/127.0.0.1:54668 - R:127.0.0.1/127.0.0.1:44627] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:31,866 - INFO  - [bookkeeper-io-204-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xc3f5c6b8, L:/127.0.0.1:54668 ! R:127.0.0.1/127.0.0.1:44627]
2020-08-10 23:46:31,878 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44627 with exitCode 0
2020-08-10 23:46:31,878 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:31,878 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:31,878 - INFO  - [SyncThread-157-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:31,879 - INFO  - [SyncThread-157-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie5744946518401130618test/current/0.log for logId 0.
2020-08-10 23:46:31,881 - INFO  - [pool-103-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie5744946518401130618test/current/1.log for logId 1.
2020-08-10 23:46:31,888 - INFO  - [SyncThread-157-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095984978 , logFileOffset - 1536]}.
2020-08-10 23:46:31,891 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:31,891 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:31,892 - INFO  - [BookieJournal-44627:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:31,892 - INFO  - [BookieJournal-44627:Journal@1144] - Journal exited loop!
2020-08-10 23:46:31,892 - INFO  - [Bookie-44627:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:31,892 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:31,893 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:31,894 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:31,894 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:31,894 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:31,894 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:31,898 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:31,899 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:31,900 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:31,907 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:44627
2020-08-10 23:46:32,009 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,009 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,011 - WARN  - [bookkeeper-io-204-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x227f3b62, L:/127.0.0.1:55568 - R:127.0.0.1/127.0.0.1:34165] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:32,011 - INFO  - [bookie-io-162-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe37d9164, L:/127.0.0.1:34165 ! R:/127.0.0.1:55568]
2020-08-10 23:46:32,011 - INFO  - [bookkeeper-io-204-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x227f3b62, L:/127.0.0.1:55568 ! R:127.0.0.1/127.0.0.1:34165]
2020-08-10 23:46:32,014 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34165 with exitCode 0
2020-08-10 23:46:32,015 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:32,015 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:32,015 - INFO  - [SyncThread-167-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:32,016 - INFO  - [SyncThread-167-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11788042036772833263test/current/0.log for logId 0.
2020-08-10 23:46:32,019 - INFO  - [pool-110-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11788042036772833263test/current/1.log for logId 1.
2020-08-10 23:46:32,033 - INFO  - [SyncThread-167-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095985311 , logFileOffset - 1536]}.
2020-08-10 23:46:32,037 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:32,038 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:32,038 - INFO  - [BookieJournal-34165:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:32,038 - INFO  - [BookieJournal-34165:Journal@1144] - Journal exited loop!
2020-08-10 23:46:32,039 - INFO  - [Bookie-34165:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:32,039 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:32,039 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:32,040 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:32,040 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:32,040 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:32,040 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:32,045 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:32,045 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:32,045 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:32,050 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:34165
2020-08-10 23:46:32,154 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,154 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,157 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41259 with exitCode 0
2020-08-10 23:46:32,158 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:32,158 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:32,158 - INFO  - [SyncThread-177-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:32,161 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:32,162 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:32,162 - INFO  - [BookieJournal-41259:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:32,162 - INFO  - [BookieJournal-41259:Journal@1144] - Journal exited loop!
2020-08-10 23:46:32,162 - INFO  - [Bookie-41259:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:32,163 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:32,163 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:32,163 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:32,163 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:32,163 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:32,163 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:32,164 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:32,164 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:32,164 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:32,170 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41259
2020-08-10 23:46:32,270 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,271 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,281 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43241 with exitCode 0
2020-08-10 23:46:32,282 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:32,282 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:32,282 - INFO  - [SyncThread-187-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:32,285 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:32,286 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:32,286 - INFO  - [BookieJournal-43241:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:32,287 - INFO  - [BookieJournal-43241:Journal@1144] - Journal exited loop!
2020-08-10 23:46:32,287 - INFO  - [Bookie-43241:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:32,287 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:32,288 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:32,289 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:32,294 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:43241
2020-08-10 23:46:32,322 - INFO  - [BookieDeathWatcher-34165:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:32,323 - INFO  - [BookieDeathWatcher-34165:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34165
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:32,323 - INFO  - [BookieDeathWatcher-34165:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,323 - INFO  - [BookieDeathWatcher-34165:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,359 - INFO  - [BookieDeathWatcher-46187:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:32,359 - INFO  - [BookieDeathWatcher-46187:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46187
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:32,359 - INFO  - [BookieDeathWatcher-46187:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,359 - INFO  - [BookieDeathWatcher-46187:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,395 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,395 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,396 - WARN  - [bookkeeper-io-204-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0xb310b0f4, L:/127.0.0.1:37792 - R:127.0.0.1/127.0.0.1:37885] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:32,397 - INFO  - [bookkeeper-io-204-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xb310b0f4, L:/127.0.0.1:37792 ! R:127.0.0.1/127.0.0.1:37885]
2020-08-10 23:46:32,399 - INFO  - [bookie-io-192-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xc152ac20, L:/127.0.0.1:37885 ! R:/127.0.0.1:37792]
2020-08-10 23:46:32,402 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37885 with exitCode 0
2020-08-10 23:46:32,403 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:32,403 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:32,403 - INFO  - [SyncThread-197-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:32,404 - INFO  - [SyncThread-197-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14129984644128913548test/current/0.log for logId 0.
2020-08-10 23:46:32,406 - INFO  - [pool-131-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie14129984644128913548test/current/1.log for logId 1.
2020-08-10 23:46:32,413 - INFO  - [SyncThread-197-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095986292 , logFileOffset - 2048]}.
2020-08-10 23:46:32,416 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:32,416 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:32,417 - INFO  - [BookieJournal-37885:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:32,417 - INFO  - [BookieJournal-37885:Journal@1144] - Journal exited loop!
2020-08-10 23:46:32,417 - INFO  - [Bookie-37885:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:32,417 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:32,418 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:32,418 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:32,419 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:32,419 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:32,419 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:32,422 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:32,423 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:32,423 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:32,429 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:37885
2020-08-10 23:46:32,654 - INFO  - [BookieDeathWatcher-41259:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:32,654 - INFO  - [BookieDeathWatcher-41259:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41259
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:32,654 - INFO  - [BookieDeathWatcher-41259:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,654 - INFO  - [BookieDeathWatcher-41259:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,656 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testEnforceMinNumFaultDomainsForWrite in 1042 ms.
2020-08-10 23:46:32,657 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:32,671 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:32,679 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35803/ledgers : zkServers = localhost:35803, ledgersRootPath = /ledgers.
2020-08-10 23:46:32,689 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:32,691 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:32,692 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:32,692 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:32,692 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:32,699 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:32,700 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie994760294192960556test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35803/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie994760294192960556test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:32,707 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35803/ledgers : zkServers = localhost:35803, ledgersRootPath = /ledgers.
2020-08-10 23:46:32,712 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:32,720 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:32,727 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie994760294192960556test/current] [/tmp/bookie994760294192960556test/current]
2020-08-10 23:46:32,738 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:32,739 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie994760294192960556test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:32,740 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:32,740 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:32,741 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:32,742 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:32,743 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:32,743 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:32,748 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@134] - ZooKeeper client is disconnected from zookeeper now, but it is OK unless we received EXPIRED event.
2020-08-10 23:46:32,753 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33677 to become writable
2020-08-10 23:46:32,754 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:32,755 - INFO  - [SyncThread-219-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:32,760 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:32,761 - INFO  - [BookieJournal-33677:Journal@909] - Starting journal on /tmp/bookie994760294192960556test/current
2020-08-10 23:46:32,762 - INFO  - [BookieJournal-33677:JournalChannel@157] - Opening journal /tmp/bookie994760294192960556test/current/173da56ddbb.txn
2020-08-10 23:46:32,763 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:32,769 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33677
2020-08-10 23:46:32,990 - INFO  - [BookieDeathWatcher-43241:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:32,990 - INFO  - [BookieDeathWatcher-43241:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43241
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:32,990 - INFO  - [BookieDeathWatcher-43241:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,990 - INFO  - [BookieDeathWatcher-43241:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:32,992 - INFO  - [BookieDeathWatcher-44627:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:32,993 - INFO  - [BookieDeathWatcher-44627:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44627
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:32,993 - INFO  - [BookieDeathWatcher-44627:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:32,993 - INFO  - [BookieDeathWatcher-44627:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:33,019 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33677' has been created.
2020-08-10 23:46:33,023 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:33,025 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3381045337217154428test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35803/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3381045337217154428test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:33,028 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35803/ledgers : zkServers = localhost:35803, ledgersRootPath = /ledgers.
2020-08-10 23:46:33,034 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:33,036 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:33,042 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3381045337217154428test/current] [/tmp/bookie3381045337217154428test/current]
2020-08-10 23:46:33,049 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:33,051 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3381045337217154428test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:33,051 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:33,053 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:33,054 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:33,055 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:33,055 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:33,056 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:33,072 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35511 to become writable
2020-08-10 23:46:33,073 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:33,074 - INFO  - [SyncThread-229-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:33,078 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:33,080 - INFO  - [BookieJournal-35511:Journal@909] - Starting journal on /tmp/bookie3381045337217154428test/current
2020-08-10 23:46:33,081 - INFO  - [BookieJournal-35511:JournalChannel@157] - Opening journal /tmp/bookie3381045337217154428test/current/173da56defa.txn
2020-08-10 23:46:33,082 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:33,088 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35511
2020-08-10 23:46:33,305 - INFO  - [BookieDeathWatcher-37885:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:33,305 - INFO  - [BookieDeathWatcher-37885:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37885
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:33,305 - INFO  - [BookieDeathWatcher-37885:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:33,305 - INFO  - [BookieDeathWatcher-37885:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:33,338 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35511' has been created.
2020-08-10 23:46:33,340 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:33,341 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6646505203620040314test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35803/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6646505203620040314test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:33,345 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35803/ledgers : zkServers = localhost:35803, ledgersRootPath = /ledgers.
2020-08-10 23:46:33,349 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:33,352 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:33,367 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6646505203620040314test/current] [/tmp/bookie6646505203620040314test/current]
2020-08-10 23:46:33,375 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:33,377 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6646505203620040314test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:33,377 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:33,377 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:33,377 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:33,379 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:33,379 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:33,379 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:33,389 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41585 to become writable
2020-08-10 23:46:33,390 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:33,392 - INFO  - [SyncThread-239-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:33,395 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:33,396 - INFO  - [BookieJournal-41585:Journal@909] - Starting journal on /tmp/bookie6646505203620040314test/current
2020-08-10 23:46:33,397 - INFO  - [BookieJournal-41585:JournalChannel@157] - Opening journal /tmp/bookie6646505203620040314test/current/173da56e036.txn
2020-08-10 23:46:33,398 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:33,404 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41585
2020-08-10 23:46:33,654 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41585' has been created.
2020-08-10 23:46:33,656 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:33,657 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10627410352889932666test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35803/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10627410352889932666test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:33,661 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35803/ledgers : zkServers = localhost:35803, ledgersRootPath = /ledgers.
2020-08-10 23:46:33,667 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:33,671 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:33,676 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10627410352889932666test/current] [/tmp/bookie10627410352889932666test/current]
2020-08-10 23:46:33,683 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:33,684 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10627410352889932666test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:33,684 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:33,685 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:33,685 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:33,686 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:33,687 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:33,687 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:33,702 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35325 to become writable
2020-08-10 23:46:33,703 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:33,705 - INFO  - [SyncThread-249-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:33,709 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:33,710 - INFO  - [BookieJournal-35325:Journal@909] - Starting journal on /tmp/bookie10627410352889932666test/current
2020-08-10 23:46:33,711 - INFO  - [BookieJournal-35325:JournalChannel@157] - Opening journal /tmp/bookie10627410352889932666test/current/173da56e170.txn
2020-08-10 23:46:33,711 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:33,718 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35325
2020-08-10 23:46:33,972 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35325' has been created.
2020-08-10 23:46:33,973 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testBookkeeperDigestPasswordWithoutAutoDetection @ metadata service zk://localhost:35803/ledgers in 1315 ms.
2020-08-10 23:46:33,976 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35803/ledgers : zkServers = localhost:35803, ledgersRootPath = /ledgers.
2020-08-10 23:46:33,982 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:33,985 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:33,986 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:33,986 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:33,986 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:33,989 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41585
2020-08-10 23:46:33,989 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35511
2020-08-10 23:46:33,989 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33677
2020-08-10 23:46:33,990 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35325
2020-08-10 23:46:33,991 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:35511, 127.0.0.1:33677, 127.0.0.1:41585] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:34,532 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:35511, 127.0.0.1:33677, 127.0.0.1:41585] for ledger: 0
2020-08-10 23:46:34,540 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8926eabe, L:/127.0.0.1:35772 - R:127.0.0.1/127.0.0.1:35511]
2020-08-10 23:46:34,540 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35511
2020-08-10 23:46:34,541 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd7934e43, L:/127.0.0.1:52708 - R:127.0.0.1/127.0.0.1:33677]
2020-08-10 23:46:34,541 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33677
2020-08-10 23:46:34,541 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient$1@471] - connection [id: 0x8926eabe, L:/127.0.0.1:35772 - R:127.0.0.1/127.0.0.1:35511] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:34,542 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient$1@471] - connection [id: 0xd7934e43, L:/127.0.0.1:52708 - R:127.0.0.1/127.0.0.1:33677] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:34,563 - INFO  - [bookie-io-214-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:34,564 - INFO  - [bookie-io-214-2:BookieRequestHandler@50] - Channel connected  [id: 0x61567786, L:/127.0.0.1:33677 - R:/127.0.0.1:52708]
2020-08-10 23:46:34,564 - INFO  - [bookie-io-224-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:34,564 - INFO  - [bookie-io-224-2:BookieRequestHandler@50] - Channel connected  [id: 0x1d6b58f9, L:/127.0.0.1:35511 - R:/127.0.0.1:35772]
2020-08-10 23:46:34,598 - INFO  - [bookie-io-234-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:34,598 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x0f3df3f8, L:/127.0.0.1:39524 - R:127.0.0.1/127.0.0.1:41585]
2020-08-10 23:46:34,598 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41585
2020-08-10 23:46:34,598 - INFO  - [bookie-io-234-2:BookieRequestHandler@50] - Channel connected  [id: 0xa5ec53bf, L:/127.0.0.1:41585 - R:/127.0.0.1:39524]
2020-08-10 23:46:34,599 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient$1@471] - connection [id: 0x0f3df3f8, L:/127.0.0.1:39524 - R:127.0.0.1/127.0.0.1:41585] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:35,176 - ERROR - [Time-limited test-EventThread:LedgerOpenOp@158] - Provided passwd does not match that in metadata
2020-08-10 23:46:35,178 - ERROR - [Time-limited test-EventThread:LedgerOpenOp@165] - Provided digest does not match that in metadata
2020-08-10 23:46:35,180 - ERROR - [Time-limited test-EventThread:LedgerOpenOp@158] - Provided passwd does not match that in metadata
2020-08-10 23:46:35,182 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41585
2020-08-10 23:46:35,183 - INFO  - [bookkeeper-io-256-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x0f3df3f8, L:/127.0.0.1:39524 ! R:127.0.0.1/127.0.0.1:41585]
2020-08-10 23:46:35,184 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35511
2020-08-10 23:46:35,185 - INFO  - [bookie-io-234-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xa5ec53bf, L:/127.0.0.1:41585 ! R:/127.0.0.1:39524]
2020-08-10 23:46:35,185 - INFO  - [bookkeeper-io-256-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8926eabe, L:/127.0.0.1:35772 ! R:127.0.0.1/127.0.0.1:35511]
2020-08-10 23:46:35,185 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33677
2020-08-10 23:46:35,185 - INFO  - [bookie-io-224-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x1d6b58f9, L:/127.0.0.1:35511 ! R:/127.0.0.1:35772]
2020-08-10 23:46:35,186 - INFO  - [bookkeeper-io-256-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xd7934e43, L:/127.0.0.1:52708 ! R:127.0.0.1/127.0.0.1:33677]
2020-08-10 23:46:35,186 - INFO  - [bookie-io-214-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x61567786, L:/127.0.0.1:33677 ! R:/127.0.0.1:52708]
2020-08-10 23:46:35,300 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:35,412 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:35,413 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:35,425 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33677 with exitCode 0
2020-08-10 23:46:35,425 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:35,425 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:35,425 - INFO  - [SyncThread-219-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:35,427 - INFO  - [SyncThread-219-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie994760294192960556test/current/0.log for logId 0.
2020-08-10 23:46:35,429 - INFO  - [pool-146-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie994760294192960556test/current/1.log for logId 1.
2020-08-10 23:46:35,437 - INFO  - [SyncThread-219-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095992763 , logFileOffset - 35328]}.
2020-08-10 23:46:35,441 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:35,441 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:35,441 - INFO  - [BookieJournal-33677:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:35,441 - INFO  - [BookieJournal-33677:Journal@1144] - Journal exited loop!
2020-08-10 23:46:35,443 - INFO  - [Bookie-33677:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:35,443 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:35,446 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:35,446 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:35,446 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:35,446 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:35,446 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:35,449 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:35,450 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:35,450 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:35,558 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:35,558 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:35,567 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35511 with exitCode 0
2020-08-10 23:46:35,567 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:35,567 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:35,568 - INFO  - [SyncThread-229-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:35,569 - INFO  - [SyncThread-229-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3381045337217154428test/current/0.log for logId 0.
2020-08-10 23:46:35,573 - INFO  - [pool-153-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3381045337217154428test/current/1.log for logId 1.
2020-08-10 23:46:35,580 - INFO  - [SyncThread-229-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095993082 , logFileOffset - 34816]}.
2020-08-10 23:46:35,584 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:35,584 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:35,585 - INFO  - [BookieJournal-35511:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:35,585 - INFO  - [BookieJournal-35511:Journal@1144] - Journal exited loop!
2020-08-10 23:46:35,585 - INFO  - [Bookie-35511:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:35,585 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:35,586 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:35,586 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:35,586 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:35,586 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:35,586 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:35,589 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:35,590 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:35,591 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:35,701 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:35,701 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:35,707 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41585 with exitCode 0
2020-08-10 23:46:35,707 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:35,708 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:35,709 - INFO  - [SyncThread-239-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:35,710 - INFO  - [SyncThread-239-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6646505203620040314test/current/0.log for logId 0.
2020-08-10 23:46:35,722 - INFO  - [pool-160-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6646505203620040314test/current/1.log for logId 1.
2020-08-10 23:46:35,734 - INFO  - [SyncThread-239-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095993398 , logFileOffset - 34304]}.
2020-08-10 23:46:35,738 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:35,740 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:35,740 - INFO  - [BookieJournal-41585:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:35,740 - INFO  - [BookieJournal-41585:Journal@1144] - Journal exited loop!
2020-08-10 23:46:35,741 - INFO  - [Bookie-41585:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:35,741 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:35,742 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:35,742 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:35,742 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:35,742 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:35,742 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:35,745 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:35,746 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:35,746 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:35,772 - INFO  - [BookieDeathWatcher-33677:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:35,772 - INFO  - [BookieDeathWatcher-33677:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33677
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:35,772 - INFO  - [BookieDeathWatcher-33677:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:35,772 - INFO  - [BookieDeathWatcher-33677:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:35,855 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:35,855 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:35,860 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35325 with exitCode 0
2020-08-10 23:46:35,860 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:35,861 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:35,861 - INFO  - [SyncThread-249-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:35,865 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:35,866 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:35,866 - INFO  - [BookieJournal-35325:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:35,866 - INFO  - [BookieJournal-35325:Journal@1144] - Journal exited loop!
2020-08-10 23:46:35,866 - INFO  - [Bookie-35325:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:35,866 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:35,866 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:35,867 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:36,089 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testBookkeeperDigestPasswordWithoutAutoDetection in 788 ms.
2020-08-10 23:46:36,091 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:36,114 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:36,127 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45041/ledgers : zkServers = localhost:45041, ledgersRootPath = /ledgers.
2020-08-10 23:46:36,132 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:36,136 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:36,136 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:36,136 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:36,137 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:36,146 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:36,146 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11585178088738649009test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45041/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11585178088738649009test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:36,150 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45041/ledgers : zkServers = localhost:45041, ledgersRootPath = /ledgers.
2020-08-10 23:46:36,156 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:36,163 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:36,171 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11585178088738649009test/current] [/tmp/bookie11585178088738649009test/current]
2020-08-10 23:46:36,182 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:36,184 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11585178088738649009test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:36,184 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:36,185 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:36,185 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:36,188 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:36,188 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:36,188 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:36,199 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37933 to become writable
2020-08-10 23:46:36,199 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:36,200 - INFO  - [SyncThread-271-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:36,204 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:36,206 - INFO  - [BookieJournal-37933:Journal@909] - Starting journal on /tmp/bookie11585178088738649009test/current
2020-08-10 23:46:36,207 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:36,208 - INFO  - [BookieJournal-37933:JournalChannel@157] - Opening journal /tmp/bookie11585178088738649009test/current/173da56eb31.txn
2020-08-10 23:46:36,213 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37933
2020-08-10 23:46:36,464 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37933' has been created.
2020-08-10 23:46:36,472 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:36,472 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10829321220804659159test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45041/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10829321220804659159test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:36,475 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45041/ledgers : zkServers = localhost:45041, ledgersRootPath = /ledgers.
2020-08-10 23:46:36,485 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:36,491 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:36,499 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10829321220804659159test/current] [/tmp/bookie10829321220804659159test/current]
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-41585:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-41585:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41585
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-41585:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-41585:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-35511:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-35511:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35511
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-35511:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:36,506 - INFO  - [BookieDeathWatcher-35511:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:36,507 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:36,509 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10829321220804659159test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:36,509 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:36,509 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:36,510 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:36,511 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:36,511 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:36,511 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:36,518 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43859 to become writable
2020-08-10 23:46:36,720 - INFO  - [BookieDeathWatcher-35325:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:36,720 - INFO  - [BookieDeathWatcher-35325:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35325
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:36,720 - INFO  - [BookieDeathWatcher-35325:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:36,720 - INFO  - [BookieDeathWatcher-35325:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:36,931 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:46:36,934 - INFO  - [SyncThread-281-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:36,938 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:36,942 - INFO  - [BookieJournal-43859:Journal@909] - Starting journal on /tmp/bookie10829321220804659159test/current
2020-08-10 23:46:36,945 - INFO  - [BookieJournal-43859:JournalChannel@157] - Opening journal /tmp/bookie10829321220804659159test/current/173da56ee12.txn
2020-08-10 23:46:36,945 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:36,952 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43859
2020-08-10 23:46:37,201 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43859' has been created.
2020-08-10 23:46:37,203 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:37,203 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie5469868498218895261test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45041/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie5469868498218895261test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:37,206 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45041/ledgers : zkServers = localhost:45041, ledgersRootPath = /ledgers.
2020-08-10 23:46:37,212 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:37,215 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:37,222 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie5469868498218895261test/current] [/tmp/bookie5469868498218895261test/current]
2020-08-10 23:46:37,232 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:37,233 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie5469868498218895261test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:37,234 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:37,234 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:37,235 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:37,237 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:37,237 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:37,237 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:37,252 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44109 to become writable
2020-08-10 23:46:37,253 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:37,254 - INFO  - [SyncThread-291-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:37,257 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:37,261 - INFO  - [BookieJournal-44109:Journal@909] - Starting journal on /tmp/bookie5469868498218895261test/current
2020-08-10 23:46:37,262 - INFO  - [BookieJournal-44109:JournalChannel@157] - Opening journal /tmp/bookie5469868498218895261test/current/173da56ef4f.txn
2020-08-10 23:46:37,263 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:37,267 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44109
2020-08-10 23:46:37,517 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44109' has been created.
2020-08-10 23:46:37,519 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:37,519 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7060291411359564821test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45041/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7060291411359564821test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:37,521 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45041/ledgers : zkServers = localhost:45041, ledgersRootPath = /ledgers.
2020-08-10 23:46:37,525 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:37,528 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:37,533 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7060291411359564821test/current] [/tmp/bookie7060291411359564821test/current]
2020-08-10 23:46:37,541 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:37,542 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7060291411359564821test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:37,543 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:37,544 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:37,544 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:37,545 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:37,546 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:37,546 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:37,555 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43063 to become writable
2020-08-10 23:46:37,555 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:37,557 - INFO  - [SyncThread-301-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:37,561 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:37,563 - INFO  - [BookieJournal-43063:Journal@909] - Starting journal on /tmp/bookie7060291411359564821test/current
2020-08-10 23:46:37,564 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:37,564 - INFO  - [BookieJournal-43063:JournalChannel@157] - Opening journal /tmp/bookie7060291411359564821test/current/173da56f07d.txn
2020-08-10 23:46:37,575 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43063
2020-08-10 23:46:37,820 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43063' has been created.
2020-08-10 23:46:37,822 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testAsyncReadWithError @ metadata service zk://localhost:45041/ledgers in 1730 ms.
2020-08-10 23:46:37,822 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:43859, 127.0.0.1:43063, 127.0.0.1:44109] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:37,847 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:43859, 127.0.0.1:43063, 127.0.0.1:44109] for ledger: 0
2020-08-10 23:46:37,958 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:37,959 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:37,959 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:37,970 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37933 with exitCode 0
2020-08-10 23:46:37,970 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:37,970 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:37,970 - INFO  - [SyncThread-271-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:37,974 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:37,975 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:37,976 - INFO  - [BookieJournal-37933:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:37,976 - INFO  - [BookieJournal-37933:Journal@1144] - Journal exited loop!
2020-08-10 23:46:37,976 - INFO  - [Bookie-37933:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:37,976 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:37,977 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:38,082 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:38,083 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:38,095 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43859 with exitCode 0
2020-08-10 23:46:38,095 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:38,095 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:38,096 - INFO  - [SyncThread-281-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:38,099 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:38,100 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:38,100 - INFO  - [BookieJournal-43859:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:38,100 - INFO  - [BookieJournal-43859:Journal@1144] - Journal exited loop!
2020-08-10 23:46:38,101 - INFO  - [Bookie-43859:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:38,101 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:38,102 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:38,103 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:38,211 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:38,211 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:38,212 - INFO  - [BookieDeathWatcher-37933:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:38,213 - INFO  - [BookieDeathWatcher-37933:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37933
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:38,214 - INFO  - [BookieDeathWatcher-37933:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:38,214 - INFO  - [BookieDeathWatcher-37933:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:38,228 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44109 with exitCode 0
2020-08-10 23:46:38,228 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:38,228 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:38,229 - INFO  - [SyncThread-291-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:38,233 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:38,234 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:38,234 - INFO  - [BookieJournal-44109:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:38,234 - INFO  - [BookieJournal-44109:Journal@1144] - Journal exited loop!
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:38,235 - INFO  - [Bookie-44109:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:38,235 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:38,342 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:38,342 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:38,351 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43063 with exitCode 0
2020-08-10 23:46:38,351 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:38,351 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:38,352 - INFO  - [SyncThread-301-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:38,356 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:38,356 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:38,357 - INFO  - [BookieJournal-43063:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:38,357 - INFO  - [BookieJournal-43063:Journal@1144] - Journal exited loop!
2020-08-10 23:46:38,358 - INFO  - [Bookie-43063:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:38,358 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:38,358 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:38,359 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:38,570 - INFO  - [BookieDeathWatcher-43063:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:38,570 - INFO  - [BookieDeathWatcher-43063:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43063
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:38,572 - INFO  - [BookieDeathWatcher-43063:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:38,572 - INFO  - [BookieDeathWatcher-43063:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:38,581 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testAsyncReadWithError in 622 ms.
2020-08-10 23:46:38,582 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:38,602 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:38,620 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41107/ledgers : zkServers = localhost:41107, ledgersRootPath = /ledgers.
2020-08-10 23:46:38,630 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:38,639 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:38,639 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:38,639 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:38,639 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:38,646 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:38,646 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie623570645133377260test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41107/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie623570645133377260test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:38,651 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41107/ledgers : zkServers = localhost:41107, ledgersRootPath = /ledgers.
2020-08-10 23:46:38,661 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:38,664 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:38,670 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie623570645133377260test/current] [/tmp/bookie623570645133377260test/current]
2020-08-10 23:46:38,683 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:38,685 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie623570645133377260test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:38,685 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:38,685 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:38,686 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:38,687 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:38,687 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:38,687 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:38,699 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:32993 to become writable
2020-08-10 23:46:38,700 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:46:38,701 - INFO  - [SyncThread-317-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:38,705 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:38,707 - INFO  - [BookieJournal-32993:Journal@909] - Starting journal on /tmp/bookie623570645133377260test/current
2020-08-10 23:46:38,708 - INFO  - [BookieJournal-32993:JournalChannel@157] - Opening journal /tmp/bookie623570645133377260test/current/173da56f4f5.txn
2020-08-10 23:46:38,709 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:38,713 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:32993
2020-08-10 23:46:38,954 - INFO  - [BookieDeathWatcher-43859:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:38,954 - INFO  - [BookieDeathWatcher-43859:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43859
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:38,954 - INFO  - [BookieDeathWatcher-43859:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:38,954 - INFO  - [BookieDeathWatcher-43859:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:38,964 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:32993' has been created.
2020-08-10 23:46:38,965 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:38,966 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15673574667582035015test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41107/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15673574667582035015test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:38,970 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41107/ledgers : zkServers = localhost:41107, ledgersRootPath = /ledgers.
2020-08-10 23:46:38,974 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:38,980 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:38,987 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15673574667582035015test/current] [/tmp/bookie15673574667582035015test/current]
2020-08-10 23:46:38,994 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:38,997 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15673574667582035015test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:38,997 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:38,998 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:38,998 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:38,999 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:39,000 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:39,000 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:39,012 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38543 to become writable
2020-08-10 23:46:39,012 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:39,014 - INFO  - [SyncThread-327-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:39,017 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:39,018 - INFO  - [BookieJournal-38543:Journal@909] - Starting journal on /tmp/bookie15673574667582035015test/current
2020-08-10 23:46:39,020 - INFO  - [BookieJournal-38543:JournalChannel@157] - Opening journal /tmp/bookie15673574667582035015test/current/173da56f62d.txn
2020-08-10 23:46:39,021 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:39,027 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38543
2020-08-10 23:46:39,268 - INFO  - [BookieDeathWatcher-44109:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:39,268 - INFO  - [BookieDeathWatcher-44109:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44109
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:39,269 - INFO  - [BookieDeathWatcher-44109:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:39,269 - INFO  - [BookieDeathWatcher-44109:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:39,279 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38543' has been created.
2020-08-10 23:46:39,281 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:39,282 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12619387986001393234test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41107/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12619387986001393234test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:39,285 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41107/ledgers : zkServers = localhost:41107, ledgersRootPath = /ledgers.
2020-08-10 23:46:39,290 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:39,293 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:39,305 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12619387986001393234test/current] [/tmp/bookie12619387986001393234test/current]
2020-08-10 23:46:39,312 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:39,314 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12619387986001393234test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:39,315 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:39,315 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:39,315 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:39,316 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:39,317 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:39,317 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:39,324 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45519 to become writable
2020-08-10 23:46:39,325 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:39,326 - INFO  - [SyncThread-337-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:39,330 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:39,331 - INFO  - [BookieJournal-45519:Journal@909] - Starting journal on /tmp/bookie12619387986001393234test/current
2020-08-10 23:46:39,332 - INFO  - [BookieJournal-45519:JournalChannel@157] - Opening journal /tmp/bookie12619387986001393234test/current/173da56f765.txn
2020-08-10 23:46:39,332 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:39,338 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45519
2020-08-10 23:46:39,588 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45519' has been created.
2020-08-10 23:46:39,590 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:39,590 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11996327982448393393test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:41107/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11996327982448393393test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:39,594 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41107/ledgers : zkServers = localhost:41107, ledgersRootPath = /ledgers.
2020-08-10 23:46:39,598 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:39,600 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:39,609 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11996327982448393393test/current] [/tmp/bookie11996327982448393393test/current]
2020-08-10 23:46:39,617 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:39,620 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11996327982448393393test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:39,620 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:39,620 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:39,621 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:39,621 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:39,622 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:39,622 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:39,633 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45049 to become writable
2020-08-10 23:46:39,635 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:46:39,636 - INFO  - [SyncThread-347-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:39,639 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:39,645 - INFO  - [BookieJournal-45049:Journal@909] - Starting journal on /tmp/bookie11996327982448393393test/current
2020-08-10 23:46:39,646 - INFO  - [BookieJournal-45049:JournalChannel@157] - Opening journal /tmp/bookie11996327982448393393test/current/173da56f89f.txn
2020-08-10 23:46:39,646 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:39,655 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45049
2020-08-10 23:46:39,912 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45049' has been created.
2020-08-10 23:46:39,913 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testCannotUseForceOnV2Protocol @ metadata service zk://localhost:41107/ledgers in 1329 ms.
2020-08-10 23:46:39,916 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:41107/ledgers : zkServers = localhost:41107, ledgersRootPath = /ledgers.
2020-08-10 23:46:39,932 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:39,935 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:39,935 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:39,936 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:39,936 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:39,939 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:32993
2020-08-10 23:46:39,939 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38543
2020-08-10 23:46:39,939 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45519
2020-08-10 23:46:39,939 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45049
2020-08-10 23:46:39,941 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:32993, 127.0.0.1:45049, 127.0.0.1:45519] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:39,965 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:32993, 127.0.0.1:45049, 127.0.0.1:45519] for ledger: 0
2020-08-10 23:46:39,973 - INFO  - [bookkeeper-io-354-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xe353c172, L:/127.0.0.1:33810 - R:127.0.0.1/127.0.0.1:32993]
2020-08-10 23:46:39,973 - INFO  - [bookkeeper-io-354-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:32993
2020-08-10 23:46:39,973 - INFO  - [bookkeeper-io-354-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8ada1853, L:/127.0.0.1:35048 - R:127.0.0.1/127.0.0.1:45049]
2020-08-10 23:46:39,973 - INFO  - [bookkeeper-io-354-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45049
2020-08-10 23:46:39,973 - INFO  - [bookie-io-312-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:39,974 - INFO  - [bookie-io-312-2:BookieRequestHandler@50] - Channel connected  [id: 0x8f1fa3a4, L:/127.0.0.1:32993 - R:/127.0.0.1:33810]
2020-08-10 23:46:39,974 - INFO  - [bookkeeper-io-354-2:PerChannelBookieClient$1@471] - connection [id: 0x8ada1853, L:/127.0.0.1:35048 - R:127.0.0.1/127.0.0.1:45049] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:39,974 - INFO  - [bookkeeper-io-354-1:PerChannelBookieClient$1@471] - connection [id: 0xe353c172, L:/127.0.0.1:33810 - R:127.0.0.1/127.0.0.1:32993] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:39,974 - INFO  - [bookie-io-342-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:39,976 - INFO  - [bookie-io-342-2:BookieRequestHandler@50] - Channel connected  [id: 0xf3c38fdb, L:/127.0.0.1:45049 - R:/127.0.0.1:35048]
2020-08-10 23:46:39,976 - INFO  - [bookkeeper-io-354-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xc15b9c6d, L:/127.0.0.1:55216 - R:127.0.0.1/127.0.0.1:45519]
2020-08-10 23:46:39,977 - INFO  - [bookkeeper-io-354-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45519
2020-08-10 23:46:39,978 - INFO  - [bookkeeper-io-354-3:PerChannelBookieClient$1@471] - connection [id: 0xc15b9c6d, L:/127.0.0.1:55216 - R:127.0.0.1/127.0.0.1:45519] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:39,977 - INFO  - [bookie-io-332-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:39,979 - INFO  - [bookie-io-332-2:BookieRequestHandler@50] - Channel connected  [id: 0x4546f9ba, L:/127.0.0.1:45519 - R:/127.0.0.1:55216]
2020-08-10 23:46:40,004 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PerChannelBookieClient@689] - force is not allowed with v2 protocol
2020-08-10 23:46:40,005 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PerChannelBookieClient@689] - force is not allowed with v2 protocol
2020-08-10 23:46:40,005 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PerChannelBookieClient@689] - force is not allowed with v2 protocol
2020-08-10 23:46:40,006 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:ForceLedgerOp@121] - ForceLedger did not succeed: Ledger 0 on 127.0.0.1:32993
2020-08-10 23:46:40,011 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:32993
2020-08-10 23:46:40,012 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:32993
2020-08-10 23:46:40,012 - INFO  - [bookie-io-312-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x8f1fa3a4, L:/127.0.0.1:32993 ! R:/127.0.0.1:33810]
2020-08-10 23:46:40,012 - INFO  - [bookkeeper-io-354-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xe353c172, L:/127.0.0.1:33810 ! R:127.0.0.1/127.0.0.1:32993]
2020-08-10 23:46:40,012 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45519
2020-08-10 23:46:40,013 - INFO  - [bookkeeper-io-354-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xc15b9c6d, L:/127.0.0.1:55216 ! R:127.0.0.1/127.0.0.1:45519]
2020-08-10 23:46:40,013 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45519
2020-08-10 23:46:40,013 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45049
2020-08-10 23:46:40,014 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45049
2020-08-10 23:46:40,014 - INFO  - [bookie-io-342-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf3c38fdb, L:/127.0.0.1:45049 ! R:/127.0.0.1:35048]
2020-08-10 23:46:40,014 - INFO  - [bookkeeper-io-354-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8ada1853, L:/127.0.0.1:35048 ! R:127.0.0.1/127.0.0.1:45049]
2020-08-10 23:46:40,021 - INFO  - [bookie-io-332-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x4546f9ba, L:/127.0.0.1:45519 ! R:/127.0.0.1:55216]
2020-08-10 23:46:40,126 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:40,241 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:40,241 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:40,245 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-32993 with exitCode 0
2020-08-10 23:46:40,245 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:40,245 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:40,246 - INFO  - [SyncThread-317-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:40,246 - INFO  - [SyncThread-317-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie623570645133377260test/current/0.log for logId 0.
2020-08-10 23:46:40,248 - INFO  - [pool-215-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie623570645133377260test/current/1.log for logId 1.
2020-08-10 23:46:40,256 - INFO  - [SyncThread-317-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095998709 , logFileOffset - 1024]}.
2020-08-10 23:46:40,260 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:40,260 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:40,261 - INFO  - [BookieJournal-32993:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:40,261 - INFO  - [BookieJournal-32993:Journal@1144] - Journal exited loop!
2020-08-10 23:46:40,262 - INFO  - [Bookie-32993:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:40,262 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:40,263 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:40,263 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:40,263 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:40,263 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:40,263 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:40,265 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:40,266 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:40,266 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:40,377 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:40,377 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:40,383 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38543 with exitCode 0
2020-08-10 23:46:40,383 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:40,383 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:40,384 - INFO  - [SyncThread-327-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:40,387 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:40,388 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:40,389 - INFO  - [BookieJournal-38543:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:40,389 - INFO  - [BookieJournal-38543:Journal@1144] - Journal exited loop!
2020-08-10 23:46:40,389 - INFO  - [Bookie-38543:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:40,390 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:40,496 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:40,497 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:40,503 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45519 with exitCode 0
2020-08-10 23:46:40,503 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:40,503 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:40,503 - INFO  - [SyncThread-337-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:40,504 - INFO  - [SyncThread-337-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12619387986001393234test/current/0.log for logId 0.
2020-08-10 23:46:40,505 - INFO  - [pool-229-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12619387986001393234test/current/1.log for logId 1.
2020-08-10 23:46:40,513 - INFO  - [SyncThread-337-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095999333 , logFileOffset - 1024]}.
2020-08-10 23:46:40,516 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:40,516 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:40,518 - INFO  - [BookieJournal-45519:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:40,518 - INFO  - [BookieJournal-45519:Journal@1144] - Journal exited loop!
2020-08-10 23:46:40,518 - INFO  - [Bookie-45519:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:40,519 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:40,519 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:40,519 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:40,519 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:40,519 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:40,519 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:40,522 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:40,523 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:40,523 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:40,632 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:40,632 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:40,641 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45049 with exitCode 0
2020-08-10 23:46:40,642 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:40,642 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:40,642 - INFO  - [SyncThread-347-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:40,644 - INFO  - [SyncThread-347-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11996327982448393393test/current/0.log for logId 0.
2020-08-10 23:46:40,646 - INFO  - [pool-236-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11996327982448393393test/current/1.log for logId 1.
2020-08-10 23:46:40,663 - INFO  - [SyncThread-347-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597095999647 , logFileOffset - 1024]}.
2020-08-10 23:46:40,668 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:40,669 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:40,669 - INFO  - [BookieJournal-45049:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:40,669 - INFO  - [BookieJournal-45049:Journal@1144] - Journal exited loop!
2020-08-10 23:46:40,669 - INFO  - [Bookie-45049:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:40,669 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:40,670 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:40,670 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:40,670 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:40,670 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:40,670 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:40,672 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:40,673 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:40,673 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:40,717 - INFO  - [BookieDeathWatcher-32993:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:40,718 - INFO  - [BookieDeathWatcher-32993:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-32993
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:40,718 - INFO  - [BookieDeathWatcher-32993:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:40,718 - INFO  - [BookieDeathWatcher-32993:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:40,896 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testCannotUseForceOnV2Protocol in 770 ms.
2020-08-10 23:46:40,898 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:40,913 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:40,920 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:37827/ledgers : zkServers = localhost:37827, ledgersRootPath = /ledgers.
2020-08-10 23:46:40,927 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:40,936 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:40,937 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:40,937 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:40,938 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:40,945 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:40,945 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie17211094863301548874test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:37827/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie17211094863301548874test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:40,947 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:37827/ledgers : zkServers = localhost:37827, ledgersRootPath = /ledgers.
2020-08-10 23:46:40,953 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:40,956 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:40,965 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie17211094863301548874test/current] [/tmp/bookie17211094863301548874test/current]
2020-08-10 23:46:40,977 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:40,978 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie17211094863301548874test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:40,979 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:40,979 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:40,984 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:40,986 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:40,986 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:40,987 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:40,994 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41497 to become writable
2020-08-10 23:46:40,997 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:46:40,998 - INFO  - [SyncThread-369-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:41,002 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:41,004 - INFO  - [BookieJournal-41497:Journal@909] - Starting journal on /tmp/bookie17211094863301548874test/current
2020-08-10 23:46:41,005 - INFO  - [BookieJournal-41497:JournalChannel@157] - Opening journal /tmp/bookie17211094863301548874test/current/173da56fdee.txn
2020-08-10 23:46:41,005 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:41,012 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41497
2020-08-10 23:46:41,028 - INFO  - [BookieDeathWatcher-38543:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:41,028 - INFO  - [BookieDeathWatcher-38543:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38543
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:41,029 - INFO  - [BookieDeathWatcher-38543:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:41,029 - INFO  - [BookieDeathWatcher-38543:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:41,261 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41497' has been created.
2020-08-10 23:46:41,263 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:41,263 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7791156830284547852test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:37827/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7791156830284547852test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:41,266 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:37827/ledgers : zkServers = localhost:37827, ledgersRootPath = /ledgers.
2020-08-10 23:46:41,271 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:41,274 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:41,282 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7791156830284547852test/current] [/tmp/bookie7791156830284547852test/current]
2020-08-10 23:46:41,296 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:41,298 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7791156830284547852test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:41,298 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:41,298 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:41,299 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:41,303 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:41,304 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:41,304 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:41,313 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40507 to become writable
2020-08-10 23:46:41,316 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:41,321 - INFO  - [SyncThread-379-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:41,325 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:41,329 - INFO  - [BookieJournal-40507:Journal@909] - Starting journal on /tmp/bookie7791156830284547852test/current
2020-08-10 23:46:41,329 - INFO  - [BookieJournal-40507:JournalChannel@157] - Opening journal /tmp/bookie7791156830284547852test/current/173da56ff32.txn
2020-08-10 23:46:41,330 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:41,335 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40507
2020-08-10 23:46:41,338 - INFO  - [BookieDeathWatcher-45519:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:41,339 - INFO  - [BookieDeathWatcher-45519:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45519
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:41,340 - INFO  - [BookieDeathWatcher-45519:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:41,340 - INFO  - [BookieDeathWatcher-45519:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:41,588 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40507' has been created.
2020-08-10 23:46:41,589 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:41,590 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2461663558623734308test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:37827/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2461663558623734308test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:41,594 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:37827/ledgers : zkServers = localhost:37827, ledgersRootPath = /ledgers.
2020-08-10 23:46:41,598 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:41,605 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:41,614 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2461663558623734308test/current] [/tmp/bookie2461663558623734308test/current]
2020-08-10 23:46:41,623 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:41,624 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2461663558623734308test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:41,625 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:41,625 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:41,625 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:41,626 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:41,626 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:41,627 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:41,635 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45819 to become writable
2020-08-10 23:46:41,635 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:41,636 - INFO  - [SyncThread-389-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:41,642 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:41,643 - INFO  - [BookieJournal-45819:Journal@909] - Starting journal on /tmp/bookie2461663558623734308test/current
2020-08-10 23:46:41,643 - INFO  - [BookieJournal-45819:JournalChannel@157] - Opening journal /tmp/bookie2461663558623734308test/current/173da57006c.txn
2020-08-10 23:46:41,645 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:41,651 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45819
2020-08-10 23:46:41,658 - INFO  - [BookieDeathWatcher-45049:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:41,658 - INFO  - [BookieDeathWatcher-45049:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45049
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:41,658 - INFO  - [BookieDeathWatcher-45049:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:41,658 - INFO  - [BookieDeathWatcher-45049:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:41,906 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45819' has been created.
2020-08-10 23:46:41,908 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:41,908 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie748755022926998374test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:37827/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie748755022926998374test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:41,912 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:37827/ledgers : zkServers = localhost:37827, ledgersRootPath = /ledgers.
2020-08-10 23:46:41,918 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:41,922 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:41,935 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie748755022926998374test/current] [/tmp/bookie748755022926998374test/current]
2020-08-10 23:46:41,944 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:41,946 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie748755022926998374test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:41,946 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:41,946 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:41,947 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:41,949 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:41,949 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:41,949 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:41,961 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35801 to become writable
2020-08-10 23:46:41,961 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:41,962 - INFO  - [SyncThread-399-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:41,966 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:41,967 - INFO  - [BookieJournal-35801:Journal@909] - Starting journal on /tmp/bookie748755022926998374test/current
2020-08-10 23:46:41,968 - INFO  - [BookieJournal-35801:JournalChannel@157] - Opening journal /tmp/bookie748755022926998374test/current/173da5701b1.txn
2020-08-10 23:46:41,969 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:42,476 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35801
2020-08-10 23:46:42,725 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35801' has been created.
2020-08-10 23:46:42,726 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadFailureCallback @ metadata service zk://localhost:37827/ledgers in 1827 ms.
2020-08-10 23:46:42,734 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:37827/ledgers : zkServers = localhost:37827, ledgersRootPath = /ledgers.
2020-08-10 23:46:42,750 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:42,754 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:42,755 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:42,755 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:42,755 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:42,759 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45819
2020-08-10 23:46:42,759 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40507
2020-08-10 23:46:42,759 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35801
2020-08-10 23:46:42,759 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41497
2020-08-10 23:46:42,760 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:41497, 127.0.0.1:40507, 127.0.0.1:45819] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:42,785 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:41497, 127.0.0.1:40507, 127.0.0.1:45819] for ledger: 0
2020-08-10 23:46:42,789 - INFO  - [bookie-io-364-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:42,789 - INFO  - [bookie-io-364-2:BookieRequestHandler@50] - Channel connected  [id: 0xcc62b710, L:/127.0.0.1:41497 - R:/127.0.0.1:49900]
2020-08-10 23:46:42,792 - INFO  - [bookkeeper-io-406-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x364549e0, L:/127.0.0.1:49900 - R:127.0.0.1/127.0.0.1:41497]
2020-08-10 23:46:42,792 - INFO  - [bookkeeper-io-406-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41497
2020-08-10 23:46:42,792 - INFO  - [bookkeeper-io-406-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x832defb4, L:/127.0.0.1:33976 - R:127.0.0.1/127.0.0.1:40507]
2020-08-10 23:46:42,792 - INFO  - [bookkeeper-io-406-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40507
2020-08-10 23:46:42,793 - INFO  - [bookkeeper-io-406-1:PerChannelBookieClient$1@471] - connection [id: 0x364549e0, L:/127.0.0.1:49900 - R:127.0.0.1/127.0.0.1:41497] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:42,792 - INFO  - [bookie-io-374-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:42,793 - INFO  - [bookkeeper-io-406-2:PerChannelBookieClient$1@471] - connection [id: 0x832defb4, L:/127.0.0.1:33976 - R:127.0.0.1/127.0.0.1:40507] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:42,794 - INFO  - [bookie-io-374-2:BookieRequestHandler@50] - Channel connected  [id: 0xb9a92838, L:/127.0.0.1:40507 - R:/127.0.0.1:33976]
2020-08-10 23:46:42,817 - INFO  - [bookie-io-384-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:42,817 - INFO  - [bookie-io-384-2:BookieRequestHandler@50] - Channel connected  [id: 0x64aaaeea, L:/127.0.0.1:45819 - R:/127.0.0.1:59208]
2020-08-10 23:46:42,817 - INFO  - [bookkeeper-io-406-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x554673d0, L:/127.0.0.1:59208 - R:127.0.0.1/127.0.0.1:45819]
2020-08-10 23:46:42,818 - INFO  - [bookkeeper-io-406-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45819
2020-08-10 23:46:42,818 - INFO  - [bookkeeper-io-406-3:PerChannelBookieClient$1@471] - connection [id: 0x554673d0, L:/127.0.0.1:59208 - R:127.0.0.1/127.0.0.1:45819] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:42,987 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:42,987 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:42,988 - WARN  - [bookkeeper-io-406-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0x364549e0, L:/127.0.0.1:49900 - R:127.0.0.1/127.0.0.1:41497] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:42,988 - INFO  - [bookie-io-364-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xcc62b710, L:/127.0.0.1:41497 ! R:/127.0.0.1:49900]
2020-08-10 23:46:42,988 - INFO  - [bookkeeper-io-406-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x364549e0, L:/127.0.0.1:49900 ! R:127.0.0.1/127.0.0.1:41497]
2020-08-10 23:46:42,992 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41497 with exitCode 0
2020-08-10 23:46:42,992 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:42,992 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:42,993 - INFO  - [SyncThread-369-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:42,994 - INFO  - [SyncThread-369-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie17211094863301548874test/current/0.log for logId 0.
2020-08-10 23:46:42,995 - INFO  - [pool-251-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie17211094863301548874test/current/1.log for logId 1.
2020-08-10 23:46:43,002 - INFO  - [SyncThread-369-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096001006 , logFileOffset - 4096]}.
2020-08-10 23:46:43,005 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:43,006 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:43,006 - INFO  - [BookieJournal-41497:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:43,006 - INFO  - [BookieJournal-41497:Journal@1144] - Journal exited loop!
2020-08-10 23:46:43,007 - INFO  - [Bookie-41497:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:43,007 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:43,008 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:43,009 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:43,009 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:43,009 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:43,009 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:43,010 - WARN  - [GarbageCollectorThread-370-1:ScanAndCompareGarbageCollector@217] - Exception when iterating over the metadata
java.io.IOException: Error on getting children from node /ledgers/00/0000
	at org.apache.bookkeeper.util.ZkUtils.getChildrenInSingleNode(ZkUtils.java:270)
	at org.apache.bookkeeper.meta.LegacyHierarchicalLedgerManager$LegacyHierarchicalLedgerRangeIterator.getLedgerRangeByLevel(LegacyHierarchicalLedgerManager.java:269)
	at org.apache.bookkeeper.meta.LegacyHierarchicalLedgerManager$LegacyHierarchicalLedgerRangeIterator.preload(LegacyHierarchicalLedgerManager.java:225)
	at org.apache.bookkeeper.meta.LegacyHierarchicalLedgerManager$LegacyHierarchicalLedgerRangeIterator.hasNext(LegacyHierarchicalLedgerManager.java:237)
	at org.apache.bookkeeper.meta.HierarchicalLedgerManager$HierarchicalLedgerRangeIterator.hasNext(HierarchicalLedgerManager.java:109)
	at org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector.gc(ScanAndCompareGarbageCollector.java:159)
	at org.apache.bookkeeper.bookie.GarbageCollectorThread.doGcLedgers(GarbageCollectorThread.java:380)
	at org.apache.bookkeeper.bookie.GarbageCollectorThread.runWithFlags(GarbageCollectorThread.java:331)
	at org.apache.bookkeeper.bookie.GarbageCollectorThread.safeRun(GarbageCollectorThread.java:309)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:46:43,012 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:43,012 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:43,012 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:43,017 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41497
2020-08-10 23:46:43,120 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:43,120 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:43,121 - INFO  - [bookie-io-374-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xb9a92838, L:/127.0.0.1:40507 ! R:/127.0.0.1:33976]
2020-08-10 23:46:43,121 - WARN  - [bookkeeper-io-406-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x832defb4, L:/127.0.0.1:33976 - R:127.0.0.1/127.0.0.1:40507] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:43,125 - INFO  - [bookkeeper-io-406-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x832defb4, L:/127.0.0.1:33976 ! R:127.0.0.1/127.0.0.1:40507]
2020-08-10 23:46:43,128 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40507 with exitCode 0
2020-08-10 23:46:43,128 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:43,128 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:43,129 - INFO  - [SyncThread-379-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:43,130 - INFO  - [SyncThread-379-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7791156830284547852test/current/0.log for logId 0.
2020-08-10 23:46:43,137 - INFO  - [pool-258-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7791156830284547852test/current/1.log for logId 1.
2020-08-10 23:46:43,146 - INFO  - [SyncThread-379-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096001330 , logFileOffset - 4096]}.
2020-08-10 23:46:43,149 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:43,149 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:43,150 - INFO  - [BookieJournal-40507:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:43,150 - INFO  - [BookieJournal-40507:Journal@1144] - Journal exited loop!
2020-08-10 23:46:43,150 - INFO  - [Bookie-40507:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:43,150 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:43,151 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:43,151 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:43,151 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:43,151 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:43,151 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:43,153 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:43,153 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:43,153 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:43,158 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40507
2020-08-10 23:46:43,258 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:43,259 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:43,260 - INFO  - [bookie-io-384-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x64aaaeea, L:/127.0.0.1:45819 ! R:/127.0.0.1:59208]
2020-08-10 23:46:43,263 - WARN  - [bookkeeper-io-406-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x554673d0, L:/127.0.0.1:59208 - R:127.0.0.1/127.0.0.1:45819] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:46:43,264 - INFO  - [bookkeeper-io-406-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x554673d0, L:/127.0.0.1:59208 ! R:127.0.0.1/127.0.0.1:45819]
2020-08-10 23:46:43,266 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45819 with exitCode 0
2020-08-10 23:46:43,266 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:43,266 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:43,267 - INFO  - [SyncThread-389-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:43,268 - INFO  - [SyncThread-389-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2461663558623734308test/current/0.log for logId 0.
2020-08-10 23:46:43,270 - INFO  - [pool-265-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2461663558623734308test/current/1.log for logId 1.
2020-08-10 23:46:43,277 - INFO  - [SyncThread-389-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096001644 , logFileOffset - 3584]}.
2020-08-10 23:46:43,281 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:43,282 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:43,282 - INFO  - [BookieJournal-45819:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:43,282 - INFO  - [BookieJournal-45819:Journal@1144] - Journal exited loop!
2020-08-10 23:46:43,282 - INFO  - [Bookie-45819:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:43,282 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:43,283 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:43,283 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:43,283 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:43,283 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:43,284 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:43,286 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:43,286 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:43,286 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:43,292 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:45819
2020-08-10 23:46:43,336 - INFO  - [BookieDeathWatcher-40507:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:43,336 - INFO  - [BookieDeathWatcher-40507:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40507
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:43,337 - INFO  - [BookieDeathWatcher-40507:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:43,337 - INFO  - [BookieDeathWatcher-40507:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:43,392 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:43,393 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:43,400 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35801 with exitCode 0
2020-08-10 23:46:43,400 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:43,400 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:43,400 - INFO  - [SyncThread-399-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:43,404 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:43,405 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:43,405 - INFO  - [BookieJournal-35801:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:43,405 - INFO  - [BookieJournal-35801:Journal@1144] - Journal exited loop!
2020-08-10 23:46:43,406 - INFO  - [Bookie-35801:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:43,406 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:43,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:43,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:43,406 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:43,406 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:43,407 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:43,407 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:43,407 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:43,407 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:43,411 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:35801
2020-08-10 23:46:43,476 - INFO  - [BookieDeathWatcher-41497:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:43,476 - INFO  - [BookieDeathWatcher-41497:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41497
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:43,476 - INFO  - [BookieDeathWatcher-41497:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:43,477 - INFO  - [BookieDeathWatcher-41497:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:43,517 - ERROR - [bookkeeper-io-406-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x0b3b5d20, L:/127.0.0.1:49908]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,517 - ERROR - [bookkeeper-io-406-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x48b2412c, L:/127.0.0.1:33984]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,520 - ERROR - [bookkeeper-io-406-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x476d5d79, L:/127.0.0.1:59216]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,520 - ERROR - [bookkeeper-io-406-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x7a8b7140, L:/127.0.0.1:49914]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,521 - ERROR - [bookkeeper-io-406-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x2d2761f6, L:/127.0.0.1:33992]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,521 - ERROR - [bookkeeper-io-406-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xbe7bcaaa, L:/127.0.0.1:59220]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,522 - ERROR - [bookkeeper-io-406-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xe2c22408, L:/127.0.0.1:49920]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,523 - ERROR - [bookkeeper-io-406-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x3f28c0a9, L:/127.0.0.1:33996]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,523 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E1 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,523 - ERROR - [bookkeeper-io-406-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x1a027c2f, L:/127.0.0.1:49924]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,523 - ERROR - [bookkeeper-io-406-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xe455082c, L:/127.0.0.1:59230]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,523 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E0 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,524 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E2 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,524 - ERROR - [bookkeeper-io-406-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x6f1fe2bd, L:/127.0.0.1:34002]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,524 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E3 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,525 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E5 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,525 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E6 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,525 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E4 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,525 - ERROR - [bookkeeper-io-406-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x77a3909e, L:/127.0.0.1:34004]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,526 - ERROR - [bookkeeper-io-406-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x90183e81, L:/127.0.0.1:49934]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,525 - ERROR - [bookkeeper-io-406-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x7cab0d61, L:/127.0.0.1:59236]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,525 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E7 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,529 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E9 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,529 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E8 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,530 - ERROR - [bookkeeper-io-406-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x8dc51adf, L:/127.0.0.1:59240]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,530 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E1 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,530 - ERROR - [bookkeeper-io-406-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xcdb2f094, L:/127.0.0.1:34012]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,530 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp@632] - Read of ledger entry failed: L0 E0-E9, Sent to [127.0.0.1:45819, 127.0.0.1:40507, 127.0.0.1:41497], Heard from [] : bitset = {}, Error = 'Bookie handle is not available'. First unread entry is (0, rc = 0)
2020-08-10 23:46:43,530 - ERROR - [bookkeeper-io-406-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x63c142e9, L:/127.0.0.1:49940]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,531 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E0 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,531 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E3 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,531 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E6 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,531 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E2 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,532 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E5 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,532 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E4 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,532 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E7 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,532 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E9 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,532 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E8 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,534 - ERROR - [bookkeeper-io-406-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xe9b9cba1, L:/127.0.0.1:49942]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,535 - ERROR - [bookkeeper-io-406-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd5d6b6b6, L:/127.0.0.1:59250]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,534 - ERROR - [bookkeeper-io-406-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x67304183, L:/127.0.0.1:34018]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,538 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E0 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,538 - ERROR - [bookkeeper-io-406-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x192854ff, L:/127.0.0.1:59254]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,538 - ERROR - [bookkeeper-io-406-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x01618078, L:/127.0.0.1:34022]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,538 - ERROR - [bookkeeper-io-406-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xd5c990c0, L:/127.0.0.1:49952]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,542 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E2 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,542 - ERROR - [bookkeeper-io-406-3:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x478da25b, L:/127.0.0.1:34028]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,542 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E1 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,543 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E5 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,543 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E8 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,543 - ERROR - [bookkeeper-io-406-5:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x5fc4fb1a, L:/127.0.0.1:59262]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,543 - ERROR - [bookkeeper-io-406-4:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x802f9863, L:/127.0.0.1:49956]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,544 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E4 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,545 - ERROR - [bookkeeper-io-406-6:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xc94b943f, L:/127.0.0.1:49960]/127.0.0.1:41497, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:41497
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,545 - ERROR - [bookkeeper-io-406-7:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x115ed07b, L:/127.0.0.1:59266]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,545 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E7 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,546 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E3 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,546 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E6 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,546 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E9 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,546 - ERROR - [bookkeeper-io-406-8:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x2115a9e5, L:/127.0.0.1:59268]/127.0.0.1:45819, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:45819
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,546 - ERROR - [bookkeeper-io-406-1:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0x629f241c, L:/127.0.0.1:34040]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,547 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E0 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,547 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp@632] - Read of ledger entry failed: L0 E0-E9, Sent to [127.0.0.1:45819, 127.0.0.1:40507, 127.0.0.1:41497], Heard from [] : bitset = {}, Error = 'Bookie handle is not available'. First unread entry is (1, rc = 0)
2020-08-10 23:46:43,547 - ERROR - [bookkeeper-io-406-2:PerChannelBookieClient$ConnectionFutureListener@2464] - Could not connect to bookie: [id: 0xb5758b44, L:/127.0.0.1:34042]/127.0.0.1:40507, current state CONNECTING : 
io.netty.channel.AbstractChannel$AnnotatedConnectException: syscall:getsockopt(..) failed: Connection refused: /127.0.0.1:40507
	at io.netty.channel.unix.Socket.finishConnect(..)(Unknown Source)
Caused by: io.netty.channel.unix.Errors$NativeConnectException: syscall:getsockopt(..) failed: Connection refused
	... 1 more
2020-08-10 23:46:43,547 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E1 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E2 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E5 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E8 from bookie: 127.0.0.1:41497
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E4 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E3 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E6 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E7 from bookie: 127.0.0.1:45819
2020-08-10 23:46:43,548 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp$LedgerEntryRequest@213] - Error: Bookie handle is not available while reading L0 E9 from bookie: 127.0.0.1:40507
2020-08-10 23:46:43,656 - INFO  - [BookieDeathWatcher-45819:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:43,656 - INFO  - [BookieDeathWatcher-45819:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45819
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:43,657 - INFO  - [BookieDeathWatcher-45819:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:43,657 - INFO  - [BookieDeathWatcher-45819:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:44,476 - INFO  - [BookieDeathWatcher-35801:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:44,476 - INFO  - [BookieDeathWatcher-35801:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35801
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:44,477 - INFO  - [BookieDeathWatcher-35801:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:44,477 - INFO  - [BookieDeathWatcher-35801:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:44,548 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45819
2020-08-10 23:46:44,549 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40507
2020-08-10 23:46:44,549 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41497
2020-08-10 23:46:45,686 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:45,800 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadFailureCallback in 114 ms.
2020-08-10 23:46:45,801 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:45,821 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:45,829 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44017/ledgers : zkServers = localhost:44017, ledgersRootPath = /ledgers.
2020-08-10 23:46:45,835 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:45,837 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:45,838 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:45,838 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:45,838 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:45,845 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:45,846 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7721995032966861944test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44017/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7721995032966861944test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:45,851 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44017/ledgers : zkServers = localhost:44017, ledgersRootPath = /ledgers.
2020-08-10 23:46:45,854 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:45,856 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:45,861 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7721995032966861944test/current] [/tmp/bookie7721995032966861944test/current]
2020-08-10 23:46:45,870 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:45,871 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7721995032966861944test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:45,872 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:45,872 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:45,872 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:45,873 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:45,874 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:45,874 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:45,882 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46839 to become writable
2020-08-10 23:46:45,882 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:45,884 - INFO  - [SyncThread-421-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:45,887 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:45,888 - INFO  - [BookieJournal-46839:Journal@909] - Starting journal on /tmp/bookie7721995032966861944test/current
2020-08-10 23:46:45,892 - INFO  - [BookieJournal-46839:JournalChannel@157] - Opening journal /tmp/bookie7721995032966861944test/current/173da571105.txn
2020-08-10 23:46:45,892 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:45,897 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46839
2020-08-10 23:46:46,151 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46839' has been created.
2020-08-10 23:46:46,153 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:46,153 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6408696382020790509test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44017/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6408696382020790509test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:46,155 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44017/ledgers : zkServers = localhost:44017, ledgersRootPath = /ledgers.
2020-08-10 23:46:46,164 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:46,168 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:46,175 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6408696382020790509test/current] [/tmp/bookie6408696382020790509test/current]
2020-08-10 23:46:46,185 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:46,186 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6408696382020790509test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:46,186 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:46,187 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:46,187 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:46,188 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:46,188 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:46,189 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:46,204 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39843 to become writable
2020-08-10 23:46:46,204 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:46,207 - INFO  - [SyncThread-431-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:46,210 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:46,212 - INFO  - [BookieJournal-39843:Journal@909] - Starting journal on /tmp/bookie6408696382020790509test/current
2020-08-10 23:46:46,214 - INFO  - [BookieJournal-39843:JournalChannel@157] - Opening journal /tmp/bookie6408696382020790509test/current/173da571247.txn
2020-08-10 23:46:46,214 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:46,220 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39843
2020-08-10 23:46:46,469 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39843' has been created.
2020-08-10 23:46:46,471 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:46,472 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18069963093739940090test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44017/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18069963093739940090test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:46,474 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44017/ledgers : zkServers = localhost:44017, ledgersRootPath = /ledgers.
2020-08-10 23:46:46,479 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:46,492 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:46,503 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18069963093739940090test/current] [/tmp/bookie18069963093739940090test/current]
2020-08-10 23:46:46,512 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:46,514 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18069963093739940090test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:46,515 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:46,515 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:46,515 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:46,516 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:46,516 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:46,516 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:46,542 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37081 to become writable
2020-08-10 23:46:46,542 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:46,544 - INFO  - [SyncThread-441-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:46,549 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:46,552 - INFO  - [BookieJournal-37081:Journal@909] - Starting journal on /tmp/bookie18069963093739940090test/current
2020-08-10 23:46:46,553 - INFO  - [BookieJournal-37081:JournalChannel@157] - Opening journal /tmp/bookie18069963093739940090test/current/173da57139a.txn
2020-08-10 23:46:46,553 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:46,557 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37081
2020-08-10 23:46:46,808 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37081' has been created.
2020-08-10 23:46:46,809 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:46,809 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1037638824283766484test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44017/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1037638824283766484test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:46,813 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44017/ledgers : zkServers = localhost:44017, ledgersRootPath = /ledgers.
2020-08-10 23:46:46,817 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:46,821 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:46,826 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1037638824283766484test/current] [/tmp/bookie1037638824283766484test/current]
2020-08-10 23:46:46,836 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:46,838 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1037638824283766484test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:46,838 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:46,839 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:46,839 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:46,840 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:46,840 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:46,840 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:46,850 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39967 to become writable
2020-08-10 23:46:46,851 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:46,852 - INFO  - [SyncThread-451-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:46,856 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:46,859 - INFO  - [BookieJournal-39967:Journal@909] - Starting journal on /tmp/bookie1037638824283766484test/current
2020-08-10 23:46:46,860 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:46,860 - INFO  - [BookieJournal-39967:JournalChannel@157] - Opening journal /tmp/bookie1037638824283766484test/current/173da5714cd.txn
2020-08-10 23:46:46,865 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39967
2020-08-10 23:46:47,118 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39967' has been created.
2020-08-10 23:46:47,121 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testIsClosed @ metadata service zk://localhost:44017/ledgers in 1319 ms.
2020-08-10 23:46:47,124 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44017/ledgers : zkServers = localhost:44017, ledgersRootPath = /ledgers.
2020-08-10 23:46:47,129 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:47,132 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:47,132 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:47,132 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:47,132 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:47,135 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46839
2020-08-10 23:46:47,136 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37081
2020-08-10 23:46:47,136 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39967
2020-08-10 23:46:47,136 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39843
2020-08-10 23:46:47,138 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:39967, 127.0.0.1:39843, 127.0.0.1:37081] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:46:47,160 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:39967, 127.0.0.1:39843, 127.0.0.1:37081] for ledger: 0
2020-08-10 23:46:47,165 - INFO  - [bookkeeper-io-458-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x7f8073d7, L:/127.0.0.1:54316 - R:127.0.0.1/127.0.0.1:39967]
2020-08-10 23:46:47,165 - INFO  - [bookkeeper-io-458-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39967
2020-08-10 23:46:47,165 - INFO  - [bookkeeper-io-458-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xafbdb8ae, L:/127.0.0.1:47052 - R:127.0.0.1/127.0.0.1:39843]
2020-08-10 23:46:47,165 - INFO  - [bookkeeper-io-458-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39843
2020-08-10 23:46:47,165 - INFO  - [bookkeeper-io-458-1:PerChannelBookieClient$1@471] - connection [id: 0x7f8073d7, L:/127.0.0.1:54316 - R:127.0.0.1/127.0.0.1:39967] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:47,165 - INFO  - [bookkeeper-io-458-2:PerChannelBookieClient$1@471] - connection [id: 0xafbdb8ae, L:/127.0.0.1:47052 - R:127.0.0.1/127.0.0.1:39843] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:46:47,165 - INFO  - [bookie-io-446-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:47,166 - INFO  - [bookie-io-446-2:BookieRequestHandler@50] - Channel connected  [id: 0x99156018, L:/127.0.0.1:39967 - R:/127.0.0.1:54316]
2020-08-10 23:46:47,166 - INFO  - [bookie-io-426-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:46:47,168 - INFO  - [bookie-io-426-2:BookieRequestHandler@50] - Channel connected  [id: 0x1fa4594b, L:/127.0.0.1:39843 - R:/127.0.0.1:47052]
2020-08-10 23:46:47,183 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39967
2020-08-10 23:46:47,183 - INFO  - [bookkeeper-io-458-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x7f8073d7, L:/127.0.0.1:54316 ! R:127.0.0.1/127.0.0.1:39967]
2020-08-10 23:46:47,183 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39843
2020-08-10 23:46:47,184 - INFO  - [bookie-io-446-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x99156018, L:/127.0.0.1:39967 ! R:/127.0.0.1:54316]
2020-08-10 23:46:47,184 - INFO  - [bookkeeper-io-458-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xafbdb8ae, L:/127.0.0.1:47052 ! R:127.0.0.1/127.0.0.1:39843]
2020-08-10 23:46:47,184 - INFO  - [bookie-io-426-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x1fa4594b, L:/127.0.0.1:39843 ! R:/127.0.0.1:47052]
2020-08-10 23:46:47,291 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:47,398 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:47,398 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:47,403 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46839 with exitCode 0
2020-08-10 23:46:47,403 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:47,403 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:47,404 - INFO  - [SyncThread-421-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:47,407 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:47,410 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:47,410 - INFO  - [BookieJournal-46839:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:47,411 - INFO  - [BookieJournal-46839:Journal@1144] - Journal exited loop!
2020-08-10 23:46:47,411 - INFO  - [Bookie-46839:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:47,412 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:47,521 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:47,522 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:47,528 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39843 with exitCode 0
2020-08-10 23:46:47,528 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:47,528 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:47,528 - INFO  - [SyncThread-431-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:47,530 - INFO  - [SyncThread-431-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6408696382020790509test/current/0.log for logId 0.
2020-08-10 23:46:47,532 - INFO  - [pool-294-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6408696382020790509test/current/1.log for logId 1.
2020-08-10 23:46:47,539 - INFO  - [SyncThread-431-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096006215 , logFileOffset - 1024]}.
2020-08-10 23:46:47,543 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:47,543 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:47,544 - INFO  - [BookieJournal-39843:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:47,544 - INFO  - [BookieJournal-39843:Journal@1144] - Journal exited loop!
2020-08-10 23:46:47,544 - INFO  - [Bookie-39843:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:47,544 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:47,545 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:47,546 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:47,546 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:47,546 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:47,546 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:47,548 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:47,549 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:47,549 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:47,657 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:47,657 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:47,663 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37081 with exitCode 0
2020-08-10 23:46:47,663 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:47,663 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:47,663 - INFO  - [SyncThread-441-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:47,667 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:47,669 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:47,669 - INFO  - [BookieJournal-37081:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:47,669 - INFO  - [BookieJournal-37081:Journal@1144] - Journal exited loop!
2020-08-10 23:46:47,670 - INFO  - [Bookie-37081:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:47,670 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:47,670 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:47,670 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:47,670 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:47,670 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:47,670 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:47,671 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:47,671 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:47,671 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:47,777 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:47,777 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:47,782 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39967 with exitCode 0
2020-08-10 23:46:47,782 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:47,782 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:47,783 - INFO  - [SyncThread-451-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:46:47,783 - INFO  - [SyncThread-451-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1037638824283766484test/current/0.log for logId 0.
2020-08-10 23:46:47,786 - INFO  - [pool-308-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie1037638824283766484test/current/1.log for logId 1.
2020-08-10 23:46:47,793 - INFO  - [SyncThread-451-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096006861 , logFileOffset - 1024]}.
2020-08-10 23:46:47,797 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:47,797 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:47,797 - INFO  - [BookieJournal-39967:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:47,797 - INFO  - [BookieJournal-39967:Journal@1144] - Journal exited loop!
2020-08-10 23:46:47,797 - INFO  - [Bookie-39967:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:47,797 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:47,799 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:47,799 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:47,799 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:47,799 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:47,799 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:47,802 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:47,803 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:47,803 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:47,903 - INFO  - [BookieDeathWatcher-46839:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:47,904 - INFO  - [BookieDeathWatcher-46839:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46839
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:47,904 - INFO  - [BookieDeathWatcher-46839:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:47,904 - INFO  - [BookieDeathWatcher-46839:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:48,019 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testIsClosed in 727 ms.
2020-08-10 23:46:48,021 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:46:48,036 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:48,047 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44183/ledgers : zkServers = localhost:44183, ledgersRootPath = /ledgers.
2020-08-10 23:46:48,052 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:48,054 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:48,055 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:48,055 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:48,055 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:48,063 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:48,063 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1107475363587766251test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44183/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1107475363587766251test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:48,066 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44183/ledgers : zkServers = localhost:44183, ledgersRootPath = /ledgers.
2020-08-10 23:46:48,070 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:48,073 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:48,077 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1107475363587766251test/current] [/tmp/bookie1107475363587766251test/current]
2020-08-10 23:46:48,087 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:48,088 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1107475363587766251test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:48,089 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:48,089 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:48,090 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:48,091 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:48,092 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:48,092 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:48,108 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:34273 to become writable
2020-08-10 23:46:48,109 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:48,110 - INFO  - [SyncThread-473-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:48,114 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:48,117 - INFO  - [BookieJournal-34273:Journal@909] - Starting journal on /tmp/bookie1107475363587766251test/current
2020-08-10 23:46:48,117 - INFO  - [BookieJournal-34273:JournalChannel@157] - Opening journal /tmp/bookie1107475363587766251test/current/173da5719b6.txn
2020-08-10 23:46:48,118 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:48,123 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34273
2020-08-10 23:46:48,220 - INFO  - [BookieDeathWatcher-39843:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:48,220 - INFO  - [BookieDeathWatcher-39843:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39843
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:48,221 - INFO  - [BookieDeathWatcher-39843:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:48,221 - INFO  - [BookieDeathWatcher-39843:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:48,374 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34273' has been created.
2020-08-10 23:46:48,376 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:48,376 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8215719603566609945test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44183/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8215719603566609945test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:48,380 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44183/ledgers : zkServers = localhost:44183, ledgersRootPath = /ledgers.
2020-08-10 23:46:48,384 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:48,388 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:48,394 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8215719603566609945test/current] [/tmp/bookie8215719603566609945test/current]
2020-08-10 23:46:48,401 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:48,403 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8215719603566609945test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:48,403 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:48,404 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:48,404 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:48,405 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:48,405 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:48,405 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:48,415 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45875 to become writable
2020-08-10 23:46:48,416 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:48,417 - INFO  - [SyncThread-483-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:48,421 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:48,425 - INFO  - [BookieJournal-45875:Journal@909] - Starting journal on /tmp/bookie8215719603566609945test/current
2020-08-10 23:46:48,425 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:48,426 - INFO  - [BookieJournal-45875:JournalChannel@157] - Opening journal /tmp/bookie8215719603566609945test/current/173da571aeb.txn
2020-08-10 23:46:48,432 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45875
2020-08-10 23:46:48,558 - INFO  - [BookieDeathWatcher-37081:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:48,558 - INFO  - [BookieDeathWatcher-37081:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37081
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:48,558 - INFO  - [BookieDeathWatcher-37081:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:48,558 - INFO  - [BookieDeathWatcher-37081:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:48,682 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45875' has been created.
2020-08-10 23:46:48,684 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:48,684 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie17679594720966477183test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44183/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie17679594720966477183test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:48,687 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44183/ledgers : zkServers = localhost:44183, ledgersRootPath = /ledgers.
2020-08-10 23:46:48,691 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:48,694 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:48,701 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie17679594720966477183test/current] [/tmp/bookie17679594720966477183test/current]
2020-08-10 23:46:48,707 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:48,709 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie17679594720966477183test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:48,709 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:48,710 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:48,711 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:48,713 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:48,713 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:48,713 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:48,727 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43687 to become writable
2020-08-10 23:46:48,728 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:48,728 - INFO  - [SyncThread-493-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:48,732 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:48,739 - INFO  - [BookieJournal-43687:Journal@909] - Starting journal on /tmp/bookie17679594720966477183test/current
2020-08-10 23:46:48,740 - INFO  - [BookieJournal-43687:JournalChannel@157] - Opening journal /tmp/bookie17679594720966477183test/current/173da571c25.txn
2020-08-10 23:46:48,741 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:48,747 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43687
2020-08-10 23:46:48,871 - INFO  - [BookieDeathWatcher-39967:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:46:48,871 - INFO  - [BookieDeathWatcher-39967:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39967
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:46:48,872 - INFO  - [BookieDeathWatcher-39967:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:48,872 - INFO  - [BookieDeathWatcher-39967:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:48,997 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43687' has been created.
2020-08-10 23:46:49,000 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:46:49,000 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1274437130589415006test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:44183/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1274437130589415006test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:46:49,004 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:44183/ledgers : zkServers = localhost:44183, ledgersRootPath = /ledgers.
2020-08-10 23:46:49,010 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:49,015 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:46:49,021 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1274437130589415006test/current] [/tmp/bookie1274437130589415006test/current]
2020-08-10 23:46:49,032 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:46:49,033 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1274437130589415006test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:46:49,034 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:46:49,034 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:46:49,034 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:46:49,036 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:46:49,037 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:46:49,037 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:46:49,048 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45195 to become writable
2020-08-10 23:46:49,051 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:46:49,056 - INFO  - [SyncThread-503-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:49,059 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:46:49,061 - INFO  - [BookieJournal-45195:Journal@909] - Starting journal on /tmp/bookie1274437130589415006test/current
2020-08-10 23:46:49,062 - INFO  - [BookieJournal-45195:JournalChannel@157] - Opening journal /tmp/bookie1274437130589415006test/current/173da571d67.txn
2020-08-10 23:46:49,063 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:46:49,067 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45195
2020-08-10 23:46:49,318 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45195' has been created.
2020-08-10 23:46:49,320 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testZKConnectionLossForLedgerCreation @ metadata service zk://localhost:44183/ledgers in 1298 ms.
2020-08-10 23:46:49,328 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:49,330 - INFO  - [Time-limited test:ZKMetadataDriverBase@163] - Initialize zookeeper metadata driver with external zookeeper client : ledgersRootPath = /ledgers.
2020-08-10 23:46:49,332 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:46:49,332 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:46:49,332 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:46:49,332 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:46:49,335 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34273
2020-08-10 23:46:49,336 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45195
2020-08-10 23:46:49,336 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43687
2020-08-10 23:46:49,336 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45875
2020-08-10 23:46:49,352 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:43687] for ledger: 567
2020-08-10 23:46:49,353 - INFO  - [Time-limited test:BookKeeper@1077] - Ensemble: [127.0.0.1:43687] for ledger: 567
2020-08-10 23:46:49,356 - ERROR - [Time-limited test:ZooKeeperWatcherBase@139] - ZooKeeper client connection to the ZooKeeper server has expired!
2020-08-10 23:46:49,357 - INFO  - [Time-limited test:ZooKeeperClient@354] - ZooKeeper session 100014e5bac0006 is expired from localhost:44183.
2020-08-10 23:46:49,358 - INFO  - [ZKC-connect-executor-0:ZooKeeperClient$1$1@118] - Reconnecting zookeeper localhost:44183.
2020-08-10 23:46:49,468 - INFO  - [ZKC-connect-executor-0-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:46:49,469 - INFO  - [ZKC-connect-executor-0:ZooKeeperClient$1$1@130] - ZooKeeper session 100014e5bac0007 is created to localhost:44183.
2020-08-10 23:46:59,685 - INFO  - [ZKC-connect-executor-0-EventThread:AbstractZkLedgerManager$1@273] - Ledger metadata for 568 appears to already exist, checking cToken
2020-08-10 23:46:59,688 - INFO  - [ZKC-connect-executor-0-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:45195] for ledger: 568
2020-08-10 23:46:59,688 - INFO  - [Time-limited test:BookKeeper@1077] - Ensemble: [127.0.0.1:45195] for ledger: 568
2020-08-10 23:46:59,696 - INFO  - [ZKC-connect-executor-0-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:45875] for ledger: 569
2020-08-10 23:46:59,697 - INFO  - [Time-limited test:BookKeeper@1077] - Ensemble: [127.0.0.1:45875] for ledger: 569
2020-08-10 23:46:59,703 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:46:59,809 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:59,809 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:59,813 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34273 with exitCode 0
2020-08-10 23:46:59,813 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:59,813 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:59,813 - INFO  - [SyncThread-473-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:59,818 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:59,819 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:59,819 - INFO  - [BookieJournal-34273:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:59,819 - INFO  - [BookieJournal-34273:Journal@1144] - Journal exited loop!
2020-08-10 23:46:59,819 - INFO  - [Bookie-34273:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:59,819 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:59,820 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:46:59,926 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:46:59,926 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:46:59,932 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45875 with exitCode 0
2020-08-10 23:46:59,933 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:46:59,933 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:46:59,933 - INFO  - [SyncThread-483-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:46:59,944 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:46:59,944 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:46:59,945 - INFO  - [BookieJournal-45875:Journal@1135] - Journal exits when shutting down
2020-08-10 23:46:59,945 - INFO  - [BookieJournal-45875:Journal@1144] - Journal exited loop!
2020-08-10 23:46:59,945 - INFO  - [Bookie-45875:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:46:59,945 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:46:59,945 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:46:59,946 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:00,052 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:00,052 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:00,062 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43687 with exitCode 0
2020-08-10 23:47:00,063 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:00,063 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:00,064 - INFO  - [SyncThread-493-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:00,068 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:00,068 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:00,068 - INFO  - [BookieJournal-43687:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:00,068 - INFO  - [BookieJournal-43687:Journal@1144] - Journal exited loop!
2020-08-10 23:47:00,068 - INFO  - [Bookie-43687:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:00,069 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:00,132 - INFO  - [BookieDeathWatcher-34273:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:00,132 - INFO  - [BookieDeathWatcher-34273:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34273
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:00,132 - INFO  - [BookieDeathWatcher-34273:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:00,132 - INFO  - [BookieDeathWatcher-34273:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:00,173 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:00,173 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:00,178 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45195 with exitCode 0
2020-08-10 23:47:00,179 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:00,179 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:00,179 - INFO  - [SyncThread-503-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:00,183 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:00,183 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:00,183 - INFO  - [BookieJournal-45195:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:00,183 - INFO  - [BookieJournal-45195:Journal@1144] - Journal exited loop!
2020-08-10 23:47:00,183 - INFO  - [Bookie-45195:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:00,183 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:00,184 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:00,184 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:00,184 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:00,184 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:00,184 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:00,184 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:00,185 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:00,185 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:00,402 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testZKConnectionLossForLedgerCreation in 698 ms.
2020-08-10 23:47:00,403 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:00,417 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:00,424 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33653/ledgers : zkServers = localhost:33653, ledgersRootPath = /ledgers.
2020-08-10 23:47:00,429 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:00,431 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:00,432 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:00,432 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:00,432 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:00,441 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:00,442 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15856199758645415811test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33653/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15856199758645415811test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:00,442 - INFO  - [BookieDeathWatcher-45875:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:00,442 - INFO  - [BookieDeathWatcher-45875:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45875
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:00,442 - INFO  - [BookieDeathWatcher-45875:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:00,442 - INFO  - [BookieDeathWatcher-45875:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:00,444 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33653/ledgers : zkServers = localhost:33653, ledgersRootPath = /ledgers.
2020-08-10 23:47:00,448 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:00,451 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:00,455 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15856199758645415811test/current] [/tmp/bookie15856199758645415811test/current]
2020-08-10 23:47:00,468 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:00,470 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15856199758645415811test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:00,470 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:00,471 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:00,471 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:00,472 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:00,472 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:00,473 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:00,480 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38113 to become writable
2020-08-10 23:47:00,482 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:47:00,482 - INFO  - [SyncThread-525-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:00,486 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:00,490 - INFO  - [BookieJournal-38113:Journal@909] - Starting journal on /tmp/bookie15856199758645415811test/current
2020-08-10 23:47:00,491 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:00,491 - INFO  - [BookieJournal-38113:JournalChannel@157] - Opening journal /tmp/bookie15856199758645415811test/current/173da574a0c.txn
2020-08-10 23:47:00,496 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38113
2020-08-10 23:47:00,497 - INFO  - [ZKC-connect-executor-0-EventThread:ZooKeeperWatcherBase@134] - ZooKeeper client is disconnected from zookeeper now, but it is OK unless we received EXPIRED event.
2020-08-10 23:47:00,746 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38113' has been created.
2020-08-10 23:47:00,749 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:00,750 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2143068745570661940test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33653/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2143068745570661940test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:00,752 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33653/ledgers : zkServers = localhost:33653, ledgersRootPath = /ledgers.
2020-08-10 23:47:00,756 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:00,757 - INFO  - [BookieDeathWatcher-43687:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:00,757 - INFO  - [BookieDeathWatcher-43687:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43687
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:00,757 - INFO  - [BookieDeathWatcher-43687:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:00,757 - INFO  - [BookieDeathWatcher-43687:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:00,759 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:00,764 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2143068745570661940test/current] [/tmp/bookie2143068745570661940test/current]
2020-08-10 23:47:00,771 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:00,773 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2143068745570661940test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:00,773 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:00,774 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:00,774 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:00,775 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:00,775 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:00,775 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:00,784 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:46027 to become writable
2020-08-10 23:47:00,785 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:00,786 - INFO  - [SyncThread-535-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:00,790 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:00,792 - INFO  - [BookieJournal-46027:Journal@909] - Starting journal on /tmp/bookie2143068745570661940test/current
2020-08-10 23:47:00,793 - INFO  - [BookieJournal-46027:JournalChannel@157] - Opening journal /tmp/bookie2143068745570661940test/current/173da574b3a.txn
2020-08-10 23:47:00,794 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:00,800 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46027
2020-08-10 23:47:01,050 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:46027' has been created.
2020-08-10 23:47:01,057 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:01,057 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18264612938293022060test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33653/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18264612938293022060test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:01,061 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33653/ledgers : zkServers = localhost:33653, ledgersRootPath = /ledgers.
2020-08-10 23:47:01,064 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:01,066 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:01,069 - INFO  - [BookieDeathWatcher-45195:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:01,069 - INFO  - [BookieDeathWatcher-45195:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45195
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:01,070 - INFO  - [BookieDeathWatcher-45195:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:01,070 - INFO  - [BookieDeathWatcher-45195:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:01,072 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18264612938293022060test/current] [/tmp/bookie18264612938293022060test/current]
2020-08-10 23:47:01,079 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:01,081 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18264612938293022060test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:01,081 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:01,082 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:01,082 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:01,083 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:01,084 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:01,084 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:01,099 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33675 to become writable
2020-08-10 23:47:01,100 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:01,100 - INFO  - [SyncThread-545-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:01,104 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:01,105 - INFO  - [BookieJournal-33675:Journal@909] - Starting journal on /tmp/bookie18264612938293022060test/current
2020-08-10 23:47:01,105 - INFO  - [BookieJournal-33675:JournalChannel@157] - Opening journal /tmp/bookie18264612938293022060test/current/173da574c72.txn
2020-08-10 23:47:01,105 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:01,112 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33675
2020-08-10 23:47:01,361 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33675' has been created.
2020-08-10 23:47:01,363 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:01,364 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie5210518153964909558test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33653/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie5210518153964909558test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:01,366 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33653/ledgers : zkServers = localhost:33653, ledgersRootPath = /ledgers.
2020-08-10 23:47:01,372 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:01,374 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:01,379 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie5210518153964909558test/current] [/tmp/bookie5210518153964909558test/current]
2020-08-10 23:47:01,387 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:01,396 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie5210518153964909558test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:01,396 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:01,396 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:01,397 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:01,398 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:01,398 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:01,398 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:01,412 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41949 to become writable
2020-08-10 23:47:01,413 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:01,413 - INFO  - [SyncThread-555-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:01,417 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:01,418 - INFO  - [BookieJournal-41949:Journal@909] - Starting journal on /tmp/bookie5210518153964909558test/current
2020-08-10 23:47:01,418 - INFO  - [BookieJournal-41949:JournalChannel@157] - Opening journal /tmp/bookie5210518153964909558test/current/173da574dab.txn
2020-08-10 23:47:01,419 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:01,440 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41949
2020-08-10 23:47:01,673 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41949' has been created.
2020-08-10 23:47:01,675 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testLedgerDeletionIdempotency @ metadata service zk://localhost:33653/ledgers in 1272 ms.
2020-08-10 23:47:01,678 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33653/ledgers : zkServers = localhost:33653, ledgersRootPath = /ledgers.
2020-08-10 23:47:01,682 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:01,685 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:01,685 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:01,686 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:01,686 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:01,689 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:46027
2020-08-10 23:47:01,689 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38113
2020-08-10 23:47:01,689 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33675
2020-08-10 23:47:01,689 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41949
2020-08-10 23:47:01,704 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:46027] for ledger: 789
2020-08-10 23:47:01,704 - INFO  - [Time-limited test:BookKeeper@1077] - Ensemble: [127.0.0.1:46027] for ledger: 789
2020-08-10 23:47:01,724 - WARN  - [Time-limited test-EventThread:AbstractZkLedgerManager$2@350] - Ledger node does not exist in ZooKeeper: ledgerId=789.  Returning success.
2020-08-10 23:47:01,833 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:01,941 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:01,942 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:01,945 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38113 with exitCode 0
2020-08-10 23:47:01,945 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:01,945 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:01,946 - INFO  - [SyncThread-525-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:01,949 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:01,950 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:01,950 - INFO  - [BookieJournal-38113:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:01,950 - INFO  - [BookieJournal-38113:Journal@1144] - Journal exited loop!
2020-08-10 23:47:01,950 - INFO  - [Bookie-38113:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:01,950 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:01,951 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:02,059 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:02,060 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:02,065 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-46027 with exitCode 0
2020-08-10 23:47:02,066 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:02,066 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:02,066 - INFO  - [SyncThread-535-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:02,070 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:02,071 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:02,071 - INFO  - [BookieJournal-46027:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:02,071 - INFO  - [BookieJournal-46027:Journal@1144] - Journal exited loop!
2020-08-10 23:47:02,071 - INFO  - [Bookie-46027:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:02,071 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:02,072 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:02,178 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:02,179 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:02,185 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33675 with exitCode 0
2020-08-10 23:47:02,185 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:02,186 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:02,186 - INFO  - [SyncThread-545-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:02,189 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:02,190 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:02,190 - INFO  - [BookieJournal-33675:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:02,190 - INFO  - [BookieJournal-33675:Journal@1144] - Journal exited loop!
2020-08-10 23:47:02,190 - INFO  - [Bookie-33675:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:02,190 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:02,190 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:02,190 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:02,190 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:02,191 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:02,191 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:02,191 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:02,191 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:02,191 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:02,300 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:02,300 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:02,304 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41949 with exitCode 0
2020-08-10 23:47:02,305 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:02,305 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:02,305 - INFO  - [SyncThread-555-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:02,309 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:02,310 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:02,310 - INFO  - [BookieJournal-41949:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:02,310 - INFO  - [BookieJournal-41949:Journal@1144] - Journal exited loop!
2020-08-10 23:47:02,310 - INFO  - [Bookie-41949:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:02,310 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:02,311 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:02,426 - INFO  - [BookieDeathWatcher-41949:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:02,427 - INFO  - [BookieDeathWatcher-41949:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41949
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:02,427 - INFO  - [BookieDeathWatcher-41949:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:02,427 - INFO  - [BookieDeathWatcher-41949:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:02,502 - INFO  - [BookieDeathWatcher-38113:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:02,502 - INFO  - [BookieDeathWatcher-38113:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38113
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:02,504 - INFO  - [BookieDeathWatcher-38113:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:02,504 - INFO  - [BookieDeathWatcher-38113:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:02,526 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testLedgerDeletionIdempotency in 693 ms.
2020-08-10 23:47:02,528 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:02,540 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:02,547 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33207/ledgers : zkServers = localhost:33207, ledgersRootPath = /ledgers.
2020-08-10 23:47:02,554 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:02,555 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:02,556 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:02,556 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:02,556 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:02,565 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:02,566 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie8240818854868161498test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33207/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie8240818854868161498test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:02,568 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33207/ledgers : zkServers = localhost:33207, ledgersRootPath = /ledgers.
2020-08-10 23:47:02,573 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:02,577 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:02,582 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie8240818854868161498test/current] [/tmp/bookie8240818854868161498test/current]
2020-08-10 23:47:02,594 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:02,596 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie8240818854868161498test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:02,597 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:02,597 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:02,597 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:02,598 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:02,598 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:02,598 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:02,606 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35707 to become writable
2020-08-10 23:47:02,608 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:02,609 - INFO  - [SyncThread-577-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:02,612 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:02,613 - INFO  - [BookieJournal-35707:Journal@909] - Starting journal on /tmp/bookie8240818854868161498test/current
2020-08-10 23:47:02,614 - INFO  - [BookieJournal-35707:JournalChannel@157] - Opening journal /tmp/bookie8240818854868161498test/current/173da575257.txn
2020-08-10 23:47:02,614 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:02,619 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35707
2020-08-10 23:47:02,802 - INFO  - [BookieDeathWatcher-46027:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:02,802 - INFO  - [BookieDeathWatcher-46027:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46027
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:02,803 - INFO  - [BookieDeathWatcher-46027:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:02,803 - INFO  - [BookieDeathWatcher-46027:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:02,871 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35707' has been created.
2020-08-10 23:47:02,872 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:02,873 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie17997359736433439037test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33207/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie17997359736433439037test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:02,875 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33207/ledgers : zkServers = localhost:33207, ledgersRootPath = /ledgers.
2020-08-10 23:47:02,879 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:02,881 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:02,887 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie17997359736433439037test/current] [/tmp/bookie17997359736433439037test/current]
2020-08-10 23:47:02,901 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:02,903 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie17997359736433439037test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:02,903 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:02,903 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:02,904 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:02,905 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:02,905 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:02,905 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:02,921 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39079 to become writable
2020-08-10 23:47:02,921 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:02,922 - INFO  - [SyncThread-587-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:02,925 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:02,926 - INFO  - [BookieJournal-39079:Journal@909] - Starting journal on /tmp/bookie17997359736433439037test/current
2020-08-10 23:47:02,926 - INFO  - [BookieJournal-39079:JournalChannel@157] - Opening journal /tmp/bookie17997359736433439037test/current/173da57538f.txn
2020-08-10 23:47:02,927 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:02,935 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39079
2020-08-10 23:47:03,112 - INFO  - [BookieDeathWatcher-33675:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:03,113 - INFO  - [BookieDeathWatcher-33675:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33675
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:03,113 - INFO  - [BookieDeathWatcher-33675:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:03,113 - INFO  - [BookieDeathWatcher-33675:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:03,185 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39079' has been created.
2020-08-10 23:47:03,186 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:03,186 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11662856908088294922test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33207/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11662856908088294922test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:03,188 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33207/ledgers : zkServers = localhost:33207, ledgersRootPath = /ledgers.
2020-08-10 23:47:03,193 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:03,196 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:03,202 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11662856908088294922test/current] [/tmp/bookie11662856908088294922test/current]
2020-08-10 23:47:03,215 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:03,217 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11662856908088294922test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:03,218 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:03,218 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:03,218 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:03,219 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:03,220 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:03,220 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:03,242 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36635 to become writable
2020-08-10 23:47:03,242 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:03,243 - INFO  - [SyncThread-597-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:03,247 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:03,248 - INFO  - [BookieJournal-36635:Journal@909] - Starting journal on /tmp/bookie11662856908088294922test/current
2020-08-10 23:47:03,254 - INFO  - [BookieJournal-36635:JournalChannel@157] - Opening journal /tmp/bookie11662856908088294922test/current/173da5754d7.txn
2020-08-10 23:47:03,254 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:03,261 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36635
2020-08-10 23:47:03,510 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36635' has been created.
2020-08-10 23:47:03,512 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:03,512 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie4529239651949158603test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:33207/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie4529239651949158603test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:03,515 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:33207/ledgers : zkServers = localhost:33207, ledgersRootPath = /ledgers.
2020-08-10 23:47:03,518 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:03,521 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:03,531 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie4529239651949158603test/current] [/tmp/bookie4529239651949158603test/current]
2020-08-10 23:47:03,538 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:03,539 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie4529239651949158603test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:03,539 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:03,540 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:03,540 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:03,541 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:03,542 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:03,542 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:03,553 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45801 to become writable
2020-08-10 23:47:03,553 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:03,554 - INFO  - [SyncThread-607-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:03,557 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:03,558 - INFO  - [BookieJournal-45801:Journal@909] - Starting journal on /tmp/bookie4529239651949158603test/current
2020-08-10 23:47:03,558 - INFO  - [BookieJournal-45801:JournalChannel@157] - Opening journal /tmp/bookie4529239651949158603test/current/173da575607.txn
2020-08-10 23:47:03,559 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:03,565 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45801
2020-08-10 23:47:03,815 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45801' has been created.
2020-08-10 23:47:03,816 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testDoubleRead @ metadata service zk://localhost:33207/ledgers in 1287 ms.
2020-08-10 23:47:03,816 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:39079, 127.0.0.1:35707, 127.0.0.1:36635] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:03,837 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:39079, 127.0.0.1:35707, 127.0.0.1:36635] for ledger: 0
2020-08-10 23:47:03,841 - INFO  - [bookkeeper-io-568-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x041e369c, L:/127.0.0.1:60838 - R:127.0.0.1/127.0.0.1:35707]
2020-08-10 23:47:03,842 - INFO  - [bookkeeper-io-568-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:35707
2020-08-10 23:47:03,842 - INFO  - [bookkeeper-io-568-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x2a3f3610, L:/127.0.0.1:52114 - R:127.0.0.1/127.0.0.1:39079]
2020-08-10 23:47:03,842 - INFO  - [bookkeeper-io-568-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39079
2020-08-10 23:47:03,842 - INFO  - [bookie-io-582-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:03,843 - INFO  - [bookkeeper-io-568-1:PerChannelBookieClient$1@471] - connection [id: 0x2a3f3610, L:/127.0.0.1:52114 - R:127.0.0.1/127.0.0.1:39079] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:03,842 - INFO  - [bookkeeper-io-568-2:PerChannelBookieClient$1@471] - connection [id: 0x041e369c, L:/127.0.0.1:60838 - R:127.0.0.1/127.0.0.1:35707] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:03,843 - INFO  - [bookie-io-582-2:BookieRequestHandler@50] - Channel connected  [id: 0x24a8486f, L:/127.0.0.1:39079 - R:/127.0.0.1:52114]
2020-08-10 23:47:03,843 - INFO  - [bookie-io-572-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:03,844 - INFO  - [bookie-io-572-2:BookieRequestHandler@50] - Channel connected  [id: 0x3ab3d8da, L:/127.0.0.1:35707 - R:/127.0.0.1:60838]
2020-08-10 23:47:03,860 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:03,860 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39079
2020-08-10 23:47:03,861 - INFO  - [bookkeeper-io-568-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x2a3f3610, L:/127.0.0.1:52114 ! R:127.0.0.1/127.0.0.1:39079]
2020-08-10 23:47:03,861 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:35707
2020-08-10 23:47:03,861 - INFO  - [bookie-io-582-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x24a8486f, L:/127.0.0.1:39079 ! R:/127.0.0.1:52114]
2020-08-10 23:47:03,862 - INFO  - [bookkeeper-io-568-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x041e369c, L:/127.0.0.1:60838 ! R:127.0.0.1/127.0.0.1:35707]
2020-08-10 23:47:03,862 - INFO  - [bookie-io-572-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x3ab3d8da, L:/127.0.0.1:35707 ! R:/127.0.0.1:60838]
2020-08-10 23:47:03,969 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:03,969 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:03,972 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35707 with exitCode 0
2020-08-10 23:47:03,972 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:03,972 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:03,972 - INFO  - [SyncThread-577-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:03,973 - INFO  - [SyncThread-577-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8240818854868161498test/current/0.log for logId 0.
2020-08-10 23:47:03,975 - INFO  - [pool-395-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie8240818854868161498test/current/1.log for logId 1.
2020-08-10 23:47:03,992 - INFO  - [SyncThread-577-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096022615 , logFileOffset - 1024]}.
2020-08-10 23:47:03,995 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:03,996 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:03,996 - INFO  - [BookieJournal-35707:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:03,996 - INFO  - [BookieJournal-35707:Journal@1144] - Journal exited loop!
2020-08-10 23:47:03,996 - INFO  - [Bookie-35707:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:03,997 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:03,997 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:03,997 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:03,997 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:03,997 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:03,997 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:03,999 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:04,000 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:04,000 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:04,108 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:04,109 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:04,112 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39079 with exitCode 0
2020-08-10 23:47:04,112 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:04,112 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:04,113 - INFO  - [SyncThread-587-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:04,115 - INFO  - [SyncThread-587-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie17997359736433439037test/current/0.log for logId 0.
2020-08-10 23:47:04,118 - INFO  - [pool-402-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie17997359736433439037test/current/1.log for logId 1.
2020-08-10 23:47:04,133 - INFO  - [SyncThread-587-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096022927 , logFileOffset - 1024]}.
2020-08-10 23:47:04,136 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:04,137 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:04,137 - INFO  - [BookieJournal-39079:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:04,138 - INFO  - [BookieJournal-39079:Journal@1144] - Journal exited loop!
2020-08-10 23:47:04,138 - INFO  - [Bookie-39079:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:04,138 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:04,139 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:04,139 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:04,139 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:04,140 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:04,140 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:04,144 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:04,145 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:04,145 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:04,249 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:04,250 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:04,261 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36635 with exitCode 0
2020-08-10 23:47:04,261 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:04,261 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:04,262 - INFO  - [SyncThread-597-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:04,265 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:04,265 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:04,265 - INFO  - [BookieJournal-36635:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:04,266 - INFO  - [BookieJournal-36635:Journal@1144] - Journal exited loop!
2020-08-10 23:47:04,266 - INFO  - [Bookie-36635:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:04,266 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:04,266 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:04,266 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:04,266 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:04,266 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:04,267 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:04,267 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:04,267 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:04,267 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:04,372 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:04,372 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:04,376 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45801 with exitCode 0
2020-08-10 23:47:04,376 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:04,376 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:04,377 - INFO  - [SyncThread-607-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:04,381 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:04,381 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:04,381 - INFO  - [BookieJournal-45801:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:04,381 - INFO  - [BookieJournal-45801:Journal@1144] - Journal exited loop!
2020-08-10 23:47:04,381 - INFO  - [Bookie-45801:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:04,382 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:04,565 - INFO  - [BookieDeathWatcher-45801:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:04,565 - INFO  - [BookieDeathWatcher-45801:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45801
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:04,565 - INFO  - [BookieDeathWatcher-45801:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:04,565 - INFO  - [BookieDeathWatcher-45801:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:04,599 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testDoubleRead in 738 ms.
2020-08-10 23:47:04,601 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:04,612 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:04,619 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:39969/ledgers : zkServers = localhost:39969, ledgersRootPath = /ledgers.
2020-08-10 23:47:04,620 - INFO  - [BookieDeathWatcher-35707:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:04,620 - INFO  - [BookieDeathWatcher-35707:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35707
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:04,620 - INFO  - [BookieDeathWatcher-35707:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:04,620 - INFO  - [BookieDeathWatcher-35707:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:04,624 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:04,627 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:04,627 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:04,627 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:04,627 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:04,632 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:04,633 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16086283067473843898test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:39969/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16086283067473843898test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:04,635 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:39969/ledgers : zkServers = localhost:39969, ledgersRootPath = /ledgers.
2020-08-10 23:47:04,640 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:04,642 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:04,647 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16086283067473843898test/current] [/tmp/bookie16086283067473843898test/current]
2020-08-10 23:47:04,657 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:04,659 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16086283067473843898test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:04,659 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:04,659 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:04,659 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:04,660 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:04,660 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:04,661 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:04,671 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43293 to become writable
2020-08-10 23:47:04,671 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:04,672 - INFO  - [SyncThread-623-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:04,675 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:04,676 - INFO  - [BookieJournal-43293:Journal@909] - Starting journal on /tmp/bookie16086283067473843898test/current
2020-08-10 23:47:04,677 - INFO  - [BookieJournal-43293:JournalChannel@157] - Opening journal /tmp/bookie16086283067473843898test/current/173da575a66.txn
2020-08-10 23:47:04,677 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:04,683 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43293
2020-08-10 23:47:04,934 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43293' has been created.
2020-08-10 23:47:04,935 - INFO  - [BookieDeathWatcher-39079:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:04,935 - INFO  - [BookieDeathWatcher-39079:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39079
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:04,935 - INFO  - [BookieDeathWatcher-39079:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:04,935 - INFO  - [BookieDeathWatcher-39079:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:04,936 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:04,936 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6457423100728808654test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:39969/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6457423100728808654test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:04,947 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:39969/ledgers : zkServers = localhost:39969, ledgersRootPath = /ledgers.
2020-08-10 23:47:04,951 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:04,957 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:04,962 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6457423100728808654test/current] [/tmp/bookie6457423100728808654test/current]
2020-08-10 23:47:04,969 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:04,970 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6457423100728808654test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:04,970 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:04,970 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:04,971 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:04,971 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:04,971 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:04,972 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:04,985 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45597 to become writable
2020-08-10 23:47:04,986 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:47:04,986 - INFO  - [SyncThread-633-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:04,990 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:04,991 - INFO  - [BookieJournal-45597:Journal@909] - Starting journal on /tmp/bookie6457423100728808654test/current
2020-08-10 23:47:04,991 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:04,992 - INFO  - [BookieJournal-45597:JournalChannel@157] - Opening journal /tmp/bookie6457423100728808654test/current/173da575ba1.txn
2020-08-10 23:47:05,001 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45597
2020-08-10 23:47:05,255 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45597' has been created.
2020-08-10 23:47:05,256 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:05,256 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7361480968248867041test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:39969/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7361480968248867041test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:05,259 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:39969/ledgers : zkServers = localhost:39969, ledgersRootPath = /ledgers.
2020-08-10 23:47:05,260 - INFO  - [BookieDeathWatcher-36635:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:05,260 - INFO  - [BookieDeathWatcher-36635:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36635
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:05,260 - INFO  - [BookieDeathWatcher-36635:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:05,260 - INFO  - [BookieDeathWatcher-36635:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:05,264 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:05,266 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:05,272 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7361480968248867041test/current] [/tmp/bookie7361480968248867041test/current]
2020-08-10 23:47:05,277 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:05,278 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7361480968248867041test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:05,279 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:05,279 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:05,279 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:05,280 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:05,280 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:05,280 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:05,293 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:33549 to become writable
2020-08-10 23:47:05,293 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:05,294 - INFO  - [SyncThread-643-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:05,298 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:05,300 - INFO  - [BookieJournal-33549:Journal@909] - Starting journal on /tmp/bookie7361480968248867041test/current
2020-08-10 23:47:05,300 - INFO  - [BookieJournal-33549:JournalChannel@157] - Opening journal /tmp/bookie7361480968248867041test/current/173da575cd5.txn
2020-08-10 23:47:05,301 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:05,306 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33549
2020-08-10 23:47:05,557 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33549' has been created.
2020-08-10 23:47:05,558 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:05,559 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1241790399653532784test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:39969/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1241790399653532784test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:05,562 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:39969/ledgers : zkServers = localhost:39969, ledgersRootPath = /ledgers.
2020-08-10 23:47:05,567 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:05,576 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:05,582 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1241790399653532784test/current] [/tmp/bookie1241790399653532784test/current]
2020-08-10 23:47:05,588 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:05,590 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1241790399653532784test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:05,590 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:05,590 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:05,591 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:05,592 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:05,593 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:05,593 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:05,602 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37585 to become writable
2020-08-10 23:47:05,603 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:05,604 - INFO  - [SyncThread-653-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:05,608 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:05,609 - INFO  - [BookieJournal-37585:Journal@909] - Starting journal on /tmp/bookie1241790399653532784test/current
2020-08-10 23:47:05,609 - INFO  - [BookieJournal-37585:JournalChannel@157] - Opening journal /tmp/bookie1241790399653532784test/current/173da575e0a.txn
2020-08-10 23:47:05,610 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:05,615 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37585
2020-08-10 23:47:05,865 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37585' has been created.
2020-08-10 23:47:05,865 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testBookkeeperDigestPasswordWithAutoDetection @ metadata service zk://localhost:39969/ledgers in 1264 ms.
2020-08-10 23:47:05,868 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:39969/ledgers : zkServers = localhost:39969, ledgersRootPath = /ledgers.
2020-08-10 23:47:05,872 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:05,875 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:05,875 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:05,875 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:05,875 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:05,877 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37585
2020-08-10 23:47:05,877 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43293
2020-08-10 23:47:05,877 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45597
2020-08-10 23:47:05,877 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33549
2020-08-10 23:47:05,878 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:33549, 127.0.0.1:45597, 127.0.0.1:43293] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:05,900 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:33549, 127.0.0.1:45597, 127.0.0.1:43293] for ledger: 0
2020-08-10 23:47:05,906 - INFO  - [bookkeeper-io-660-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x6e7c81f1, L:/127.0.0.1:53492 - R:127.0.0.1/127.0.0.1:33549]
2020-08-10 23:47:05,906 - INFO  - [bookkeeper-io-660-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:33549
2020-08-10 23:47:05,906 - INFO  - [bookkeeper-io-660-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x9a897a1b, L:/127.0.0.1:37110 - R:127.0.0.1/127.0.0.1:45597]
2020-08-10 23:47:05,906 - INFO  - [bookkeeper-io-660-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:45597
2020-08-10 23:47:05,906 - INFO  - [bookkeeper-io-660-1:PerChannelBookieClient$1@471] - connection [id: 0x6e7c81f1, L:/127.0.0.1:53492 - R:127.0.0.1/127.0.0.1:33549] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:05,906 - INFO  - [bookkeeper-io-660-2:PerChannelBookieClient$1@471] - connection [id: 0x9a897a1b, L:/127.0.0.1:37110 - R:127.0.0.1/127.0.0.1:45597] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:05,907 - INFO  - [bookie-io-638-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:05,907 - INFO  - [bookie-io-638-2:BookieRequestHandler@50] - Channel connected  [id: 0xbfb29254, L:/127.0.0.1:33549 - R:/127.0.0.1:53492]
2020-08-10 23:47:05,906 - INFO  - [bookie-io-628-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:05,907 - INFO  - [bookie-io-628-2:BookieRequestHandler@50] - Channel connected  [id: 0xc0fb16d3, L:/127.0.0.1:45597 - R:/127.0.0.1:37110]
2020-08-10 23:47:05,929 - INFO  - [bookkeeper-io-660-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x3d285bee, L:/127.0.0.1:49346 - R:127.0.0.1/127.0.0.1:43293]
2020-08-10 23:47:05,930 - INFO  - [bookkeeper-io-660-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:43293
2020-08-10 23:47:05,930 - INFO  - [bookie-io-618-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:05,930 - INFO  - [bookie-io-618-2:BookieRequestHandler@50] - Channel connected  [id: 0x8c1f272b, L:/127.0.0.1:43293 - R:/127.0.0.1:49346]
2020-08-10 23:47:05,930 - INFO  - [bookkeeper-io-660-3:PerChannelBookieClient$1@471] - connection [id: 0x3d285bee, L:/127.0.0.1:49346 - R:127.0.0.1/127.0.0.1:43293] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:06,425 - ERROR - [Time-limited test-EventThread:LedgerOpenOp@158] - Provided passwd does not match that in metadata
2020-08-10 23:47:06,427 - ERROR - [Time-limited test-EventThread:LedgerOpenOp@158] - Provided passwd does not match that in metadata
2020-08-10 23:47:06,429 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:45597
2020-08-10 23:47:06,429 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:43293
2020-08-10 23:47:06,430 - INFO  - [bookkeeper-io-660-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x3d285bee, L:/127.0.0.1:49346 ! R:127.0.0.1/127.0.0.1:43293]
2020-08-10 23:47:06,429 - INFO  - [bookkeeper-io-660-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x9a897a1b, L:/127.0.0.1:37110 ! R:127.0.0.1/127.0.0.1:45597]
2020-08-10 23:47:06,431 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:33549
2020-08-10 23:47:06,430 - INFO  - [bookie-io-618-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x8c1f272b, L:/127.0.0.1:43293 ! R:/127.0.0.1:49346]
2020-08-10 23:47:06,430 - INFO  - [bookie-io-628-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xc0fb16d3, L:/127.0.0.1:45597 ! R:/127.0.0.1:37110]
2020-08-10 23:47:06,432 - INFO  - [bookkeeper-io-660-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x6e7c81f1, L:/127.0.0.1:53492 ! R:127.0.0.1/127.0.0.1:33549]
2020-08-10 23:47:06,437 - INFO  - [bookie-io-638-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xbfb29254, L:/127.0.0.1:33549 ! R:/127.0.0.1:53492]
2020-08-10 23:47:06,541 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:06,646 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:06,646 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:06,649 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43293 with exitCode 0
2020-08-10 23:47:06,649 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:06,649 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:06,649 - INFO  - [SyncThread-623-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:06,650 - INFO  - [SyncThread-623-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16086283067473843898test/current/0.log for logId 0.
2020-08-10 23:47:06,652 - INFO  - [pool-428-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie16086283067473843898test/current/1.log for logId 1.
2020-08-10 23:47:06,661 - INFO  - [SyncThread-623-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096024678 , logFileOffset - 34304]}.
2020-08-10 23:47:06,664 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:06,665 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:06,665 - INFO  - [BookieJournal-43293:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:06,665 - INFO  - [BookieJournal-43293:Journal@1144] - Journal exited loop!
2020-08-10 23:47:06,666 - INFO  - [Bookie-43293:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:06,666 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:06,666 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:06,666 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:06,666 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:06,666 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:06,666 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:06,669 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:06,669 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:06,669 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:06,772 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:06,773 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:06,776 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-45597 with exitCode 0
2020-08-10 23:47:06,776 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:06,776 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:06,777 - INFO  - [SyncThread-633-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:06,777 - INFO  - [SyncThread-633-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6457423100728808654test/current/0.log for logId 0.
2020-08-10 23:47:06,779 - INFO  - [pool-435-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie6457423100728808654test/current/1.log for logId 1.
2020-08-10 23:47:06,787 - INFO  - [SyncThread-633-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096024993 , logFileOffset - 34816]}.
2020-08-10 23:47:06,791 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:06,791 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:06,791 - INFO  - [BookieJournal-45597:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:06,792 - INFO  - [BookieJournal-45597:Journal@1144] - Journal exited loop!
2020-08-10 23:47:06,792 - INFO  - [Bookie-45597:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:06,792 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:06,792 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:06,792 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:06,792 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:06,792 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:06,792 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:06,794 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:06,795 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:06,795 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:06,899 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:06,899 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:06,905 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33549 with exitCode 0
2020-08-10 23:47:06,905 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:06,905 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:06,905 - INFO  - [SyncThread-643-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:06,907 - INFO  - [SyncThread-643-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7361480968248867041test/current/0.log for logId 0.
2020-08-10 23:47:06,908 - INFO  - [pool-442-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie7361480968248867041test/current/1.log for logId 1.
2020-08-10 23:47:06,916 - INFO  - [SyncThread-643-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096025301 , logFileOffset - 34816]}.
2020-08-10 23:47:06,920 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:06,920 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:06,920 - INFO  - [BookieJournal-33549:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:06,921 - INFO  - [BookieJournal-33549:Journal@1144] - Journal exited loop!
2020-08-10 23:47:06,921 - INFO  - [Bookie-33549:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:06,921 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:06,921 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:06,921 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:06,921 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:06,922 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:06,922 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:06,924 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:06,924 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:06,924 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:07,000 - INFO  - [BookieDeathWatcher-45597:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:07,000 - INFO  - [BookieDeathWatcher-45597:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45597
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:07,001 - INFO  - [BookieDeathWatcher-45597:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:07,001 - INFO  - [BookieDeathWatcher-45597:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:07,031 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:07,032 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:07,036 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37585 with exitCode 0
2020-08-10 23:47:07,037 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:07,037 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:07,037 - INFO  - [SyncThread-653-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:07,040 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:07,041 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:07,041 - INFO  - [BookieJournal-37585:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:07,041 - INFO  - [BookieJournal-37585:Journal@1144] - Journal exited loop!
2020-08-10 23:47:07,041 - INFO  - [Bookie-37585:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:07,041 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:07,041 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:07,042 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:07,263 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testBookkeeperDigestPasswordWithAutoDetection in 722 ms.
2020-08-10 23:47:07,266 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:07,282 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:07,296 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35315/ledgers : zkServers = localhost:35315, ledgersRootPath = /ledgers.
2020-08-10 23:47:07,303 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:07,308 - INFO  - [BookieDeathWatcher-33549:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:07,308 - INFO  - [BookieDeathWatcher-33549:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33549
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:07,308 - INFO  - [BookieDeathWatcher-33549:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:07,308 - INFO  - [BookieDeathWatcher-33549:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:07,309 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:07,309 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:07,310 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:07,310 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:07,315 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:07,316 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12278850027906459763test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35315/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12278850027906459763test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:07,320 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35315/ledgers : zkServers = localhost:35315, ledgersRootPath = /ledgers.
2020-08-10 23:47:07,327 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:07,329 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:07,333 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12278850027906459763test/current] [/tmp/bookie12278850027906459763test/current]
2020-08-10 23:47:07,342 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:07,344 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12278850027906459763test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:07,344 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:07,344 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:07,345 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:07,346 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:07,346 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:07,346 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:07,368 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41069 to become writable
2020-08-10 23:47:07,369 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:07,369 - INFO  - [SyncThread-675-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:07,374 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:07,375 - INFO  - [BookieJournal-41069:Journal@909] - Starting journal on /tmp/bookie12278850027906459763test/current
2020-08-10 23:47:07,375 - INFO  - [BookieJournal-41069:JournalChannel@157] - Opening journal /tmp/bookie12278850027906459763test/current/173da5764f0.txn
2020-08-10 23:47:07,375 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:07,381 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41069
2020-08-10 23:47:07,618 - INFO  - [BookieDeathWatcher-37585:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:07,618 - INFO  - [BookieDeathWatcher-37585:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37585
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:07,619 - INFO  - [BookieDeathWatcher-37585:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:07,619 - INFO  - [BookieDeathWatcher-37585:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:07,630 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41069' has been created.
2020-08-10 23:47:07,632 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:07,632 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie14462481856637750215test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35315/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie14462481856637750215test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:07,635 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35315/ledgers : zkServers = localhost:35315, ledgersRootPath = /ledgers.
2020-08-10 23:47:07,638 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:07,641 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:07,646 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie14462481856637750215test/current] [/tmp/bookie14462481856637750215test/current]
2020-08-10 23:47:07,653 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:07,654 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie14462481856637750215test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:07,655 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:07,655 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:07,660 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:07,661 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:07,662 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:07,662 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:07,679 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37243 to become writable
2020-08-10 23:47:07,681 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:47:07,681 - INFO  - [SyncThread-685-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:07,683 - INFO  - [BookieDeathWatcher-43293:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:07,683 - INFO  - [BookieDeathWatcher-43293:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43293
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:07,683 - INFO  - [BookieDeathWatcher-43293:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:07,684 - INFO  - [BookieDeathWatcher-43293:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:07,685 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:07,687 - INFO  - [BookieJournal-37243:Journal@909] - Starting journal on /tmp/bookie14462481856637750215test/current
2020-08-10 23:47:07,687 - INFO  - [BookieJournal-37243:JournalChannel@157] - Opening journal /tmp/bookie14462481856637750215test/current/173da576628.txn
2020-08-10 23:47:07,687 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:07,692 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37243
2020-08-10 23:47:07,944 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37243' has been created.
2020-08-10 23:47:07,945 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:07,946 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12030406982901234016test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35315/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12030406982901234016test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:07,949 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35315/ledgers : zkServers = localhost:35315, ledgersRootPath = /ledgers.
2020-08-10 23:47:07,956 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:07,958 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:07,963 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12030406982901234016test/current] [/tmp/bookie12030406982901234016test/current]
2020-08-10 23:47:07,971 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:07,972 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12030406982901234016test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:07,972 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:07,973 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:07,973 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:07,974 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:07,974 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:07,974 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:07,981 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44469 to become writable
2020-08-10 23:47:07,982 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:07,982 - INFO  - [SyncThread-695-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:07,986 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:07,988 - INFO  - [BookieJournal-44469:Journal@909] - Starting journal on /tmp/bookie12030406982901234016test/current
2020-08-10 23:47:07,989 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:07,989 - INFO  - [BookieJournal-44469:JournalChannel@157] - Opening journal /tmp/bookie12030406982901234016test/current/173da576756.txn
2020-08-10 23:47:07,994 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44469
2020-08-10 23:47:08,244 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44469' has been created.
2020-08-10 23:47:08,245 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:08,246 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie217329044762968341test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35315/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie217329044762968341test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:08,249 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35315/ledgers : zkServers = localhost:35315, ledgersRootPath = /ledgers.
2020-08-10 23:47:08,253 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:08,255 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:08,259 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie217329044762968341test/current] [/tmp/bookie217329044762968341test/current]
2020-08-10 23:47:08,267 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:08,268 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie217329044762968341test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:08,268 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:08,268 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:08,269 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:08,270 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:08,270 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:08,270 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:08,279 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37137 to become writable
2020-08-10 23:47:08,280 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:08,281 - INFO  - [SyncThread-705-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:08,284 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:08,285 - INFO  - [BookieJournal-37137:Journal@909] - Starting journal on /tmp/bookie217329044762968341test/current
2020-08-10 23:47:08,286 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:08,286 - INFO  - [BookieJournal-37137:JournalChannel@157] - Opening journal /tmp/bookie217329044762968341test/current/173da57687e.txn
2020-08-10 23:47:08,290 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37137
2020-08-10 23:47:08,541 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37137' has been created.
2020-08-10 23:47:08,543 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testAutoCloseableBookKeeper @ metadata service zk://localhost:35315/ledgers in 1276 ms.
2020-08-10 23:47:08,547 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35315/ledgers : zkServers = localhost:35315, ledgersRootPath = /ledgers.
2020-08-10 23:47:08,551 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:08,553 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:08,553 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:08,553 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:08,554 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:08,556 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37137
2020-08-10 23:47:08,556 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44469
2020-08-10 23:47:08,556 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37243
2020-08-10 23:47:08,556 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41069
2020-08-10 23:47:08,558 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:44469, 127.0.0.1:41069, 127.0.0.1:37137] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:08,582 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:44469, 127.0.0.1:41069, 127.0.0.1:37137] for ledger: 0
2020-08-10 23:47:08,584 - INFO  - [bookkeeper-io-712-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x8443b49d, L:/127.0.0.1:57388 - R:127.0.0.1/127.0.0.1:44469]
2020-08-10 23:47:08,585 - INFO  - [bookie-io-690-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:08,585 - INFO  - [bookie-io-690-2:BookieRequestHandler@50] - Channel connected  [id: 0x1f4ee005, L:/127.0.0.1:44469 - R:/127.0.0.1:57388]
2020-08-10 23:47:08,585 - INFO  - [bookkeeper-io-712-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x5889c42e, L:/127.0.0.1:35966 - R:127.0.0.1/127.0.0.1:41069]
2020-08-10 23:47:08,585 - INFO  - [bookkeeper-io-712-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41069
2020-08-10 23:47:08,585 - INFO  - [bookie-io-670-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:08,585 - INFO  - [bookkeeper-io-712-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:44469
2020-08-10 23:47:08,586 - INFO  - [bookie-io-670-2:BookieRequestHandler@50] - Channel connected  [id: 0x53af7ea0, L:/127.0.0.1:41069 - R:/127.0.0.1:35966]
2020-08-10 23:47:08,586 - INFO  - [bookkeeper-io-712-2:PerChannelBookieClient$1@471] - connection [id: 0x5889c42e, L:/127.0.0.1:35966 - R:127.0.0.1/127.0.0.1:41069] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:08,586 - INFO  - [bookkeeper-io-712-1:PerChannelBookieClient$1@471] - connection [id: 0x8443b49d, L:/127.0.0.1:57388 - R:127.0.0.1/127.0.0.1:44469] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:08,600 - INFO  - [bookkeeper-io-712-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x852f6907, L:/127.0.0.1:49272 - R:127.0.0.1/127.0.0.1:37137]
2020-08-10 23:47:08,600 - INFO  - [bookkeeper-io-712-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37137
2020-08-10 23:47:08,601 - INFO  - [bookkeeper-io-712-3:PerChannelBookieClient$1@471] - connection [id: 0x852f6907, L:/127.0.0.1:49272 - R:127.0.0.1/127.0.0.1:37137] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:08,601 - INFO  - [bookie-io-700-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:08,601 - INFO  - [bookie-io-700-2:BookieRequestHandler@50] - Channel connected  [id: 0x4afdcaf0, L:/127.0.0.1:37137 - R:/127.0.0.1:49272]
2020-08-10 23:47:09,080 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37137
2020-08-10 23:47:09,082 - INFO  - [bookkeeper-io-712-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x852f6907, L:/127.0.0.1:49272 ! R:127.0.0.1/127.0.0.1:37137]
2020-08-10 23:47:09,082 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:44469
2020-08-10 23:47:09,082 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41069
2020-08-10 23:47:09,082 - INFO  - [bookkeeper-io-712-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x8443b49d, L:/127.0.0.1:57388 ! R:127.0.0.1/127.0.0.1:44469]
2020-08-10 23:47:09,082 - INFO  - [bookkeeper-io-712-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x5889c42e, L:/127.0.0.1:35966 ! R:127.0.0.1/127.0.0.1:41069]
2020-08-10 23:47:09,082 - INFO  - [bookie-io-670-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x53af7ea0, L:/127.0.0.1:41069 ! R:/127.0.0.1:35966]
2020-08-10 23:47:09,082 - INFO  - [bookie-io-690-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x1f4ee005, L:/127.0.0.1:44469 ! R:/127.0.0.1:57388]
2020-08-10 23:47:09,085 - INFO  - [bookie-io-700-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x4afdcaf0, L:/127.0.0.1:37137 ! R:/127.0.0.1:49272]
2020-08-10 23:47:09,197 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:09,306 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:09,306 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:09,308 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41069 with exitCode 0
2020-08-10 23:47:09,308 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:09,309 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:09,309 - INFO  - [SyncThread-675-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:09,310 - INFO  - [SyncThread-675-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12278850027906459763test/current/0.log for logId 0.
2020-08-10 23:47:09,312 - INFO  - [pool-464-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12278850027906459763test/current/1.log for logId 1.
2020-08-10 23:47:09,320 - INFO  - [SyncThread-675-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096027376 , logFileOffset - 34816]}.
2020-08-10 23:47:09,324 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:09,324 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:09,324 - INFO  - [BookieJournal-41069:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:09,324 - INFO  - [BookieJournal-41069:Journal@1144] - Journal exited loop!
2020-08-10 23:47:09,325 - INFO  - [Bookie-41069:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:09,325 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:09,325 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:09,325 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:09,325 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:09,326 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:09,326 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:09,328 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:09,328 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:09,328 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:09,438 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:09,438 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:09,442 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37243 with exitCode 0
2020-08-10 23:47:09,442 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:09,442 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:09,442 - INFO  - [SyncThread-685-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:09,447 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:09,447 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:09,447 - INFO  - [BookieJournal-37243:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:09,447 - INFO  - [BookieJournal-37243:Journal@1144] - Journal exited loop!
2020-08-10 23:47:09,448 - INFO  - [Bookie-37243:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:09,448 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:09,553 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:09,553 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:09,556 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44469 with exitCode 0
2020-08-10 23:47:09,556 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:09,556 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:09,557 - INFO  - [SyncThread-695-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:09,558 - INFO  - [SyncThread-695-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12030406982901234016test/current/0.log for logId 0.
2020-08-10 23:47:09,566 - INFO  - [pool-478-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie12030406982901234016test/current/1.log for logId 1.
2020-08-10 23:47:09,575 - INFO  - [SyncThread-695-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096027990 , logFileOffset - 35328]}.
2020-08-10 23:47:09,581 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:09,581 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:09,581 - INFO  - [BookieJournal-44469:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:09,582 - INFO  - [BookieJournal-44469:Journal@1144] - Journal exited loop!
2020-08-10 23:47:09,582 - INFO  - [Bookie-44469:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:09,582 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:09,582 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:09,583 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:09,583 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:09,583 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:09,583 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:09,586 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:09,587 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:09,587 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:09,694 - INFO  - [BookieDeathWatcher-37243:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:09,694 - INFO  - [BookieDeathWatcher-37243:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37243
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:09,695 - INFO  - [BookieDeathWatcher-37243:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:09,695 - INFO  - [BookieDeathWatcher-37243:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:09,695 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:09,695 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:09,700 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37137 with exitCode 0
2020-08-10 23:47:09,700 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:09,700 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:09,700 - INFO  - [SyncThread-705-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:09,701 - INFO  - [SyncThread-705-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie217329044762968341test/current/0.log for logId 0.
2020-08-10 23:47:09,702 - INFO  - [pool-485-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie217329044762968341test/current/1.log for logId 1.
2020-08-10 23:47:09,710 - INFO  - [SyncThread-705-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096028286 , logFileOffset - 34304]}.
2020-08-10 23:47:09,714 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:09,714 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:09,714 - INFO  - [BookieJournal-37137:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:09,714 - INFO  - [BookieJournal-37137:Journal@1144] - Journal exited loop!
2020-08-10 23:47:09,715 - INFO  - [Bookie-37137:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:09,716 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:09,716 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:09,716 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:09,716 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:09,716 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:09,716 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:09,718 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:09,719 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:09,719 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:09,936 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testAutoCloseableBookKeeper in 738 ms.
2020-08-10 23:47:09,937 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:09,954 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:09,960 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43279/ledgers : zkServers = localhost:43279, ledgersRootPath = /ledgers.
2020-08-10 23:47:09,964 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:09,965 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:09,965 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:09,965 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:09,965 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:09,972 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:09,972 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie18228359030455733263test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43279/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie18228359030455733263test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:09,974 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43279/ledgers : zkServers = localhost:43279, ledgersRootPath = /ledgers.
2020-08-10 23:47:09,981 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:09,983 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:09,987 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie18228359030455733263test/current] [/tmp/bookie18228359030455733263test/current]
2020-08-10 23:47:09,995 - INFO  - [BookieDeathWatcher-44469:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:09,995 - INFO  - [BookieDeathWatcher-44469:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44469
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:09,995 - INFO  - [BookieDeathWatcher-44469:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:09,995 - INFO  - [BookieDeathWatcher-44469:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:09,996 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:09,997 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie18228359030455733263test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:09,997 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:09,997 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:09,998 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:09,998 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:09,999 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:09,999 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:10,006 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:32803 to become writable
2020-08-10 23:47:10,006 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:10,008 - INFO  - [SyncThread-727-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:10,012 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:10,012 - INFO  - [BookieJournal-32803:Journal@909] - Starting journal on /tmp/bookie18228359030455733263test/current
2020-08-10 23:47:10,013 - INFO  - [BookieJournal-32803:JournalChannel@157] - Opening journal /tmp/bookie18228359030455733263test/current/173da576f3e.txn
2020-08-10 23:47:10,013 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:10,018 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:32803
2020-08-10 23:47:10,269 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:32803' has been created.
2020-08-10 23:47:10,270 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:10,271 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15888681268490209332test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43279/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15888681268490209332test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:10,273 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43279/ledgers : zkServers = localhost:43279, ledgersRootPath = /ledgers.
2020-08-10 23:47:10,276 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:10,278 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:10,287 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15888681268490209332test/current] [/tmp/bookie15888681268490209332test/current]
2020-08-10 23:47:10,290 - INFO  - [BookieDeathWatcher-37137:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:10,291 - INFO  - [BookieDeathWatcher-37137:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37137
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:10,291 - INFO  - [BookieDeathWatcher-37137:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:10,291 - INFO  - [BookieDeathWatcher-37137:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:10,295 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:10,296 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15888681268490209332test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:10,296 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:10,297 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:10,297 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:10,298 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:10,298 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:10,298 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:10,306 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37347 to become writable
2020-08-10 23:47:10,306 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:10,306 - INFO  - [SyncThread-737-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:10,310 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:10,311 - INFO  - [BookieJournal-37347:Journal@909] - Starting journal on /tmp/bookie15888681268490209332test/current
2020-08-10 23:47:10,313 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:10,313 - INFO  - [BookieJournal-37347:JournalChannel@157] - Opening journal /tmp/bookie15888681268490209332test/current/173da577069.txn
2020-08-10 23:47:10,316 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37347
2020-08-10 23:47:10,382 - INFO  - [BookieDeathWatcher-41069:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:10,382 - INFO  - [BookieDeathWatcher-41069:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41069
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:10,382 - INFO  - [BookieDeathWatcher-41069:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:10,382 - INFO  - [BookieDeathWatcher-41069:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:10,566 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37347' has been created.
2020-08-10 23:47:10,567 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:10,568 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9409522124381788432test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43279/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9409522124381788432test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:10,571 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43279/ledgers : zkServers = localhost:43279, ledgersRootPath = /ledgers.
2020-08-10 23:47:10,574 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:10,576 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:10,585 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9409522124381788432test/current] [/tmp/bookie9409522124381788432test/current]
2020-08-10 23:47:10,591 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:10,593 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9409522124381788432test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:10,593 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:10,594 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:10,594 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:10,595 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:10,595 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:10,604 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:10,642 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44259 to become writable
2020-08-10 23:47:10,643 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:10,643 - INFO  - [SyncThread-747-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:10,647 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:10,649 - INFO  - [BookieJournal-44259:Journal@909] - Starting journal on /tmp/bookie9409522124381788432test/current
2020-08-10 23:47:10,649 - INFO  - [BookieJournal-44259:JournalChannel@157] - Opening journal /tmp/bookie9409522124381788432test/current/173da5771ba.txn
2020-08-10 23:47:10,650 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:10,653 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44259
2020-08-10 23:47:10,902 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44259' has been created.
2020-08-10 23:47:10,904 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:10,904 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3480092262372716374test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43279/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3480092262372716374test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:10,908 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43279/ledgers : zkServers = localhost:43279, ledgersRootPath = /ledgers.
2020-08-10 23:47:10,912 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:10,917 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:10,929 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3480092262372716374test/current] [/tmp/bookie3480092262372716374test/current]
2020-08-10 23:47:10,937 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:10,938 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3480092262372716374test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:10,938 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:10,939 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:10,940 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:10,942 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:10,942 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:10,942 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:10,952 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:44789 to become writable
2020-08-10 23:47:10,953 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:10,954 - INFO  - [SyncThread-757-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:10,958 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:10,959 - INFO  - [BookieJournal-44789:Journal@909] - Starting journal on /tmp/bookie3480092262372716374test/current
2020-08-10 23:47:10,959 - INFO  - [BookieJournal-44789:JournalChannel@157] - Opening journal /tmp/bookie3480092262372716374test/current/173da5772f0.txn
2020-08-10 23:47:10,960 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:10,966 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44789
2020-08-10 23:47:11,216 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44789' has been created.
2020-08-10 23:47:11,217 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testConstructionNotConnectedExplicitZk @ metadata service zk://localhost:43279/ledgers in 1279 ms.
2020-08-10 23:47:11,219 - ERROR - [Time-limited test:BookKeeper@341] - Unconnected zookeeper handle passed to bookkeeper
2020-08-10 23:47:11,219 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:11,527 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:11,527 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:11,531 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-32803 with exitCode 0
2020-08-10 23:47:11,531 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:11,531 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:11,531 - INFO  - [SyncThread-727-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:11,536 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:11,537 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:11,537 - INFO  - [BookieJournal-32803:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:11,537 - INFO  - [BookieJournal-32803:Journal@1144] - Journal exited loop!
2020-08-10 23:47:11,537 - INFO  - [Bookie-32803:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:11,537 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:11,537 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:11,537 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:11,537 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:11,537 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:11,538 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:11,538 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:11,538 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:11,538 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:11,648 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:11,648 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:11,653 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37347 with exitCode 0
2020-08-10 23:47:11,653 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:11,653 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:11,654 - INFO  - [SyncThread-737-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:11,658 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:11,659 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:11,659 - INFO  - [BookieJournal-37347:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:11,659 - INFO  - [BookieJournal-37347:Journal@1144] - Journal exited loop!
2020-08-10 23:47:11,659 - INFO  - [Bookie-37347:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:11,659 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:11,660 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:11,772 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:11,773 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:11,777 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44259 with exitCode 0
2020-08-10 23:47:11,777 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:11,777 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:11,778 - INFO  - [SyncThread-747-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:11,782 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:11,782 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:11,783 - INFO  - [BookieJournal-44259:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:11,783 - INFO  - [BookieJournal-44259:Journal@1144] - Journal exited loop!
2020-08-10 23:47:11,783 - INFO  - [Bookie-44259:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:11,783 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:11,783 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:11,783 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:11,784 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:11,784 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:11,784 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:11,784 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:11,784 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:11,784 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:11,890 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:11,891 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:11,895 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-44789 with exitCode 0
2020-08-10 23:47:11,895 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:11,895 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:11,895 - INFO  - [SyncThread-757-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:11,899 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:11,899 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:11,899 - INFO  - [BookieJournal-44789:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:11,899 - INFO  - [BookieJournal-44789:Journal@1144] - Journal exited loop!
2020-08-10 23:47:11,899 - INFO  - [Bookie-44789:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:11,899 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:11,900 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:12,020 - INFO  - [BookieDeathWatcher-32803:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:12,020 - INFO  - [BookieDeathWatcher-32803:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-32803
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:12,021 - INFO  - [BookieDeathWatcher-32803:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:12,021 - INFO  - [BookieDeathWatcher-32803:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:12,121 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testConstructionNotConnectedExplicitZk in 901 ms.
2020-08-10 23:47:12,124 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:12,143 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:12,151 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38153/ledgers : zkServers = localhost:38153, ledgersRootPath = /ledgers.
2020-08-10 23:47:12,158 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:12,160 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:12,160 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:12,160 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:12,160 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:12,172 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:12,172 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie13109918001904815755test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38153/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie13109918001904815755test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:12,175 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38153/ledgers : zkServers = localhost:38153, ledgersRootPath = /ledgers.
2020-08-10 23:47:12,179 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:12,183 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:12,188 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie13109918001904815755test/current] [/tmp/bookie13109918001904815755test/current]
2020-08-10 23:47:12,197 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:12,198 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie13109918001904815755test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:12,199 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:12,199 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:12,199 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:12,200 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:12,201 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:12,201 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:12,209 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41033 to become writable
2020-08-10 23:47:12,210 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:47:12,210 - INFO  - [SyncThread-773-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:12,214 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:12,215 - INFO  - [BookieJournal-41033:Journal@909] - Starting journal on /tmp/bookie13109918001904815755test/current
2020-08-10 23:47:12,216 - INFO  - [BookieJournal-41033:JournalChannel@157] - Opening journal /tmp/bookie13109918001904815755test/current/173da5777d9.txn
2020-08-10 23:47:12,216 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:12,222 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41033
2020-08-10 23:47:12,316 - INFO  - [BookieDeathWatcher-37347:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:12,317 - INFO  - [BookieDeathWatcher-37347:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37347
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:12,317 - INFO  - [BookieDeathWatcher-37347:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:12,317 - INFO  - [BookieDeathWatcher-37347:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:12,472 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41033' has been created.
2020-08-10 23:47:12,474 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:12,474 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2701697001599592927test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38153/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2701697001599592927test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:12,477 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38153/ledgers : zkServers = localhost:38153, ledgersRootPath = /ledgers.
2020-08-10 23:47:12,482 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:12,484 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:12,489 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2701697001599592927test/current] [/tmp/bookie2701697001599592927test/current]
2020-08-10 23:47:12,496 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:12,497 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2701697001599592927test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:12,498 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:12,498 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:12,498 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:12,499 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:12,499 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:12,500 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:12,517 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41219 to become writable
2020-08-10 23:47:12,518 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:12,518 - INFO  - [SyncThread-783-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:12,523 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:12,523 - INFO  - [BookieJournal-41219:Journal@909] - Starting journal on /tmp/bookie2701697001599592927test/current
2020-08-10 23:47:12,525 - INFO  - [BookieJournal-41219:JournalChannel@157] - Opening journal /tmp/bookie2701697001599592927test/current/173da57790e.txn
2020-08-10 23:47:12,525 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:12,530 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41219
2020-08-10 23:47:12,653 - INFO  - [BookieDeathWatcher-44259:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:12,653 - INFO  - [BookieDeathWatcher-44259:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44259
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:12,653 - INFO  - [BookieDeathWatcher-44259:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:12,653 - INFO  - [BookieDeathWatcher-44259:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:12,785 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41219' has been created.
2020-08-10 23:47:12,787 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:12,787 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11293386434101404615test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38153/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11293386434101404615test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:12,794 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38153/ledgers : zkServers = localhost:38153, ledgersRootPath = /ledgers.
2020-08-10 23:47:12,798 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:12,801 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:12,808 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11293386434101404615test/current] [/tmp/bookie11293386434101404615test/current]
2020-08-10 23:47:12,815 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:12,816 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11293386434101404615test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:12,816 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:12,817 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:12,817 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:12,818 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:12,818 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:12,818 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:12,829 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36849 to become writable
2020-08-10 23:47:12,830 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:12,830 - INFO  - [SyncThread-793-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:12,834 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:12,835 - INFO  - [BookieJournal-36849:Journal@909] - Starting journal on /tmp/bookie11293386434101404615test/current
2020-08-10 23:47:12,836 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:12,836 - INFO  - [BookieJournal-36849:JournalChannel@157] - Opening journal /tmp/bookie11293386434101404615test/current/173da577a45.txn
2020-08-10 23:47:12,840 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36849
2020-08-10 23:47:12,972 - INFO  - [BookieDeathWatcher-44789:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:12,973 - INFO  - [BookieDeathWatcher-44789:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44789
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:12,973 - INFO  - [BookieDeathWatcher-44789:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:12,973 - INFO  - [BookieDeathWatcher-44789:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:13,090 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36849' has been created.
2020-08-10 23:47:13,092 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:13,092 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6044112902228840005test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:38153/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6044112902228840005test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:13,099 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38153/ledgers : zkServers = localhost:38153, ledgersRootPath = /ledgers.
2020-08-10 23:47:13,104 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:13,107 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:13,111 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6044112902228840005test/current] [/tmp/bookie6044112902228840005test/current]
2020-08-10 23:47:13,119 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:13,120 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6044112902228840005test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:13,120 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:13,121 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:13,121 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:13,122 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:13,122 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:13,122 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:13,129 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35107 to become writable
2020-08-10 23:47:13,130 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:13,131 - INFO  - [SyncThread-803-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:13,137 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:13,138 - INFO  - [BookieJournal-35107:Journal@909] - Starting journal on /tmp/bookie6044112902228840005test/current
2020-08-10 23:47:13,138 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:13,138 - INFO  - [BookieJournal-35107:JournalChannel@157] - Opening journal /tmp/bookie6044112902228840005test/current/173da577b73.txn
2020-08-10 23:47:13,144 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35107
2020-08-10 23:47:13,396 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35107' has been created.
2020-08-10 23:47:13,397 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadWriteWithV2WireProtocol @ metadata service zk://localhost:38153/ledgers in 1272 ms.
2020-08-10 23:47:13,399 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:38153/ledgers : zkServers = localhost:38153, ledgersRootPath = /ledgers.
2020-08-10 23:47:13,412 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:13,414 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:13,415 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:13,415 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:13,415 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:13,417 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36849
2020-08-10 23:47:13,417 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41033
2020-08-10 23:47:13,417 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35107
2020-08-10 23:47:13,417 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41219
2020-08-10 23:47:13,418 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:36849, 127.0.0.1:41033, 127.0.0.1:41219] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:13,443 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:36849, 127.0.0.1:41033, 127.0.0.1:41219] for ledger: 0
2020-08-10 23:47:13,445 - INFO  - [bookkeeper-io-810-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xdf12bbc0, L:/127.0.0.1:41354 - R:127.0.0.1/127.0.0.1:36849]
2020-08-10 23:47:13,445 - INFO  - [bookkeeper-io-810-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36849
2020-08-10 23:47:13,446 - INFO  - [bookie-io-768-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:13,446 - INFO  - [bookie-io-768-2:BookieRequestHandler@50] - Channel connected  [id: 0xe5f1233f, L:/127.0.0.1:41033 - R:/127.0.0.1:44914]
2020-08-10 23:47:13,446 - INFO  - [bookie-io-788-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:13,446 - INFO  - [bookie-io-788-2:BookieRequestHandler@50] - Channel connected  [id: 0x8d9f42bd, L:/127.0.0.1:36849 - R:/127.0.0.1:41354]
2020-08-10 23:47:13,446 - INFO  - [bookkeeper-io-810-1:PerChannelBookieClient$1@471] - connection [id: 0xdf12bbc0, L:/127.0.0.1:41354 - R:127.0.0.1/127.0.0.1:36849] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:13,448 - INFO  - [bookkeeper-io-810-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x9cdd2d63, L:/127.0.0.1:44914 - R:127.0.0.1/127.0.0.1:41033]
2020-08-10 23:47:13,448 - INFO  - [bookkeeper-io-810-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41033
2020-08-10 23:47:13,448 - INFO  - [bookkeeper-io-810-2:PerChannelBookieClient$1@471] - connection [id: 0x9cdd2d63, L:/127.0.0.1:44914 - R:127.0.0.1/127.0.0.1:41033] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:13,458 - INFO  - [bookkeeper-io-810-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf8e6f6a3, L:/127.0.0.1:45448 - R:127.0.0.1/127.0.0.1:41219]
2020-08-10 23:47:13,458 - INFO  - [bookkeeper-io-810-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:41219
2020-08-10 23:47:13,458 - INFO  - [bookkeeper-io-810-3:PerChannelBookieClient$1@471] - connection [id: 0xf8e6f6a3, L:/127.0.0.1:45448 - R:127.0.0.1/127.0.0.1:41219] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:13,458 - INFO  - [bookie-io-778-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:13,459 - INFO  - [bookie-io-778-2:BookieRequestHandler@50] - Channel connected  [id: 0x64461215, L:/127.0.0.1:41219 - R:/127.0.0.1:45448]
2020-08-10 23:47:13,901 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:41219, 127.0.0.1:36849, 127.0.0.1:41033] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:13,908 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:41219, 127.0.0.1:36849, 127.0.0.1:41033] for ledger: 1
2020-08-10 23:47:13,922 - WARN  - [BookieHighPriorityThread-41219-OrderedExecutor-1-0:ReadEntryProcessor@70] - Ledger: 1  fenced by: /127.0.0.1:45448
2020-08-10 23:47:13,923 - WARN  - [BookieHighPriorityThread-36849-OrderedExecutor-1-0:ReadEntryProcessor@70] - Ledger: 1  fenced by: /127.0.0.1:41354
2020-08-10 23:47:13,922 - WARN  - [BookieHighPriorityThread-41033-OrderedExecutor-1-0:ReadEntryProcessor@70] - Ledger: 1  fenced by: /127.0.0.1:44914
2020-08-10 23:47:13,938 - INFO  - [BookKeeperClientWorker-OrderedExecutor-1-0:ReadOnlyLedgerHandle@309] - Closing recovered ledger 1 at entry 0
2020-08-10 23:47:13,952 - ERROR - [BookieWriteThreadPool-OrderedExecutor-0-0:WriteEntryProcessor@93] - Attempt to write to fenced ledger
org.apache.bookkeeper.bookie.BookieException$LedgerFencedException
	at org.apache.bookkeeper.bookie.BookieException.create(BookieException.java:57)
	at org.apache.bookkeeper.bookie.Bookie.addEntry(Bookie.java:1386)
	at org.apache.bookkeeper.proto.WriteEntryProcessor.processPacket(WriteEntryProcessor.java:80)
	at org.apache.bookkeeper.proto.PacketProcessorBase.safeRun(PacketProcessorBase.java:85)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at org.apache.bookkeeper.common.util.OrderedExecutor$TimedRunnable.run(OrderedExecutor.java:203)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:47:13,954 - ERROR - [BookieWriteThreadPool-OrderedExecutor-0-0:WriteEntryProcessor@93] - Attempt to write to fenced ledger
org.apache.bookkeeper.bookie.BookieException$LedgerFencedException
	at org.apache.bookkeeper.bookie.BookieException.create(BookieException.java:57)
	at org.apache.bookkeeper.bookie.Bookie.addEntry(Bookie.java:1386)
	at org.apache.bookkeeper.proto.WriteEntryProcessor.processPacket(WriteEntryProcessor.java:80)
	at org.apache.bookkeeper.proto.PacketProcessorBase.safeRun(PacketProcessorBase.java:85)
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36)
	at org.apache.bookkeeper.common.util.OrderedExecutor$TimedRunnable.run(OrderedExecutor.java:203)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
2020-08-10 23:47:13,955 - WARN  - [BookKeeperClientWorker-OrderedExecutor-1-0:PendingAddOp@350] - Fencing exception on write: L1 E1 on 127.0.0.1:36849
2020-08-10 23:47:13,955 - ERROR - [BookKeeperClientWorker-OrderedExecutor-1-0:LedgerHandle@1758] - Closing ledger 1 due to LedgerFencedException: Ledger has been fenced off. Some other client must have opened it to read
2020-08-10 23:47:13,956 - WARN  - [BookKeeperClientWorker-OrderedExecutor-1-0:PendingAddOp@350] - Fencing exception on write: L1 E1 on 127.0.0.1:41033
2020-08-10 23:47:13,956 - ERROR - [BookKeeperClientWorker-OrderedExecutor-1-0:LedgerHandle@1758] - Closing ledger 1 due to LedgerFencedException: Ledger has been fenced off. Some other client must have opened it to read
2020-08-10 23:47:13,956 - ERROR - [BookKeeperClientWorker-OrderedExecutor-1-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L1 E1
2020-08-10 23:47:13,959 - INFO  - [Time-limited test-EventThread:MetadataUpdateLoop@150] - UpdateLoop(ledgerId=1,loopId=66d00df6) conflict writing metadata to store, update local value and try again
2020-08-10 23:47:13,963 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36849
2020-08-10 23:47:13,964 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36849
2020-08-10 23:47:13,964 - INFO  - [bookkeeper-io-810-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xdf12bbc0, L:/127.0.0.1:41354 ! R:127.0.0.1/127.0.0.1:36849]
2020-08-10 23:47:13,964 - INFO  - [bookie-io-788-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x8d9f42bd, L:/127.0.0.1:36849 ! R:/127.0.0.1:41354]
2020-08-10 23:47:13,964 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41033
2020-08-10 23:47:13,965 - INFO  - [bookkeeper-io-810-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x9cdd2d63, L:/127.0.0.1:44914 ! R:127.0.0.1/127.0.0.1:41033]
2020-08-10 23:47:13,965 - INFO  - [bookie-io-768-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe5f1233f, L:/127.0.0.1:41033 ! R:/127.0.0.1:44914]
2020-08-10 23:47:13,966 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41033
2020-08-10 23:47:13,966 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41219
2020-08-10 23:47:13,966 - INFO  - [bookkeeper-io-810-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf8e6f6a3, L:/127.0.0.1:45448 ! R:127.0.0.1/127.0.0.1:41219]
2020-08-10 23:47:13,967 - INFO  - [bookie-io-778-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x64461215, L:/127.0.0.1:41219 ! R:/127.0.0.1:45448]
2020-08-10 23:47:13,967 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:41219
2020-08-10 23:47:16,007 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:16,115 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:16,115 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:16,119 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41033 with exitCode 0
2020-08-10 23:47:16,119 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:16,119 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:16,119 - INFO  - [SyncThread-773-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:16,121 - INFO  - [SyncThread-773-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie13109918001904815755test/current/0.log for logId 0.
2020-08-10 23:47:16,126 - INFO  - [pool-533-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie13109918001904815755test/current/1.log for logId 1.
2020-08-10 23:47:16,138 - INFO  - [SyncThread-773-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096032217 , logFileOffset - 35328]}.
2020-08-10 23:47:16,142 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:16,142 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:16,142 - INFO  - [BookieJournal-41033:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:16,143 - INFO  - [BookieJournal-41033:Journal@1144] - Journal exited loop!
2020-08-10 23:47:16,143 - INFO  - [Bookie-41033:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:16,143 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:16,143 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:16,143 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:16,143 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:16,144 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:16,144 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:16,146 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:16,147 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:16,147 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:16,257 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:16,258 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:16,264 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-41219 with exitCode 0
2020-08-10 23:47:16,264 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:16,264 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:16,264 - INFO  - [SyncThread-783-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:16,265 - INFO  - [SyncThread-783-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2701697001599592927test/current/0.log for logId 0.
2020-08-10 23:47:16,267 - INFO  - [pool-540-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2701697001599592927test/current/1.log for logId 1.
2020-08-10 23:47:16,277 - INFO  - [SyncThread-783-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096032526 , logFileOffset - 35840]}.
2020-08-10 23:47:16,280 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:16,281 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:16,281 - INFO  - [BookieJournal-41219:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:16,281 - INFO  - [BookieJournal-41219:Journal@1144] - Journal exited loop!
2020-08-10 23:47:16,281 - INFO  - [Bookie-41219:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:16,281 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:16,282 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:16,282 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:16,282 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:16,282 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:16,282 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:16,285 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:16,285 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:16,286 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:16,395 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:16,395 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:16,397 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36849 with exitCode 0
2020-08-10 23:47:16,398 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:16,398 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:16,398 - INFO  - [SyncThread-793-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:16,400 - INFO  - [SyncThread-793-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11293386434101404615test/current/0.log for logId 0.
2020-08-10 23:47:16,402 - INFO  - [pool-547-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie11293386434101404615test/current/1.log for logId 1.
2020-08-10 23:47:16,414 - INFO  - [SyncThread-793-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096032837 , logFileOffset - 36352]}.
2020-08-10 23:47:16,417 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:16,417 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:16,418 - INFO  - [BookieJournal-36849:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:16,418 - INFO  - [BookieJournal-36849:Journal@1144] - Journal exited loop!
2020-08-10 23:47:16,418 - INFO  - [Bookie-36849:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:16,418 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:16,418 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:16,418 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:16,418 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:16,418 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:16,419 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:16,422 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:16,423 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:16,423 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:16,532 - INFO  - [BookieDeathWatcher-41219:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:16,532 - INFO  - [BookieDeathWatcher-41219:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41219
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:16,533 - INFO  - [BookieDeathWatcher-41219:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:16,533 - INFO  - [BookieDeathWatcher-41219:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:16,533 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:16,534 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:16,538 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35107 with exitCode 0
2020-08-10 23:47:16,538 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:16,538 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:16,539 - INFO  - [SyncThread-803-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:16,542 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:16,544 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:16,544 - INFO  - [BookieJournal-35107:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:16,544 - INFO  - [BookieJournal-35107:Journal@1144] - Journal exited loop!
2020-08-10 23:47:16,545 - INFO  - [Bookie-35107:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:16,545 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:16,545 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:16,546 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:16,764 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadWriteWithV2WireProtocol in 756 ms.
2020-08-10 23:47:16,766 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:16,791 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:16,797 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:16,802 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:16,804 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:16,804 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:16,804 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:16,804 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:16,810 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:16,810 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15335134074678032443test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15335134074678032443test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:16,812 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:16,817 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:16,819 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:16,825 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15335134074678032443test/current] [/tmp/bookie15335134074678032443test/current]
2020-08-10 23:47:16,834 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:16,835 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15335134074678032443test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:16,836 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:16,836 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:16,836 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:16,837 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:16,838 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:16,838 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:16,841 - INFO  - [BookieDeathWatcher-36849:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:16,842 - INFO  - [BookieDeathWatcher-36849:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36849
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:16,842 - INFO  - [BookieDeathWatcher-36849:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:16,842 - INFO  - [BookieDeathWatcher-36849:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:16,861 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39181 to become writable
2020-08-10 23:47:16,862 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:16,863 - INFO  - [SyncThread-825-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:16,867 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:16,871 - INFO  - [BookieJournal-39181:Journal@909] - Starting journal on /tmp/bookie15335134074678032443test/current
2020-08-10 23:47:16,872 - INFO  - [BookieJournal-39181:JournalChannel@157] - Opening journal /tmp/bookie15335134074678032443test/current/173da578a09.txn
2020-08-10 23:47:16,872 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:16,878 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:17,128 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39181' has been created.
2020-08-10 23:47:17,129 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:17,129 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3107620245272353640test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3107620245272353640test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:17,133 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:17,137 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:17,140 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:17,144 - INFO  - [BookieDeathWatcher-35107:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:17,145 - INFO  - [BookieDeathWatcher-35107:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35107
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:17,145 - INFO  - [BookieDeathWatcher-35107:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:17,145 - INFO  - [BookieDeathWatcher-35107:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:17,145 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie3107620245272353640test/current] [/tmp/bookie3107620245272353640test/current]
2020-08-10 23:47:17,153 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:17,154 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie3107620245272353640test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:17,154 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:17,155 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:17,156 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:17,157 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:17,157 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:17,157 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:17,165 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38645 to become writable
2020-08-10 23:47:17,166 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:17,166 - INFO  - [SyncThread-835-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:17,170 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:17,171 - INFO  - [BookieJournal-38645:Journal@909] - Starting journal on /tmp/bookie3107620245272353640test/current
2020-08-10 23:47:17,175 - INFO  - [BookieJournal-38645:JournalChannel@157] - Opening journal /tmp/bookie3107620245272353640test/current/173da578b38.txn
2020-08-10 23:47:17,176 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:17,182 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:17,224 - INFO  - [BookieDeathWatcher-41033:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:17,224 - INFO  - [BookieDeathWatcher-41033:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41033
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:17,224 - INFO  - [BookieDeathWatcher-41033:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:17,224 - INFO  - [BookieDeathWatcher-41033:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:17,434 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38645' has been created.
2020-08-10 23:47:17,435 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:17,436 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2694676070185286497test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2694676070185286497test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:17,438 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:17,442 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:17,445 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:17,452 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2694676070185286497test/current] [/tmp/bookie2694676070185286497test/current]
2020-08-10 23:47:17,459 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:17,460 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2694676070185286497test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:17,460 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:17,461 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:17,461 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:17,462 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:17,462 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:17,462 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:17,475 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40813 to become writable
2020-08-10 23:47:17,476 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:17,477 - INFO  - [SyncThread-845-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:17,480 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:17,481 - INFO  - [BookieJournal-40813:Journal@909] - Starting journal on /tmp/bookie2694676070185286497test/current
2020-08-10 23:47:17,484 - INFO  - [BookieJournal-40813:JournalChannel@157] - Opening journal /tmp/bookie2694676070185286497test/current/173da578c6d.txn
2020-08-10 23:47:17,484 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:17,486 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:17,738 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40813' has been created.
2020-08-10 23:47:17,740 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:17,740 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10778324509046862493test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10778324509046862493test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:17,742 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:17,746 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:17,749 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:17,754 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10778324509046862493test/current] [/tmp/bookie10778324509046862493test/current]
2020-08-10 23:47:17,761 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:17,763 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10778324509046862493test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:17,763 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:17,764 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:17,764 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:17,765 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:17,765 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:17,765 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:17,776 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35467 to become writable
2020-08-10 23:47:17,777 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:17,778 - INFO  - [SyncThread-855-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:17,782 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:17,783 - INFO  - [BookieJournal-35467:Journal@909] - Starting journal on /tmp/bookie10778324509046862493test/current
2020-08-10 23:47:17,784 - INFO  - [BookieJournal-35467:JournalChannel@157] - Opening journal /tmp/bookie10778324509046862493test/current/173da578d99.txn
2020-08-10 23:47:17,784 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:17,789 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:18,039 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35467' has been created.
2020-08-10 23:47:18,040 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testReadAfterLastAddConfirmed @ metadata service zk://localhost:45247/ledgers in 1273 ms.
2020-08-10 23:47:18,043 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:18,047 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:18,049 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:18,050 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:18,050 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:18,050 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:18,052 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:18,052 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:18,052 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:18,052 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:18,053 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:40813, 127.0.0.1:39181, 127.0.0.1:38645] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:18,075 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:40813, 127.0.0.1:39181, 127.0.0.1:38645] for ledger: 0
2020-08-10 23:47:18,083 - INFO  - [bookkeeper-io-862-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x941fbed2, L:/127.0.0.1:39144 - R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:18,084 - INFO  - [bookkeeper-io-862-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40813
2020-08-10 23:47:18,084 - INFO  - [bookkeeper-io-862-1:PerChannelBookieClient$1@471] - connection [id: 0x941fbed2, L:/127.0.0.1:39144 - R:127.0.0.1/127.0.0.1:40813] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:18,084 - INFO  - [bookie-io-840-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:18,085 - INFO  - [bookie-io-840-2:BookieRequestHandler@50] - Channel connected  [id: 0x2c1b5856, L:/127.0.0.1:40813 - R:/127.0.0.1:39144]
2020-08-10 23:47:18,085 - INFO  - [bookkeeper-io-862-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x944b3182, L:/127.0.0.1:42002 - R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:18,088 - INFO  - [bookkeeper-io-862-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39181
2020-08-10 23:47:18,088 - INFO  - [bookie-io-820-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:18,089 - INFO  - [bookie-io-820-2:BookieRequestHandler@50] - Channel connected  [id: 0xf9af8289, L:/127.0.0.1:39181 - R:/127.0.0.1:42002]
2020-08-10 23:47:18,089 - INFO  - [bookkeeper-io-862-2:PerChannelBookieClient$1@471] - connection [id: 0x944b3182, L:/127.0.0.1:42002 - R:127.0.0.1/127.0.0.1:39181] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:18,102 - INFO  - [bookkeeper-io-862-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x060e7fbb, L:/127.0.0.1:55396 - R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:18,102 - INFO  - [bookkeeper-io-862-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38645
2020-08-10 23:47:18,102 - INFO  - [bookkeeper-io-862-3:PerChannelBookieClient$1@471] - connection [id: 0x060e7fbb, L:/127.0.0.1:55396 - R:127.0.0.1/127.0.0.1:38645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:18,103 - INFO  - [bookie-io-830-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:18,103 - INFO  - [bookie-io-830-2:BookieRequestHandler@50] - Channel connected  [id: 0x9228dd2d, L:/127.0.0.1:38645 - R:/127.0.0.1:55396]
2020-08-10 23:47:18,128 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:18,131 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:18,133 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:18,134 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:18,134 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:18,134 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:18,136 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:18,137 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:18,137 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:18,137 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:18,144 - INFO  - [bookkeeper-io-868-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x1a746a32, L:/127.0.0.1:39154 - R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:18,144 - INFO  - [bookkeeper-io-868-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40813
2020-08-10 23:47:18,144 - INFO  - [bookkeeper-io-868-1:PerChannelBookieClient$1@471] - connection [id: 0x1a746a32, L:/127.0.0.1:39154 - R:127.0.0.1/127.0.0.1:40813] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:18,145 - INFO  - [bookie-io-830-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:18,145 - INFO  - [bookie-io-830-3:BookieRequestHandler@50] - Channel connected  [id: 0xb011c491, L:/127.0.0.1:38645 - R:/127.0.0.1:55402]
2020-08-10 23:47:18,146 - INFO  - [bookie-io-840-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:18,146 - INFO  - [bookie-io-840-3:BookieRequestHandler@50] - Channel connected  [id: 0xbccbaaeb, L:/127.0.0.1:40813 - R:/127.0.0.1:39154]
2020-08-10 23:47:18,147 - INFO  - [bookkeeper-io-868-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x5a969385, L:/127.0.0.1:42012 - R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:18,147 - INFO  - [bookie-io-820-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:18,147 - INFO  - [bookkeeper-io-868-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xb953c841, L:/127.0.0.1:55402 - R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:18,147 - INFO  - [bookkeeper-io-868-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38645
2020-08-10 23:47:18,147 - INFO  - [bookkeeper-io-868-3:PerChannelBookieClient$1@471] - connection [id: 0xb953c841, L:/127.0.0.1:55402 - R:127.0.0.1/127.0.0.1:38645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:18,147 - INFO  - [bookkeeper-io-868-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39181
2020-08-10 23:47:18,147 - INFO  - [bookie-io-820-3:BookieRequestHandler@50] - Channel connected  [id: 0x824e846b, L:/127.0.0.1:39181 - R:/127.0.0.1:42012]
2020-08-10 23:47:18,156 - INFO  - [bookkeeper-io-868-2:PerChannelBookieClient$1@471] - connection [id: 0x5a969385, L:/127.0.0.1:42012 - R:127.0.0.1/127.0.0.1:39181] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:18,165 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38645
2020-08-10 23:47:18,165 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40813
2020-08-10 23:47:18,165 - INFO  - [bookkeeper-io-868-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xb953c841, L:/127.0.0.1:55402 ! R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:18,165 - INFO  - [bookkeeper-io-868-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x1a746a32, L:/127.0.0.1:39154 ! R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:18,165 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39181
2020-08-10 23:47:18,167 - INFO  - [bookie-io-840-3:BookieRequestHandler@61] - Channels disconnected: [id: 0xbccbaaeb, L:/127.0.0.1:40813 ! R:/127.0.0.1:39154]
2020-08-10 23:47:18,168 - INFO  - [bookkeeper-io-868-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x5a969385, L:/127.0.0.1:42012 ! R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:18,168 - INFO  - [bookie-io-830-3:BookieRequestHandler@61] - Channels disconnected: [id: 0xb011c491, L:/127.0.0.1:38645 ! R:/127.0.0.1:55402]
2020-08-10 23:47:18,169 - INFO  - [bookie-io-820-3:BookieRequestHandler@61] - Channels disconnected: [id: 0x824e846b, L:/127.0.0.1:39181 ! R:/127.0.0.1:42012]
2020-08-10 23:47:20,272 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:20,276 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:20,278 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:20,278 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:20,278 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:20,278 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:20,280 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:20,280 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:20,280 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:20,280 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:20,292 - INFO  - [bookkeeper-io-874-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x61dd8f09, L:/127.0.0.1:39170 - R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:20,293 - INFO  - [bookkeeper-io-874-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40813
2020-08-10 23:47:20,293 - INFO  - [bookkeeper-io-874-1:PerChannelBookieClient$1@471] - connection [id: 0x61dd8f09, L:/127.0.0.1:39170 - R:127.0.0.1/127.0.0.1:40813] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:20,293 - INFO  - [bookie-io-840-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:20,293 - INFO  - [bookie-io-840-4:BookieRequestHandler@50] - Channel connected  [id: 0x1e127d53, L:/127.0.0.1:40813 - R:/127.0.0.1:39170]
2020-08-10 23:47:20,305 - INFO  - [bookkeeper-io-874-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xc538cc98, L:/127.0.0.1:42026 - R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:20,306 - INFO  - [bookkeeper-io-874-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39181
2020-08-10 23:47:20,306 - INFO  - [bookkeeper-io-874-2:PerChannelBookieClient$1@471] - connection [id: 0xc538cc98, L:/127.0.0.1:42026 - R:127.0.0.1/127.0.0.1:39181] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:20,305 - INFO  - [bookkeeper-io-874-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x3abe318f, L:/127.0.0.1:55420 - R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:20,306 - INFO  - [bookkeeper-io-874-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38645
2020-08-10 23:47:20,306 - INFO  - [bookie-io-820-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:20,317 - INFO  - [bookie-io-820-4:BookieRequestHandler@50] - Channel connected  [id: 0xb2e06f31, L:/127.0.0.1:39181 - R:/127.0.0.1:42026]
2020-08-10 23:47:20,306 - INFO  - [bookie-io-830-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:20,317 - INFO  - [bookie-io-830-4:BookieRequestHandler@50] - Channel connected  [id: 0x06ecde0e, L:/127.0.0.1:38645 - R:/127.0.0.1:55420]
2020-08-10 23:47:20,317 - INFO  - [bookkeeper-io-874-3:PerChannelBookieClient$1@471] - connection [id: 0x3abe318f, L:/127.0.0.1:55420 - R:127.0.0.1/127.0.0.1:38645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:20,318 - ERROR - [Time-limited test:LedgerHandle@688] - ReadException on ledgerId:0 firstEntry:0 lastEntry:4
2020-08-10 23:47:20,331 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp@632] - Read of ledger entry failed: L0 E3-E5, Sent to [127.0.0.1:38645, 127.0.0.1:40813, 127.0.0.1:39181], Heard from [127.0.0.1:40813, 127.0.0.1:39181] : bitset = {0, 1}, Error = 'No such entry'. First unread entry is (-1, rc = null)
2020-08-10 23:47:20,332 - ERROR - [Time-limited test:LedgerHandle@688] - ReadException on ledgerId:0 firstEntry:3 lastEntry:5
2020-08-10 23:47:20,332 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38645
2020-08-10 23:47:20,333 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40813
2020-08-10 23:47:20,333 - INFO  - [bookkeeper-io-874-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x3abe318f, L:/127.0.0.1:55420 ! R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:20,334 - INFO  - [bookkeeper-io-874-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x61dd8f09, L:/127.0.0.1:39170 ! R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:20,334 - INFO  - [bookie-io-830-4:BookieRequestHandler@61] - Channels disconnected: [id: 0x06ecde0e, L:/127.0.0.1:38645 ! R:/127.0.0.1:55420]
2020-08-10 23:47:20,334 - INFO  - [bookie-io-840-4:BookieRequestHandler@61] - Channels disconnected: [id: 0x1e127d53, L:/127.0.0.1:40813 ! R:/127.0.0.1:39170]
2020-08-10 23:47:20,334 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39181
2020-08-10 23:47:20,335 - INFO  - [bookkeeper-io-874-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xc538cc98, L:/127.0.0.1:42026 ! R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:20,337 - INFO  - [bookie-io-820-4:BookieRequestHandler@61] - Channels disconnected: [id: 0xb2e06f31, L:/127.0.0.1:39181 ! R:/127.0.0.1:42026]
2020-08-10 23:47:22,437 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:22,437 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:22,437 - WARN  - [bookkeeper-io-862-2:PerChannelBookieClient@1270] - Exception caught on:[id: 0x944b3182, L:/127.0.0.1:42002 - R:127.0.0.1/127.0.0.1:39181] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:47:22,438 - INFO  - [bookkeeper-io-862-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x944b3182, L:/127.0.0.1:42002 ! R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:22,438 - INFO  - [bookie-io-820-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xf9af8289, L:/127.0.0.1:39181 ! R:/127.0.0.1:42002]
2020-08-10 23:47:22,447 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39181 with exitCode 0
2020-08-10 23:47:22,448 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:22,448 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:22,448 - INFO  - [SyncThread-825-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:22,449 - INFO  - [SyncThread-825-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie15335134074678032443test/current/0.log for logId 0.
2020-08-10 23:47:22,453 - INFO  - [pool-569-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie15335134074678032443test/current/1.log for logId 1.
2020-08-10 23:47:22,460 - INFO  - [SyncThread-825-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096036873 , logFileOffset - 2560]}.
2020-08-10 23:47:22,464 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:22,464 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:22,464 - INFO  - [BookieJournal-39181:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:22,464 - INFO  - [BookieJournal-39181:Journal@1144] - Journal exited loop!
2020-08-10 23:47:22,465 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:22,465 - INFO  - [Bookie-39181:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:22,465 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:22,465 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:22,465 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:22,465 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:22,465 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:22,468 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:22,469 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:22,469 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:22,474 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:22,474 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:22,576 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:22,576 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:22,578 - WARN  - [bookkeeper-io-862-3:PerChannelBookieClient@1270] - Exception caught on:[id: 0x060e7fbb, L:/127.0.0.1:55396 - R:127.0.0.1/127.0.0.1:38645] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:47:22,578 - INFO  - [bookkeeper-io-862-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x060e7fbb, L:/127.0.0.1:55396 ! R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:22,579 - INFO  - [bookie-io-830-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x9228dd2d, L:/127.0.0.1:38645 ! R:/127.0.0.1:55396]
2020-08-10 23:47:22,584 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38645 with exitCode 0
2020-08-10 23:47:22,584 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:22,584 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:22,584 - INFO  - [SyncThread-835-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:22,585 - INFO  - [SyncThread-835-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3107620245272353640test/current/0.log for logId 0.
2020-08-10 23:47:22,589 - INFO  - [pool-576-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3107620245272353640test/current/1.log for logId 1.
2020-08-10 23:47:22,604 - INFO  - [SyncThread-835-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037176 , logFileOffset - 2048]}.
2020-08-10 23:47:22,608 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:22,609 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:22,609 - INFO  - [BookieJournal-38645:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:22,609 - INFO  - [BookieJournal-38645:Journal@1144] - Journal exited loop!
2020-08-10 23:47:22,609 - INFO  - [Bookie-38645:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:22,609 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:22,610 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:22,610 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:22,610 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:22,610 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:22,610 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:22,613 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:22,613 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:22,613 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:22,617 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:22,617 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:22,721 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:22,721 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:22,721 - WARN  - [bookkeeper-io-862-1:PerChannelBookieClient@1270] - Exception caught on:[id: 0x941fbed2, L:/127.0.0.1:39144 - R:127.0.0.1/127.0.0.1:40813] cause: syscall:read(..) failed: Connection reset by peer
2020-08-10 23:47:22,722 - INFO  - [bookkeeper-io-862-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x941fbed2, L:/127.0.0.1:39144 ! R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:22,723 - INFO  - [bookie-io-840-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x2c1b5856, L:/127.0.0.1:40813 ! R:/127.0.0.1:39144]
2020-08-10 23:47:22,728 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40813 with exitCode 0
2020-08-10 23:47:22,728 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:22,728 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:22,728 - INFO  - [SyncThread-845-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:22,729 - INFO  - [SyncThread-845-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2694676070185286497test/current/0.log for logId 0.
2020-08-10 23:47:22,731 - INFO  - [pool-583-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2694676070185286497test/current/1.log for logId 1.
2020-08-10 23:47:22,747 - INFO  - [SyncThread-845-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037485 , logFileOffset - 2048]}.
2020-08-10 23:47:22,751 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:22,752 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:22,752 - INFO  - [BookieJournal-40813:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:22,752 - INFO  - [BookieJournal-40813:Journal@1144] - Journal exited loop!
2020-08-10 23:47:22,753 - INFO  - [Bookie-40813:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:22,753 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:22,753 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:22,753 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:22,753 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:22,753 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:22,753 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:22,759 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:22,760 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:22,760 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:22,868 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:22,868 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:22,870 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:22,870 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:22,877 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35467 with exitCode 0
2020-08-10 23:47:22,877 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:22,878 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:22,878 - INFO  - [SyncThread-855-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:22,880 - INFO  - [BookieDeathWatcher-39181:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:22,880 - INFO  - [BookieDeathWatcher-39181:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39181
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:22,880 - INFO  - [BookieDeathWatcher-39181:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:22,880 - INFO  - [BookieDeathWatcher-39181:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:22,882 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:22,882 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:22,882 - INFO  - [BookieJournal-35467:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:22,882 - INFO  - [BookieJournal-35467:Journal@1144] - Journal exited loop!
2020-08-10 23:47:22,882 - INFO  - [Bookie-35467:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:22,882 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:22,883 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:22,888 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:22,888 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:23,187 - INFO  - [BookieDeathWatcher-38645:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:23,187 - INFO  - [BookieDeathWatcher-38645:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38645
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:23,188 - INFO  - [BookieDeathWatcher-38645:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:23,188 - INFO  - [BookieDeathWatcher-38645:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:23,497 - INFO  - [BookieDeathWatcher-40813:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:23,497 - INFO  - [BookieDeathWatcher-40813:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40813
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:23,497 - INFO  - [BookieDeathWatcher-40813:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:23,497 - INFO  - [BookieDeathWatcher-40813:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:23,799 - INFO  - [BookieDeathWatcher-35467:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:23,800 - INFO  - [BookieDeathWatcher-35467:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35467
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:23,800 - INFO  - [BookieDeathWatcher-35467:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:23,800 - INFO  - [BookieDeathWatcher-35467:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:23,995 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "39181",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15335134074678032443test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15335134074678032443test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:23,999 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:24,002 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:24,005 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:24,024 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:24,025 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:24,026 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:24,027 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:24,028 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:24,028 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:24,028 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:24,036 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39181 to become writable
2020-08-10 23:47:24,037 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597096036873 from position 2560
2020-08-10 23:47:24,038 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie15335134074678032443test/current/173da578a09.txn
2020-08-10 23:47:24,039 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 2 ms.
2020-08-10 23:47:24,039 - INFO  - [SyncThread-883-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096036873 , logFileOffset - 2564]}.
2020-08-10 23:47:24,043 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:24,044 - INFO  - [BookieJournal-39181:Journal@909] - Starting journal on /tmp/bookie15335134074678032443test/current
2020-08-10 23:47:24,045 - INFO  - [BookieJournal-39181:JournalChannel@157] - Opening journal /tmp/bookie15335134074678032443test/current/173da578a0a.txn
2020-08-10 23:47:24,045 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:24,053 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:24,053 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:24,302 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39181' has been created.
2020-08-10 23:47:24,303 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "38645",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie3107620245272353640test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie3107620245272353640test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:24,306 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:24,310 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:24,313 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:24,321 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:24,323 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:24,323 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:24,323 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:24,324 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:24,324 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:24,325 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:24,346 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:38645 to become writable
2020-08-10 23:47:24,346 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597096037176 from position 2048
2020-08-10 23:47:24,346 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie3107620245272353640test/current/173da578b38.txn
2020-08-10 23:47:24,347 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:47:24,347 - INFO  - [SyncThread-893-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037176 , logFileOffset - 2052]}.
2020-08-10 23:47:24,351 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:24,353 - INFO  - [BookieJournal-38645:Journal@909] - Starting journal on /tmp/bookie3107620245272353640test/current
2020-08-10 23:47:24,354 - INFO  - [BookieJournal-38645:JournalChannel@157] - Opening journal /tmp/bookie3107620245272353640test/current/173da578b39.txn
2020-08-10 23:47:24,354 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:24,358 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:24,358 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:24,610 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38645' has been created.
2020-08-10 23:47:24,611 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "40813",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2694676070185286497test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2694676070185286497test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:24,613 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:24,617 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:24,620 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:24,628 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:24,630 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:24,631 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:24,632 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:24,633 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:24,633 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:24,633 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:24,664 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40813 to become writable
2020-08-10 23:47:24,665 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597096037485 from position 2048
2020-08-10 23:47:24,665 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie2694676070185286497test/current/173da578c6d.txn
2020-08-10 23:47:24,665 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:24,666 - INFO  - [SyncThread-903-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037485 , logFileOffset - 2052]}.
2020-08-10 23:47:24,669 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:24,671 - INFO  - [BookieJournal-40813:Journal@909] - Starting journal on /tmp/bookie2694676070185286497test/current
2020-08-10 23:47:24,672 - INFO  - [BookieJournal-40813:JournalChannel@157] - Opening journal /tmp/bookie2694676070185286497test/current/173da578c6e.txn
2020-08-10 23:47:24,672 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:24,677 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:24,677 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:24,929 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40813' has been created.
2020-08-10 23:47:24,929 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "35467",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10778324509046862493test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:45247/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10778324509046862493test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:24,934 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:24,941 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:24,943 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:24,960 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:24,962 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:24,962 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:24,963 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:24,963 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:24,964 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:24,964 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:24,974 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:35467 to become writable
2020-08-10 23:47:24,975 - INFO  - [Time-limited test:Bookie@931] - Replaying journal 1597096037785 from position 0
2020-08-10 23:47:24,975 - INFO  - [Time-limited test:JournalChannel@157] - Opening journal /tmp/bookie10778324509046862493test/current/173da578d99.txn
2020-08-10 23:47:24,976 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 2 ms.
2020-08-10 23:47:24,976 - INFO  - [SyncThread-913-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037785 , logFileOffset - 516]}.
2020-08-10 23:47:24,979 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:24,981 - INFO  - [BookieJournal-35467:Journal@909] - Starting journal on /tmp/bookie10778324509046862493test/current
2020-08-10 23:47:24,981 - INFO  - [BookieJournal-35467:JournalChannel@157] - Opening journal /tmp/bookie10778324509046862493test/current/173da578d9a.txn
2020-08-10 23:47:24,982 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:24,987 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:24,987 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:25,045 - INFO  - [GarbageCollectorThread-884-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:47:25,053 - INFO  - [GarbageCollectorThread-884-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:47:25,056 - INFO  - [GarbageCollectorThread-884-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:47:25,057 - INFO  - [GarbageCollectorThread-884-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:47:25,242 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35467' has been created.
2020-08-10 23:47:25,245 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:25,249 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:25,251 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:25,251 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:25,252 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:25,252 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:25,254 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:25,254 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:25,255 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:25,255 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:25,261 - INFO  - [bookie-io-898-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:25,265 - INFO  - [bookkeeper-io-920-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xb97d60ac, L:/127.0.0.1:39204 - R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:25,265 - INFO  - [bookkeeper-io-920-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40813
2020-08-10 23:47:25,265 - INFO  - [bookkeeper-io-920-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd53c47ad, L:/127.0.0.1:42060 - R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:25,265 - INFO  - [bookkeeper-io-920-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39181
2020-08-10 23:47:25,265 - INFO  - [bookkeeper-io-920-1:PerChannelBookieClient$1@471] - connection [id: 0xb97d60ac, L:/127.0.0.1:39204 - R:127.0.0.1/127.0.0.1:40813] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:25,265 - INFO  - [bookkeeper-io-920-2:PerChannelBookieClient$1@471] - connection [id: 0xd53c47ad, L:/127.0.0.1:42060 - R:127.0.0.1/127.0.0.1:39181] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:25,269 - INFO  - [bookie-io-898-2:BookieRequestHandler@50] - Channel connected  [id: 0xcb400a58, L:/127.0.0.1:40813 - R:/127.0.0.1:39204]
2020-08-10 23:47:25,274 - INFO  - [bookkeeper-io-920-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x94ffaf19, L:/127.0.0.1:55454 - R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:25,274 - INFO  - [bookkeeper-io-920-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38645
2020-08-10 23:47:25,274 - INFO  - [bookkeeper-io-920-3:PerChannelBookieClient$1@471] - connection [id: 0x94ffaf19, L:/127.0.0.1:55454 - R:127.0.0.1/127.0.0.1:38645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:25,275 - INFO  - [bookie-io-888-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:25,275 - INFO  - [bookie-io-888-2:BookieRequestHandler@50] - Channel connected  [id: 0x10fc7a71, L:/127.0.0.1:38645 - R:/127.0.0.1:55454]
2020-08-10 23:47:25,275 - INFO  - [bookie-io-878-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:25,278 - INFO  - [bookie-io-878-2:BookieRequestHandler@50] - Channel connected  [id: 0xe4bda5de, L:/127.0.0.1:39181 - R:/127.0.0.1:42060]
2020-08-10 23:47:25,283 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38645
2020-08-10 23:47:25,284 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40813
2020-08-10 23:47:25,284 - INFO  - [bookie-io-888-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x10fc7a71, L:/127.0.0.1:38645 ! R:/127.0.0.1:55454]
2020-08-10 23:47:25,284 - INFO  - [bookkeeper-io-920-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xb97d60ac, L:/127.0.0.1:39204 ! R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:25,284 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39181
2020-08-10 23:47:25,284 - INFO  - [bookkeeper-io-920-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x94ffaf19, L:/127.0.0.1:55454 ! R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:25,289 - INFO  - [bookie-io-898-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xcb400a58, L:/127.0.0.1:40813 ! R:/127.0.0.1:39204]
2020-08-10 23:47:25,289 - INFO  - [bookie-io-878-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xe4bda5de, L:/127.0.0.1:39181 ! R:/127.0.0.1:42060]
2020-08-10 23:47:25,289 - INFO  - [bookkeeper-io-920-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xd53c47ad, L:/127.0.0.1:42060 ! R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:25,355 - INFO  - [GarbageCollectorThread-894-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:47:25,355 - INFO  - [GarbageCollectorThread-894-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:47:25,356 - INFO  - [GarbageCollectorThread-894-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:47:25,356 - INFO  - [GarbageCollectorThread-894-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:47:25,672 - INFO  - [GarbageCollectorThread-904-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 0
2020-08-10 23:47:25,672 - INFO  - [GarbageCollectorThread-904-1:EntryLogger@1043] - Failed to get ledgers map index from: 0.log : No ledgers map index found on entryLogId0
2020-08-10 23:47:25,673 - INFO  - [GarbageCollectorThread-904-1:GarbageCollectorThread@553] - Extracting entry log meta from entryLogId: 1
2020-08-10 23:47:25,673 - INFO  - [GarbageCollectorThread-904-1:EntryLogger@1043] - Failed to get ledgers map index from: 1.log : readerIndex(0) + length(4) exceeds writerIndex(0): UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeDirectByteBuf(ridx: 0, widx: 0, cap: 1024)
2020-08-10 23:47:27,391 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:27,396 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:27,398 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:27,399 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:27,399 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:27,399 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:27,402 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:27,402 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:27,403 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:27,403 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:27,409 - INFO  - [bookkeeper-io-926-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x03ef8051, L:/127.0.0.1:39222 - R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:27,409 - INFO  - [bookkeeper-io-926-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40813
2020-08-10 23:47:27,409 - INFO  - [bookkeeper-io-926-1:PerChannelBookieClient$1@471] - connection [id: 0x03ef8051, L:/127.0.0.1:39222 - R:127.0.0.1/127.0.0.1:40813] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:27,414 - INFO  - [bookie-io-878-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:27,413 - INFO  - [bookkeeper-io-926-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xb35e7fe4, L:/127.0.0.1:42078 - R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:27,417 - INFO  - [bookkeeper-io-926-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39181
2020-08-10 23:47:27,417 - INFO  - [bookkeeper-io-926-2:PerChannelBookieClient$1@471] - connection [id: 0xb35e7fe4, L:/127.0.0.1:42078 - R:127.0.0.1/127.0.0.1:39181] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:27,417 - INFO  - [bookie-io-878-3:BookieRequestHandler@50] - Channel connected  [id: 0x368690c9, L:/127.0.0.1:39181 - R:/127.0.0.1:42078]
2020-08-10 23:47:27,416 - INFO  - [bookie-io-898-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:27,416 - INFO  - [bookkeeper-io-926-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x5a35a67b, L:/127.0.0.1:55472 - R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:27,428 - INFO  - [bookkeeper-io-926-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38645
2020-08-10 23:47:27,428 - INFO  - [bookie-io-898-3:BookieRequestHandler@50] - Channel connected  [id: 0x95cdd234, L:/127.0.0.1:40813 - R:/127.0.0.1:39222]
2020-08-10 23:47:27,424 - INFO  - [bookie-io-888-3:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:27,428 - INFO  - [bookkeeper-io-926-3:PerChannelBookieClient$1@471] - connection [id: 0x5a35a67b, L:/127.0.0.1:55472 - R:127.0.0.1/127.0.0.1:38645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:27,433 - ERROR - [Time-limited test:LedgerHandle@688] - ReadException on ledgerId:0 firstEntry:0 lastEntry:4
2020-08-10 23:47:27,433 - INFO  - [bookie-io-888-3:BookieRequestHandler@50] - Channel connected  [id: 0x153c0dd4, L:/127.0.0.1:38645 - R:/127.0.0.1:55472]
2020-08-10 23:47:27,445 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingReadOp@632] - Read of ledger entry failed: L0 E3-E5, Sent to [127.0.0.1:38645, 127.0.0.1:40813, 127.0.0.1:39181], Heard from [127.0.0.1:39181, 127.0.0.1:40813] : bitset = {0, 1}, Error = 'No such entry'. First unread entry is (-1, rc = null)
2020-08-10 23:47:27,445 - ERROR - [Time-limited test:LedgerHandle@688] - ReadException on ledgerId:0 firstEntry:3 lastEntry:5
2020-08-10 23:47:27,445 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38645
2020-08-10 23:47:27,446 - INFO  - [bookkeeper-io-926-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x5a35a67b, L:/127.0.0.1:55472 ! R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:27,446 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40813
2020-08-10 23:47:27,447 - INFO  - [bookkeeper-io-926-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x03ef8051, L:/127.0.0.1:39222 ! R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:27,447 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39181
2020-08-10 23:47:27,448 - INFO  - [bookie-io-898-3:BookieRequestHandler@61] - Channels disconnected: [id: 0x95cdd234, L:/127.0.0.1:40813 ! R:/127.0.0.1:39222]
2020-08-10 23:47:27,447 - INFO  - [bookie-io-888-3:BookieRequestHandler@61] - Channels disconnected: [id: 0x153c0dd4, L:/127.0.0.1:38645 ! R:/127.0.0.1:55472]
2020-08-10 23:47:27,448 - INFO  - [bookie-io-878-3:BookieRequestHandler@61] - Channels disconnected: [id: 0x368690c9, L:/127.0.0.1:39181 ! R:/127.0.0.1:42078]
2020-08-10 23:47:27,448 - INFO  - [bookkeeper-io-926-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xb35e7fe4, L:/127.0.0.1:42078 ! R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:29,559 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45247/ledgers : zkServers = localhost:45247, ledgersRootPath = /ledgers.
2020-08-10 23:47:29,570 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:29,572 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:29,573 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:29,573 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:29,573 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:29,575 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38645
2020-08-10 23:47:29,576 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35467
2020-08-10 23:47:29,576 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39181
2020-08-10 23:47:29,576 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40813
2020-08-10 23:47:29,588 - INFO  - [bookkeeper-io-932-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x0d5de67f, L:/127.0.0.1:39238 - R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:29,589 - INFO  - [bookkeeper-io-932-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:40813
2020-08-10 23:47:29,589 - INFO  - [bookie-io-898-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:29,590 - INFO  - [bookie-io-898-4:BookieRequestHandler@50] - Channel connected  [id: 0x136538bd, L:/127.0.0.1:40813 - R:/127.0.0.1:39238]
2020-08-10 23:47:29,589 - INFO  - [bookie-io-878-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:29,591 - INFO  - [bookie-io-878-4:BookieRequestHandler@50] - Channel connected  [id: 0xc9bce5fa, L:/127.0.0.1:39181 - R:/127.0.0.1:42094]
2020-08-10 23:47:29,589 - INFO  - [bookkeeper-io-932-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x866d0572, L:/127.0.0.1:55488 - R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:29,591 - INFO  - [bookkeeper-io-932-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:38645
2020-08-10 23:47:29,589 - INFO  - [bookkeeper-io-932-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x85b9cb82, L:/127.0.0.1:42094 - R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:29,591 - INFO  - [bookkeeper-io-932-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:39181
2020-08-10 23:47:29,591 - INFO  - [bookkeeper-io-932-3:PerChannelBookieClient$1@471] - connection [id: 0x866d0572, L:/127.0.0.1:55488 - R:127.0.0.1/127.0.0.1:38645] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:29,590 - INFO  - [bookkeeper-io-932-1:PerChannelBookieClient$1@471] - connection [id: 0x0d5de67f, L:/127.0.0.1:39238 - R:127.0.0.1/127.0.0.1:40813] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:29,589 - INFO  - [bookie-io-888-4:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:29,591 - INFO  - [bookkeeper-io-932-2:PerChannelBookieClient$1@471] - connection [id: 0x85b9cb82, L:/127.0.0.1:42094 - R:127.0.0.1/127.0.0.1:39181] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:29,592 - INFO  - [bookie-io-888-4:BookieRequestHandler@50] - Channel connected  [id: 0xe274f548, L:/127.0.0.1:38645 - R:/127.0.0.1:55488]
2020-08-10 23:47:29,593 - INFO  - [BookieHighPriorityThread-38645-OrderedExecutor-0-0:ReadEntryProcessorV3@208] - Ledger fence request received for ledger: 0 from address: /127.0.0.1:55488
2020-08-10 23:47:29,593 - INFO  - [BookieHighPriorityThread-39181-OrderedExecutor-0-0:ReadEntryProcessorV3@208] - Ledger fence request received for ledger: 0 from address: /127.0.0.1:42094
2020-08-10 23:47:29,593 - INFO  - [BookieHighPriorityThread-40813-OrderedExecutor-0-0:ReadEntryProcessorV3@208] - Ledger fence request received for ledger: 0 from address: /127.0.0.1:39238
2020-08-10 23:47:29,612 - INFO  - [BookKeeperClientWorker-OrderedExecutor-0-0:ReadOnlyLedgerHandle@309] - Closing recovered ledger 0 at entry 4
2020-08-10 23:47:29,620 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38645
2020-08-10 23:47:29,620 - INFO  - [bookkeeper-io-932-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x866d0572, L:/127.0.0.1:55488 ! R:127.0.0.1/127.0.0.1:38645]
2020-08-10 23:47:29,621 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40813
2020-08-10 23:47:29,621 - INFO  - [bookie-io-888-4:BookieRequestHandler@61] - Channels disconnected: [id: 0xe274f548, L:/127.0.0.1:38645 ! R:/127.0.0.1:55488]
2020-08-10 23:47:29,622 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39181
2020-08-10 23:47:29,622 - INFO  - [bookie-io-898-4:BookieRequestHandler@61] - Channels disconnected: [id: 0x136538bd, L:/127.0.0.1:40813 ! R:/127.0.0.1:39238]
2020-08-10 23:47:29,622 - INFO  - [bookkeeper-io-932-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x85b9cb82, L:/127.0.0.1:42094 ! R:127.0.0.1/127.0.0.1:39181]
2020-08-10 23:47:29,622 - INFO  - [bookie-io-878-4:BookieRequestHandler@61] - Channels disconnected: [id: 0xc9bce5fa, L:/127.0.0.1:39181 ! R:/127.0.0.1:42094]
2020-08-10 23:47:29,622 - INFO  - [bookkeeper-io-932-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x0d5de67f, L:/127.0.0.1:39238 ! R:127.0.0.1/127.0.0.1:40813]
2020-08-10 23:47:31,734 - INFO  - [Time-limited test-EventThread:MetadataUpdateLoop@150] - UpdateLoop(ledgerId=0,loopId=341daef7) conflict writing metadata to store, update local value and try again
2020-08-10 23:47:31,736 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:38645
2020-08-10 23:47:31,736 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:40813
2020-08-10 23:47:31,737 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:39181
2020-08-10 23:47:31,843 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:31,956 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:31,956 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:31,959 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39181 with exitCode 0
2020-08-10 23:47:31,959 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:31,959 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:31,959 - INFO  - [SyncThread-883-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:31,960 - INFO  - [SyncThread-883-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie15335134074678032443test/current/2.log for logId 2.
2020-08-10 23:47:31,963 - INFO  - [pool-606-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie15335134074678032443test/current/3.log for logId 3.
2020-08-10 23:47:31,969 - INFO  - [SyncThread-883-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096036874 , logFileOffset - 1536]}.
2020-08-10 23:47:31,972 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:31,972 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:31,973 - INFO  - [BookieJournal-39181:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:31,973 - INFO  - [BookieJournal-39181:Journal@1144] - Journal exited loop!
2020-08-10 23:47:31,973 - INFO  - [Bookie-39181:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:31,974 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:31,974 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:31,974 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:31,974 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:31,974 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:31,974 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:31,977 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:31,977 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:31,977 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:32,089 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:32,090 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:32,095 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38645 with exitCode 0
2020-08-10 23:47:32,095 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:32,095 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:32,096 - INFO  - [SyncThread-893-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:32,096 - INFO  - [SyncThread-893-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3107620245272353640test/current/2.log for logId 2.
2020-08-10 23:47:32,098 - INFO  - [pool-613-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie3107620245272353640test/current/3.log for logId 3.
2020-08-10 23:47:32,113 - INFO  - [SyncThread-893-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037177 , logFileOffset - 1536]}.
2020-08-10 23:47:32,117 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:32,117 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:32,117 - INFO  - [BookieJournal-38645:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:32,118 - INFO  - [BookieJournal-38645:Journal@1144] - Journal exited loop!
2020-08-10 23:47:32,118 - INFO  - [Bookie-38645:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:32,118 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:32,118 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:32,118 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:32,118 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:32,118 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:32,118 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:32,121 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:32,121 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:32,122 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:32,228 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:32,230 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:32,232 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40813 with exitCode 0
2020-08-10 23:47:32,233 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:32,233 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:32,233 - INFO  - [SyncThread-903-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037486 , logFileOffset - 1024]}.
2020-08-10 23:47:32,237 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:32,237 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:32,237 - INFO  - [BookieJournal-40813:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:32,237 - INFO  - [BookieJournal-40813:Journal@1144] - Journal exited loop!
2020-08-10 23:47:32,238 - INFO  - [Bookie-40813:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:32,238 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:32,238 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:32,239 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:32,239 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:32,239 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:32,239 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:32,239 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:32,240 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:32,240 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:32,346 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:32,347 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:32,351 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-35467 with exitCode 0
2020-08-10 23:47:32,352 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:32,352 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:32,352 - INFO  - [SyncThread-913-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096037785 , logFileOffset - 516]}.
2020-08-10 23:47:32,356 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:32,356 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:32,356 - INFO  - [BookieJournal-35467:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:32,356 - INFO  - [BookieJournal-35467:Journal@1144] - Journal exited loop!
2020-08-10 23:47:32,357 - INFO  - [Bookie-35467:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:32,357 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:32,358 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:32,358 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:32,391 - INFO  - [BookieDeathWatcher-38645:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:32,392 - INFO  - [BookieDeathWatcher-38645:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38645
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:32,392 - INFO  - [BookieDeathWatcher-38645:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:32,392 - INFO  - [BookieDeathWatcher-38645:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:32,576 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testReadAfterLastAddConfirmed in 732 ms.
2020-08-10 23:47:32,578 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:32,594 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:32,601 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:32,607 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:32,609 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:32,610 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:32,611 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:32,612 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:32,618 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:32,619 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1510295198660337606test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1510295198660337606test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:32,623 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:32,632 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:32,634 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:32,640 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1510295198660337606test/current] [/tmp/bookie1510295198660337606test/current]
2020-08-10 23:47:32,648 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:32,650 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1510295198660337606test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:32,650 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:32,651 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:32,651 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:32,653 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:32,654 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:32,654 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:32,661 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:41331 to become writable
2020-08-10 23:47:32,661 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:32,662 - INFO  - [SyncThread-947-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:32,665 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:32,666 - INFO  - [BookieJournal-41331:Journal@909] - Starting journal on /tmp/bookie1510295198660337606test/current
2020-08-10 23:47:32,667 - INFO  - [BookieJournal-41331:JournalChannel@157] - Opening journal /tmp/bookie1510295198660337606test/current/173da57c7bc.txn
2020-08-10 23:47:32,667 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:32,672 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41331
2020-08-10 23:47:32,683 - INFO  - [BookieDeathWatcher-40813:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:32,683 - INFO  - [BookieDeathWatcher-40813:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40813
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:32,683 - INFO  - [BookieDeathWatcher-40813:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:32,683 - INFO  - [BookieDeathWatcher-40813:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:32,926 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41331' has been created.
2020-08-10 23:47:32,927 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:32,928 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11419762356279183609test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11419762356279183609test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:32,937 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:32,942 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:32,944 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:32,950 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11419762356279183609test/current] [/tmp/bookie11419762356279183609test/current]
2020-08-10 23:47:32,964 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:32,966 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11419762356279183609test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:32,966 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:32,966 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:32,966 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:32,968 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:32,968 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:32,969 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:32,976 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43659 to become writable
2020-08-10 23:47:32,977 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:32,977 - INFO  - [SyncThread-957-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:32,981 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:32,983 - INFO  - [BookieJournal-43659:Journal@909] - Starting journal on /tmp/bookie11419762356279183609test/current
2020-08-10 23:47:32,984 - INFO  - [BookieJournal-43659:JournalChannel@157] - Opening journal /tmp/bookie11419762356279183609test/current/173da57c8f9.txn
2020-08-10 23:47:32,984 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:32,988 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43659
2020-08-10 23:47:32,999 - INFO  - [BookieDeathWatcher-35467:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:32,999 - INFO  - [BookieDeathWatcher-35467:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35467
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:32,999 - INFO  - [BookieDeathWatcher-35467:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:32,999 - INFO  - [BookieDeathWatcher-35467:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:33,058 - INFO  - [BookieDeathWatcher-39181:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:33,058 - INFO  - [BookieDeathWatcher-39181:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39181
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:33,058 - INFO  - [BookieDeathWatcher-39181:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:33,058 - INFO  - [BookieDeathWatcher-39181:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:33,238 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43659' has been created.
2020-08-10 23:47:33,240 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:33,240 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10236975855671150984test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10236975855671150984test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:33,242 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:33,247 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:33,251 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:33,257 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10236975855671150984test/current] [/tmp/bookie10236975855671150984test/current]
2020-08-10 23:47:33,265 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:33,267 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10236975855671150984test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:33,267 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:33,268 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:33,268 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:33,269 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:33,270 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:33,270 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:33,277 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45349 to become writable
2020-08-10 23:47:33,277 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:33,278 - INFO  - [SyncThread-967-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:33,282 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:33,284 - INFO  - [BookieJournal-45349:Journal@909] - Starting journal on /tmp/bookie10236975855671150984test/current
2020-08-10 23:47:33,284 - INFO  - [BookieJournal-45349:JournalChannel@157] - Opening journal /tmp/bookie10236975855671150984test/current/173da57ca25.txn
2020-08-10 23:47:33,284 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:33,288 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45349
2020-08-10 23:47:33,538 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45349' has been created.
2020-08-10 23:47:33,539 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:33,540 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7423851035545124995test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7423851035545124995test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:33,542 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:33,547 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:33,549 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:33,555 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7423851035545124995test/current] [/tmp/bookie7423851035545124995test/current]
2020-08-10 23:47:33,561 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:33,563 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7423851035545124995test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:33,563 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:33,563 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:33,563 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:33,565 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:33,565 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:33,565 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:33,573 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39977 to become writable
2020-08-10 23:47:33,573 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:33,574 - INFO  - [SyncThread-977-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:33,578 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:33,580 - INFO  - [BookieJournal-39977:Journal@909] - Starting journal on /tmp/bookie7423851035545124995test/current
2020-08-10 23:47:33,580 - INFO  - [BookieJournal-39977:JournalChannel@157] - Opening journal /tmp/bookie7423851035545124995test/current/173da57cb4d.txn
2020-08-10 23:47:33,580 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:33,588 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:33,838 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39977' has been created.
2020-08-10 23:47:33,839 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testCloseDuringOp @ metadata service zk://localhost:35559/ledgers in 1260 ms.
2020-08-10 23:47:33,841 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:33,845 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:33,846 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:33,847 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:33,847 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:33,847 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:33,848 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43659
2020-08-10 23:47:33,849 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45349
2020-08-10 23:47:33,849 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:33,849 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41331
2020-08-10 23:47:33,852 - WARN  - [Thread-9:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:41331, 127.0.0.1:39977, 127.0.0.1:45349] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:33,874 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:41331, 127.0.0.1:39977, 127.0.0.1:45349] for ledger: 0
2020-08-10 23:47:33,875 - INFO  - [Thread-9:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:33,875 - INFO  - [Thread-9:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie894441763152739407test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie894441763152739407test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:33,877 - INFO  - [Thread-9:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:33,882 - INFO  - [Thread-9-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:33,884 - INFO  - [Thread-9:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:33,888 - INFO  - [Thread-9:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie894441763152739407test/current] [/tmp/bookie894441763152739407test/current]
2020-08-10 23:47:33,896 - INFO  - [Thread-9:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:33,898 - ERROR - [Thread-9:Journal$LastLogMark@251] - Problems reading from /tmp/bookie894441763152739407test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:33,898 - INFO  - [Thread-9:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:33,898 - INFO  - [Thread-9:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:33,898 - INFO  - [Thread-9:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:33,899 - INFO  - [Thread-9:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:33,899 - INFO  - [Thread-9:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:33,899 - INFO  - [Thread-9:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:33,906 - INFO  - [Thread-9:BookKeeperTestClient@90] - Wait for 127.0.0.1:33377 to become writable
2020-08-10 23:47:33,907 - INFO  - [Thread-9:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:33,908 - INFO  - [SyncThread-993-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:33,912 - INFO  - [Thread-9:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:33,913 - INFO  - [BookieJournal-33377:Journal@909] - Starting journal on /tmp/bookie894441763152739407test/current
2020-08-10 23:47:33,913 - INFO  - [BookieJournal-33377:JournalChannel@157] - Opening journal /tmp/bookie894441763152739407test/current/173da57cc9a.txn
2020-08-10 23:47:33,914 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:33,919 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:33,919 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:34,175 - INFO  - [Thread-9:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33377' has been created.
2020-08-10 23:47:34,177 - INFO  - [Thread-9:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:34,177 - INFO  - [Thread-9:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:34,180 - INFO  - [Thread-9:Bookie@1176] - Shutting down Bookie-41331 with exitCode 0
2020-08-10 23:47:34,180 - INFO  - [Thread-9:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:34,180 - INFO  - [Thread-9:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:34,180 - INFO  - [SyncThread-947-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:34,184 - INFO  - [Thread-9:Journal@1159] - Shutting down Journal
2020-08-10 23:47:34,184 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:34,184 - INFO  - [BookieJournal-41331:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:34,184 - INFO  - [BookieJournal-41331:Journal@1144] - Journal exited loop!
2020-08-10 23:47:34,185 - INFO  - [Bookie-41331:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:34,185 - INFO  - [Thread-9:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:34,185 - INFO  - [Thread-9:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:34,185 - INFO  - [Thread-9:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:34,185 - INFO  - [Thread-9:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:34,185 - INFO  - [Thread-9:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:34,185 - INFO  - [Thread-9:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:34,185 - INFO  - [Thread-9:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:34,185 - INFO  - [Thread-9:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:34,185 - INFO  - [Thread-9:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:34,190 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41331
2020-08-10 23:47:34,190 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41331
2020-08-10 23:47:34,296 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L0 E0
2020-08-10 23:47:34,407 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:34,411 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:34,413 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:34,413 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:34,413 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:34,413 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:34,415 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:34,416 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43659
2020-08-10 23:47:34,416 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45349
2020-08-10 23:47:34,416 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:34,417 - WARN  - [Thread-10:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:45349, 127.0.0.1:33377, 127.0.0.1:39977] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:34,429 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:45349, 127.0.0.1:33377, 127.0.0.1:39977] for ledger: 1
2020-08-10 23:47:34,430 - INFO  - [Thread-10:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:34,430 - INFO  - [Thread-10:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie16581043603952470264test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie16581043603952470264test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:34,432 - INFO  - [Thread-10:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:34,436 - INFO  - [Thread-10-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:34,442 - INFO  - [Thread-10:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:34,452 - INFO  - [Thread-10:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie16581043603952470264test/current] [/tmp/bookie16581043603952470264test/current]
2020-08-10 23:47:34,460 - INFO  - [Thread-10:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:34,462 - ERROR - [Thread-10:Journal$LastLogMark@251] - Problems reading from /tmp/bookie16581043603952470264test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:34,462 - INFO  - [Thread-10:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:34,462 - INFO  - [Thread-10:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:34,463 - INFO  - [Thread-10:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:34,463 - INFO  - [Thread-10:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:34,464 - INFO  - [Thread-10:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:34,464 - INFO  - [Thread-10:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:34,478 - INFO  - [Thread-10:BookKeeperTestClient@90] - Wait for 127.0.0.1:44975 to become writable
2020-08-10 23:47:34,479 - INFO  - [Thread-10:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:34,480 - INFO  - [SyncThread-1009-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:34,483 - INFO  - [Thread-10:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:34,486 - INFO  - [BookieJournal-44975:Journal@909] - Starting journal on /tmp/bookie16581043603952470264test/current
2020-08-10 23:47:34,487 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:34,487 - INFO  - [BookieJournal-44975:JournalChannel@157] - Opening journal /tmp/bookie16581043603952470264test/current/173da57ced8.txn
2020-08-10 23:47:34,491 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:34,491 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:34,674 - INFO  - [BookieDeathWatcher-41331:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:34,674 - INFO  - [BookieDeathWatcher-41331:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41331
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:34,674 - INFO  - [BookieDeathWatcher-41331:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:34,674 - INFO  - [BookieDeathWatcher-41331:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:34,740 - INFO  - [Thread-10:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:44975' has been created.
2020-08-10 23:47:34,741 - INFO  - [Thread-10:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:34,742 - INFO  - [Thread-10:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:34,746 - INFO  - [Thread-10:Bookie@1176] - Shutting down Bookie-43659 with exitCode 0
2020-08-10 23:47:34,746 - INFO  - [Thread-10:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:34,746 - INFO  - [Thread-10:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:34,746 - INFO  - [SyncThread-957-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:34,749 - INFO  - [Thread-10:Journal@1159] - Shutting down Journal
2020-08-10 23:47:34,750 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:34,750 - INFO  - [BookieJournal-43659:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:34,750 - INFO  - [BookieJournal-43659:Journal@1144] - Journal exited loop!
2020-08-10 23:47:34,750 - INFO  - [Bookie-43659:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:34,750 - INFO  - [Thread-10:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:34,750 - INFO  - [Thread-10:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:34,751 - INFO  - [Thread-10:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:34,751 - INFO  - [Thread-10:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:34,751 - INFO  - [Thread-10:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:34,751 - INFO  - [Thread-10:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:34,751 - INFO  - [Thread-10:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:34,751 - INFO  - [Thread-10:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:34,751 - INFO  - [Thread-10:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:34,756 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:43659
2020-08-10 23:47:34,756 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:43659
2020-08-10 23:47:34,862 - ERROR - [BookKeeperClientWorker-OrderedExecutor-1-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L1 E0
2020-08-10 23:47:34,988 - INFO  - [BookieDeathWatcher-43659:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:34,989 - INFO  - [BookieDeathWatcher-43659:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43659
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:34,989 - INFO  - [BookieDeathWatcher-43659:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:34,989 - INFO  - [BookieDeathWatcher-43659:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:34,990 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:34,993 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:34,996 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:34,997 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:34,997 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:34,997 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:34,999 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:34,999 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45349
2020-08-10 23:47:34,999 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:34,999 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:35,005 - WARN  - [Thread-11:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:33377, 127.0.0.1:44975, 127.0.0.1:39977] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:35,012 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:33377, 127.0.0.1:44975, 127.0.0.1:39977] for ledger: 2
2020-08-10 23:47:35,013 - INFO  - [Thread-11:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:35,014 - INFO  - [Thread-11:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie11671523775424955310test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie11671523775424955310test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:35,017 - INFO  - [Thread-11:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:35,026 - INFO  - [Thread-11-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:35,028 - INFO  - [Thread-11:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:35,034 - INFO  - [Thread-11:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie11671523775424955310test/current] [/tmp/bookie11671523775424955310test/current]
2020-08-10 23:47:35,041 - INFO  - [Thread-11:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:35,043 - ERROR - [Thread-11:Journal$LastLogMark@251] - Problems reading from /tmp/bookie11671523775424955310test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:35,043 - INFO  - [Thread-11:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:35,043 - INFO  - [Thread-11:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:35,044 - INFO  - [Thread-11:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:35,045 - INFO  - [Thread-11:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:35,045 - INFO  - [Thread-11:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:35,045 - INFO  - [Thread-11:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:35,055 - INFO  - [Thread-11:BookKeeperTestClient@90] - Wait for 127.0.0.1:41805 to become writable
2020-08-10 23:47:35,056 - INFO  - [Thread-11:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:35,056 - INFO  - [SyncThread-1025-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:35,060 - INFO  - [Thread-11:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:35,061 - INFO  - [BookieJournal-41805:Journal@909] - Starting journal on /tmp/bookie11671523775424955310test/current
2020-08-10 23:47:35,062 - INFO  - [BookieJournal-41805:JournalChannel@157] - Opening journal /tmp/bookie11671523775424955310test/current/173da57d117.txn
2020-08-10 23:47:35,062 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:35,067 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:35,067 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:35,316 - INFO  - [Thread-11:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:41805' has been created.
2020-08-10 23:47:35,317 - INFO  - [Thread-11:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:35,317 - INFO  - [Thread-11:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:35,321 - INFO  - [Thread-11:Bookie@1176] - Shutting down Bookie-45349 with exitCode 0
2020-08-10 23:47:35,321 - INFO  - [Thread-11:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:35,321 - INFO  - [Thread-11:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:35,321 - INFO  - [SyncThread-967-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:35,325 - INFO  - [Thread-11:Journal@1159] - Shutting down Journal
2020-08-10 23:47:35,325 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:35,325 - INFO  - [BookieJournal-45349:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:35,326 - INFO  - [BookieJournal-45349:Journal@1144] - Journal exited loop!
2020-08-10 23:47:35,326 - INFO  - [Bookie-45349:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:35,326 - INFO  - [Thread-11:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:35,327 - INFO  - [Thread-11:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:35,327 - INFO  - [Thread-11:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:35,327 - INFO  - [Thread-11:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:35,327 - INFO  - [Thread-11:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:35,327 - INFO  - [Thread-11:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:35,327 - INFO  - [Thread-11:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:35,327 - INFO  - [Thread-11:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:35,327 - INFO  - [Thread-11:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:35,331 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:45349
2020-08-10 23:47:35,332 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:45349
2020-08-10 23:47:35,439 - ERROR - [BookKeeperClientWorker-OrderedExecutor-2-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L2 E0
2020-08-10 23:47:35,549 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:35,554 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:35,555 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:35,555 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:35,555 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:35,555 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:35,557 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:35,557 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:35,557 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:35,557 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:35,558 - WARN  - [Thread-12:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:33377, 127.0.0.1:39977, 127.0.0.1:44975] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:35,565 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:33377, 127.0.0.1:39977, 127.0.0.1:44975] for ledger: 3
2020-08-10 23:47:35,566 - INFO  - [Thread-12:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:35,567 - INFO  - [Thread-12:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7321758873747819463test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7321758873747819463test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:35,571 - INFO  - [Thread-12:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:35,575 - INFO  - [Thread-12-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:35,578 - INFO  - [Thread-12:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:35,583 - INFO  - [Thread-12:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7321758873747819463test/current] [/tmp/bookie7321758873747819463test/current]
2020-08-10 23:47:35,593 - INFO  - [Thread-12:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:35,595 - ERROR - [Thread-12:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7321758873747819463test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:35,595 - INFO  - [Thread-12:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:35,595 - INFO  - [Thread-12:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:35,596 - INFO  - [Thread-12:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:35,597 - INFO  - [Thread-12:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:35,597 - INFO  - [Thread-12:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:35,597 - INFO  - [Thread-12:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:35,604 - INFO  - [Thread-12:BookKeeperTestClient@90] - Wait for 127.0.0.1:33743 to become writable
2020-08-10 23:47:35,605 - INFO  - [Thread-12:Bookie@901] - Finished replaying journal in 1 ms.
2020-08-10 23:47:35,605 - INFO  - [SyncThread-1041-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:35,608 - INFO  - [Thread-12:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:35,610 - INFO  - [BookieJournal-33743:Journal@909] - Starting journal on /tmp/bookie7321758873747819463test/current
2020-08-10 23:47:35,610 - INFO  - [BookieJournal-33743:JournalChannel@157] - Opening journal /tmp/bookie7321758873747819463test/current/173da57d33b.txn
2020-08-10 23:47:35,611 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:35,616 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:35,616 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:35,866 - INFO  - [Thread-12:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33743' has been created.
2020-08-10 23:47:35,867 - INFO  - [Thread-12:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:35,868 - INFO  - [Thread-12:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:35,871 - INFO  - [Thread-12:Bookie@1176] - Shutting down Bookie-39977 with exitCode 0
2020-08-10 23:47:35,871 - INFO  - [Thread-12:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:35,871 - INFO  - [Thread-12:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:35,871 - INFO  - [SyncThread-977-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:35,875 - INFO  - [Thread-12:Journal@1159] - Shutting down Journal
2020-08-10 23:47:35,875 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:35,875 - INFO  - [BookieJournal-39977:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:35,876 - INFO  - [BookieJournal-39977:Journal@1144] - Journal exited loop!
2020-08-10 23:47:35,876 - INFO  - [Bookie-39977:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:35,876 - INFO  - [Thread-12:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:35,876 - INFO  - [Thread-12:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:35,876 - INFO  - [Thread-12:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:35,876 - INFO  - [Thread-12:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:35,876 - INFO  - [Thread-12:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:35,876 - INFO  - [Thread-12:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:35,876 - INFO  - [Thread-12:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:35,876 - INFO  - [Thread-12:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:35,876 - INFO  - [Thread-12:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:35,880 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:35,880 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:39977
2020-08-10 23:47:35,985 - ERROR - [BookKeeperClientWorker-OrderedExecutor-3-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L3 E0
2020-08-10 23:47:36,095 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:36,099 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:36,101 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:36,101 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:36,101 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:36,101 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:36,104 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:36,104 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:36,104 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:36,104 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:36,106 - WARN  - [Thread-13:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:41805, 127.0.0.1:33743, 127.0.0.1:44975] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:36,114 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:41805, 127.0.0.1:33743, 127.0.0.1:44975] for ledger: 4
2020-08-10 23:47:36,114 - INFO  - [Thread-13:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:36,114 - INFO  - [Thread-13:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9796207404980945491test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9796207404980945491test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:36,117 - INFO  - [Thread-13:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:36,122 - INFO  - [Thread-13-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:36,124 - INFO  - [Thread-13:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:36,130 - INFO  - [Thread-13:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9796207404980945491test/current] [/tmp/bookie9796207404980945491test/current]
2020-08-10 23:47:36,154 - INFO  - [Thread-13:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:36,156 - ERROR - [Thread-13:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9796207404980945491test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:36,156 - INFO  - [Thread-13:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:36,157 - INFO  - [Thread-13:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:36,157 - INFO  - [Thread-13:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:36,158 - INFO  - [Thread-13:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:36,158 - INFO  - [Thread-13:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:36,159 - INFO  - [Thread-13:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:36,197 - INFO  - [Thread-13:BookKeeperTestClient@90] - Wait for 127.0.0.1:35445 to become writable
2020-08-10 23:47:36,200 - INFO  - [Thread-13:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:36,200 - INFO  - [SyncThread-1057-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:36,205 - INFO  - [Thread-13:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:36,206 - INFO  - [BookieJournal-35445:Journal@909] - Starting journal on /tmp/bookie9796207404980945491test/current
2020-08-10 23:47:36,207 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:36,207 - INFO  - [BookieJournal-35445:JournalChannel@157] - Opening journal /tmp/bookie9796207404980945491test/current/173da57d590.txn
2020-08-10 23:47:36,214 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:36,215 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:36,293 - INFO  - [BookieDeathWatcher-45349:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:36,293 - INFO  - [BookieDeathWatcher-45349:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45349
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:36,293 - INFO  - [BookieDeathWatcher-45349:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:36,293 - INFO  - [BookieDeathWatcher-45349:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:36,464 - INFO  - [Thread-13:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:35445' has been created.
2020-08-10 23:47:36,465 - INFO  - [Thread-13:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:36,465 - INFO  - [Thread-13:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:36,468 - INFO  - [Thread-13:Bookie@1176] - Shutting down Bookie-33377 with exitCode 0
2020-08-10 23:47:36,468 - INFO  - [Thread-13:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:36,469 - INFO  - [Thread-13:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:36,469 - INFO  - [SyncThread-993-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:36,473 - INFO  - [Thread-13:Journal@1159] - Shutting down Journal
2020-08-10 23:47:36,473 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:36,473 - INFO  - [BookieJournal-33377:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:36,473 - INFO  - [BookieJournal-33377:Journal@1144] - Journal exited loop!
2020-08-10 23:47:36,473 - INFO  - [Bookie-33377:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:36,473 - INFO  - [Thread-13:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:36,474 - INFO  - [Thread-13:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:36,474 - INFO  - [Thread-13:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:36,474 - INFO  - [Thread-13:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:36,474 - INFO  - [Thread-13:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:36,474 - INFO  - [Thread-13:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:36,474 - INFO  - [Thread-13:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:36,474 - INFO  - [Thread-13:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:36,474 - INFO  - [Thread-13:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:36,479 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:36,479 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33377
2020-08-10 23:47:36,583 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L4 E0
2020-08-10 23:47:36,590 - INFO  - [BookieDeathWatcher-39977:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:36,590 - INFO  - [BookieDeathWatcher-39977:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39977
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:36,590 - INFO  - [BookieDeathWatcher-39977:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:36,590 - INFO  - [BookieDeathWatcher-39977:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:36,695 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:36,700 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:36,701 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:36,701 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:36,701 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:36,701 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:36,703 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:36,703 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:36,704 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:36,704 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:36,705 - WARN  - [Thread-14:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:44975, 127.0.0.1:41805, 127.0.0.1:35445] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:36,718 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:44975, 127.0.0.1:41805, 127.0.0.1:35445] for ledger: 5
2020-08-10 23:47:36,719 - INFO  - [Thread-14:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:36,719 - INFO  - [Thread-14:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6289869385966489473test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6289869385966489473test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:36,722 - INFO  - [Thread-14:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:36,732 - INFO  - [Thread-14-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:36,734 - INFO  - [Thread-14:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:36,740 - INFO  - [Thread-14:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6289869385966489473test/current] [/tmp/bookie6289869385966489473test/current]
2020-08-10 23:47:36,748 - INFO  - [Thread-14:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:36,749 - ERROR - [Thread-14:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6289869385966489473test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:36,749 - INFO  - [Thread-14:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:36,749 - INFO  - [Thread-14:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:36,750 - INFO  - [Thread-14:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:36,751 - INFO  - [Thread-14:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:36,751 - INFO  - [Thread-14:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:36,751 - INFO  - [Thread-14:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:36,758 - INFO  - [Thread-14:BookKeeperTestClient@90] - Wait for 127.0.0.1:36451 to become writable
2020-08-10 23:47:36,759 - INFO  - [Thread-14:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:36,759 - INFO  - [SyncThread-1073-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:36,762 - INFO  - [Thread-14:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:36,763 - INFO  - [BookieJournal-36451:Journal@909] - Starting journal on /tmp/bookie6289869385966489473test/current
2020-08-10 23:47:36,764 - INFO  - [BookieJournal-36451:JournalChannel@157] - Opening journal /tmp/bookie6289869385966489473test/current/173da57d7bd.txn
2020-08-10 23:47:36,765 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:36,771 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:36,771 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:36,925 - INFO  - [BookieDeathWatcher-33377:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:36,925 - INFO  - [BookieDeathWatcher-33377:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33377
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:36,925 - INFO  - [BookieDeathWatcher-33377:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:36,925 - INFO  - [BookieDeathWatcher-33377:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:37,021 - INFO  - [Thread-14:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36451' has been created.
2020-08-10 23:47:37,022 - INFO  - [Thread-14:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:37,022 - INFO  - [Thread-14:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:37,026 - INFO  - [Thread-14:Bookie@1176] - Shutting down Bookie-44975 with exitCode 0
2020-08-10 23:47:37,026 - INFO  - [Thread-14:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:37,026 - INFO  - [Thread-14:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:37,026 - INFO  - [SyncThread-1009-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:37,029 - INFO  - [Thread-14:Journal@1159] - Shutting down Journal
2020-08-10 23:47:37,029 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:37,029 - INFO  - [BookieJournal-44975:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:37,030 - INFO  - [BookieJournal-44975:Journal@1144] - Journal exited loop!
2020-08-10 23:47:37,030 - INFO  - [Bookie-44975:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:37,030 - INFO  - [Thread-14:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:37,030 - INFO  - [Thread-14:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:37,030 - INFO  - [Thread-14:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:37,030 - INFO  - [Thread-14:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:37,030 - INFO  - [Thread-14:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:37,030 - INFO  - [Thread-14:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:37,031 - INFO  - [Thread-14:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:37,031 - INFO  - [Thread-14:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:37,031 - INFO  - [Thread-14:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:37,036 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:44975
2020-08-10 23:47:37,141 - ERROR - [BookKeeperClientWorker-OrderedExecutor-1-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L5 E0
2020-08-10 23:47:37,254 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:37,259 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:37,260 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:37,261 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:37,261 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:37,261 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:37,263 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:37,263 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:37,263 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:37,263 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:37,268 - WARN  - [Thread-15:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:35445, 127.0.0.1:33743, 127.0.0.1:41805] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:37,276 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:35445, 127.0.0.1:33743, 127.0.0.1:41805] for ledger: 6
2020-08-10 23:47:37,276 - INFO  - [Thread-15:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:37,277 - INFO  - [Thread-15:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15231393701514316027test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15231393701514316027test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:37,281 - INFO  - [Thread-15:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:37,287 - INFO  - [Thread-15-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:37,289 - INFO  - [Thread-15:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:37,295 - INFO  - [Thread-15:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15231393701514316027test/current] [/tmp/bookie15231393701514316027test/current]
2020-08-10 23:47:37,303 - INFO  - [Thread-15:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:37,304 - ERROR - [Thread-15:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15231393701514316027test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:37,305 - INFO  - [Thread-15:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:37,305 - INFO  - [Thread-15:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:37,306 - INFO  - [Thread-15:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:37,307 - INFO  - [Thread-15:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:37,307 - INFO  - [Thread-15:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:37,307 - INFO  - [Thread-15:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:37,344 - INFO  - [Thread-15:BookKeeperTestClient@90] - Wait for 127.0.0.1:38075 to become writable
2020-08-10 23:47:37,345 - INFO  - [Thread-15:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:37,345 - INFO  - [SyncThread-1089-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:37,350 - INFO  - [Thread-15:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:37,351 - INFO  - [BookieJournal-38075:Journal@909] - Starting journal on /tmp/bookie15231393701514316027test/current
2020-08-10 23:47:37,351 - INFO  - [BookieJournal-38075:JournalChannel@157] - Opening journal /tmp/bookie15231393701514316027test/current/173da57da08.txn
2020-08-10 23:47:37,351 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:37,358 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38075
2020-08-10 23:47:37,358 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38075
2020-08-10 23:47:37,493 - INFO  - [BookieDeathWatcher-44975:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:37,493 - INFO  - [BookieDeathWatcher-44975:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-44975
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:37,493 - INFO  - [BookieDeathWatcher-44975:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:37,493 - INFO  - [BookieDeathWatcher-44975:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:37,608 - INFO  - [Thread-15:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:38075' has been created.
2020-08-10 23:47:37,609 - INFO  - [Thread-15:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:37,609 - INFO  - [Thread-15:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:37,612 - INFO  - [Thread-15:Bookie@1176] - Shutting down Bookie-41805 with exitCode 0
2020-08-10 23:47:37,612 - INFO  - [Thread-15:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:37,612 - INFO  - [Thread-15:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:37,613 - INFO  - [SyncThread-1025-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:37,616 - INFO  - [Thread-15:Journal@1159] - Shutting down Journal
2020-08-10 23:47:37,616 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:37,617 - INFO  - [BookieJournal-41805:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:37,617 - INFO  - [BookieJournal-41805:Journal@1144] - Journal exited loop!
2020-08-10 23:47:37,617 - INFO  - [Bookie-41805:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:37,617 - INFO  - [Thread-15:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:37,617 - INFO  - [Thread-15:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:37,617 - INFO  - [Thread-15:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:37,617 - INFO  - [Thread-15:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:37,617 - INFO  - [Thread-15:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:37,617 - INFO  - [Thread-15:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:37,617 - INFO  - [Thread-15:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:37,617 - INFO  - [Thread-15:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:37,618 - INFO  - [Thread-15:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:37,622 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:37,622 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:41805
2020-08-10 23:47:37,725 - ERROR - [BookKeeperClientWorker-OrderedExecutor-2-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L6 E0
2020-08-10 23:47:37,842 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:37,845 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:37,848 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:37,849 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:37,849 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:37,849 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:37,851 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:37,851 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38075
2020-08-10 23:47:37,851 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:37,851 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:37,853 - WARN  - [Thread-16:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:35445, 127.0.0.1:38075, 127.0.0.1:36451] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:37,862 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:35445, 127.0.0.1:38075, 127.0.0.1:36451] for ledger: 7
2020-08-10 23:47:37,862 - INFO  - [Thread-16:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:37,863 - INFO  - [Thread-16:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie12297441088788855551test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie12297441088788855551test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:37,867 - INFO  - [Thread-16:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:37,871 - INFO  - [Thread-16-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:37,873 - INFO  - [Thread-16:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:37,879 - INFO  - [Thread-16:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie12297441088788855551test/current] [/tmp/bookie12297441088788855551test/current]
2020-08-10 23:47:37,887 - INFO  - [Thread-16:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:37,893 - ERROR - [Thread-16:Journal$LastLogMark@251] - Problems reading from /tmp/bookie12297441088788855551test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:37,893 - INFO  - [Thread-16:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:37,894 - INFO  - [Thread-16:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:37,894 - INFO  - [Thread-16:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:37,895 - INFO  - [Thread-16:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:37,895 - INFO  - [Thread-16:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:37,895 - INFO  - [Thread-16:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:37,902 - INFO  - [Thread-16:BookKeeperTestClient@90] - Wait for 127.0.0.1:34899 to become writable
2020-08-10 23:47:37,902 - INFO  - [Thread-16:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:37,903 - INFO  - [SyncThread-1105-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:37,907 - INFO  - [Thread-16:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:37,908 - INFO  - [BookieJournal-34899:Journal@909] - Starting journal on /tmp/bookie12297441088788855551test/current
2020-08-10 23:47:37,908 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:37,909 - INFO  - [BookieJournal-34899:JournalChannel@157] - Opening journal /tmp/bookie12297441088788855551test/current/173da57dc36.txn
2020-08-10 23:47:37,916 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34899
2020-08-10 23:47:37,916 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34899
2020-08-10 23:47:38,073 - INFO  - [BookieDeathWatcher-41805:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:38,073 - INFO  - [BookieDeathWatcher-41805:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41805
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:38,073 - INFO  - [BookieDeathWatcher-41805:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:38,073 - INFO  - [BookieDeathWatcher-41805:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:38,166 - INFO  - [Thread-16:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34899' has been created.
2020-08-10 23:47:38,168 - INFO  - [Thread-16:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:38,168 - INFO  - [Thread-16:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:38,170 - INFO  - [Thread-16:Bookie@1176] - Shutting down Bookie-33743 with exitCode 0
2020-08-10 23:47:38,170 - INFO  - [Thread-16:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:38,170 - INFO  - [Thread-16:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:38,171 - INFO  - [SyncThread-1041-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:38,175 - INFO  - [Thread-16:Journal@1159] - Shutting down Journal
2020-08-10 23:47:38,175 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:38,175 - INFO  - [BookieJournal-33743:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:38,175 - INFO  - [BookieJournal-33743:Journal@1144] - Journal exited loop!
2020-08-10 23:47:38,176 - INFO  - [Bookie-33743:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:38,176 - INFO  - [Thread-16:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:38,176 - INFO  - [Thread-16:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:38,176 - INFO  - [Thread-16:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:38,176 - INFO  - [Thread-16:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:38,176 - INFO  - [Thread-16:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:38,176 - INFO  - [Thread-16:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:38,176 - INFO  - [Thread-16:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:38,176 - INFO  - [Thread-16:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:38,176 - INFO  - [Thread-16:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:38,182 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:38,182 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:33743
2020-08-10 23:47:38,288 - ERROR - [BookKeeperClientWorker-OrderedExecutor-3-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L7 E0
2020-08-10 23:47:38,398 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:38,402 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:38,404 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:38,405 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:38,405 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:38,405 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:38,408 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:38,408 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38075
2020-08-10 23:47:38,408 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34899
2020-08-10 23:47:38,408 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:38,410 - WARN  - [Thread-17:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:34899, 127.0.0.1:38075, 127.0.0.1:36451] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:38,417 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:34899, 127.0.0.1:38075, 127.0.0.1:36451] for ledger: 8
2020-08-10 23:47:38,417 - INFO  - [Thread-17:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:38,418 - INFO  - [Thread-17:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9152312243321832466test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9152312243321832466test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:38,420 - INFO  - [Thread-17:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:38,425 - INFO  - [Thread-17-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:38,426 - INFO  - [Thread-17:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:38,433 - INFO  - [Thread-17:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9152312243321832466test/current] [/tmp/bookie9152312243321832466test/current]
2020-08-10 23:47:38,440 - INFO  - [Thread-17:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:38,442 - ERROR - [Thread-17:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9152312243321832466test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:38,442 - INFO  - [Thread-17:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:38,442 - INFO  - [Thread-17:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:38,442 - INFO  - [Thread-17:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:38,443 - INFO  - [Thread-17:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:38,443 - INFO  - [Thread-17:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:38,443 - INFO  - [Thread-17:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:38,474 - INFO  - [Thread-17:BookKeeperTestClient@90] - Wait for 127.0.0.1:34821 to become writable
2020-08-10 23:47:38,474 - INFO  - [Thread-17:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:38,475 - INFO  - [SyncThread-1121-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:38,479 - INFO  - [Thread-17:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:38,480 - INFO  - [BookieJournal-34821:Journal@909] - Starting journal on /tmp/bookie9152312243321832466test/current
2020-08-10 23:47:38,481 - INFO  - [BookieJournal-34821:JournalChannel@157] - Opening journal /tmp/bookie9152312243321832466test/current/173da57de72.txn
2020-08-10 23:47:38,482 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:38,487 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34821
2020-08-10 23:47:38,487 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34821
2020-08-10 23:47:38,617 - INFO  - [BookieDeathWatcher-33743:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:38,617 - INFO  - [BookieDeathWatcher-33743:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33743
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:38,617 - INFO  - [BookieDeathWatcher-33743:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:38,617 - INFO  - [BookieDeathWatcher-33743:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:38,744 - INFO  - [Thread-17:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:34821' has been created.
2020-08-10 23:47:38,745 - INFO  - [Thread-17:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:38,745 - INFO  - [Thread-17:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:38,748 - INFO  - [Thread-17:Bookie@1176] - Shutting down Bookie-35445 with exitCode 0
2020-08-10 23:47:38,748 - INFO  - [Thread-17:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:38,748 - INFO  - [Thread-17:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:38,748 - INFO  - [SyncThread-1057-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:38,752 - INFO  - [Thread-17:Journal@1159] - Shutting down Journal
2020-08-10 23:47:38,752 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:38,753 - INFO  - [BookieJournal-35445:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:38,753 - INFO  - [BookieJournal-35445:Journal@1144] - Journal exited loop!
2020-08-10 23:47:38,753 - INFO  - [Bookie-35445:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:38,753 - INFO  - [Thread-17:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:38,753 - INFO  - [Thread-17:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:38,753 - INFO  - [Thread-17:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:38,753 - INFO  - [Thread-17:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:38,754 - INFO  - [Thread-17:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:38,754 - INFO  - [Thread-17:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:38,754 - INFO  - [Thread-17:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:38,754 - INFO  - [Thread-17:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:38,754 - INFO  - [Thread-17:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:38,757 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:38,761 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:35445
2020-08-10 23:47:38,863 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L8 E0
2020-08-10 23:47:38,972 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:38,976 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:38,977 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:38,978 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:38,978 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:38,978 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:38,982 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34821
2020-08-10 23:47:38,982 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:38075
2020-08-10 23:47:38,982 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:34899
2020-08-10 23:47:38,982 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:38,984 - WARN  - [Thread-18:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:38075, 127.0.0.1:34899, 127.0.0.1:36451] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:38,990 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:38075, 127.0.0.1:34899, 127.0.0.1:36451] for ledger: 9
2020-08-10 23:47:38,990 - INFO  - [Thread-18:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:38,991 - INFO  - [Thread-18:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2622994852189053572test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:35559/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2622994852189053572test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:38,995 - INFO  - [Thread-18:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35559/ledgers : zkServers = localhost:35559, ledgersRootPath = /ledgers.
2020-08-10 23:47:39,000 - INFO  - [Thread-18-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:39,003 - INFO  - [Thread-18:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:39,018 - INFO  - [Thread-18:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2622994852189053572test/current] [/tmp/bookie2622994852189053572test/current]
2020-08-10 23:47:39,026 - INFO  - [Thread-18:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:39,027 - ERROR - [Thread-18:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2622994852189053572test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:39,027 - INFO  - [Thread-18:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:39,027 - INFO  - [Thread-18:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:39,028 - INFO  - [Thread-18:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:39,029 - INFO  - [Thread-18:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:39,029 - INFO  - [Thread-18:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:39,029 - INFO  - [Thread-18:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:39,039 - INFO  - [Thread-18:BookKeeperTestClient@90] - Wait for 127.0.0.1:33561 to become writable
2020-08-10 23:47:39,040 - INFO  - [Thread-18:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:39,040 - INFO  - [SyncThread-1137-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:39,043 - INFO  - [Thread-18:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:39,045 - INFO  - [BookieJournal-33561:Journal@909] - Starting journal on /tmp/bookie2622994852189053572test/current
2020-08-10 23:47:39,045 - INFO  - [BookieJournal-33561:JournalChannel@157] - Opening journal /tmp/bookie2622994852189053572test/current/173da57e0a6.txn
2020-08-10 23:47:39,046 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:39,051 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33561
2020-08-10 23:47:39,051 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:33561
2020-08-10 23:47:39,216 - INFO  - [BookieDeathWatcher-35445:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:39,216 - INFO  - [BookieDeathWatcher-35445:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-35445
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:39,216 - INFO  - [BookieDeathWatcher-35445:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,217 - INFO  - [BookieDeathWatcher-35445:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:39,301 - INFO  - [Thread-18:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:33561' has been created.
2020-08-10 23:47:39,302 - INFO  - [Thread-18:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,302 - INFO  - [Thread-18:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:39,305 - INFO  - [Thread-18:Bookie@1176] - Shutting down Bookie-36451 with exitCode 0
2020-08-10 23:47:39,306 - INFO  - [Thread-18:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:39,306 - INFO  - [Thread-18:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:39,306 - INFO  - [SyncThread-1073-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:39,310 - INFO  - [Thread-18:Journal@1159] - Shutting down Journal
2020-08-10 23:47:39,310 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:39,311 - INFO  - [BookieJournal-36451:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:39,311 - INFO  - [BookieJournal-36451:Journal@1144] - Journal exited loop!
2020-08-10 23:47:39,311 - INFO  - [Bookie-36451:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:39,311 - INFO  - [Thread-18:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:39,311 - INFO  - [Thread-18:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:39,311 - INFO  - [Thread-18:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:39,311 - INFO  - [Thread-18:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:39,311 - INFO  - [Thread-18:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:39,311 - INFO  - [Thread-18:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:39,312 - INFO  - [Thread-18:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:39,312 - INFO  - [Thread-18:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:39,312 - INFO  - [Thread-18:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:39,317 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:39,320 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@498] - Removing a node: /default-rack/127.0.0.1:36451
2020-08-10 23:47:39,421 - ERROR - [BookKeeperClientWorker-OrderedExecutor-1-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L9 E0
2020-08-10 23:47:39,531 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:39,637 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,638 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:39,641 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-38075 with exitCode 0
2020-08-10 23:47:39,641 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:39,641 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:39,641 - INFO  - [SyncThread-1089-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:39,645 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:39,646 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:39,646 - INFO  - [BookieJournal-38075:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:39,646 - INFO  - [BookieJournal-38075:Journal@1144] - Journal exited loop!
2020-08-10 23:47:39,646 - INFO  - [Bookie-38075:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:39,647 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:39,648 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:39,648 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:39,757 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,758 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:39,772 - INFO  - [BookieDeathWatcher-36451:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:39,773 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34899 with exitCode 0
2020-08-10 23:47:39,773 - INFO  - [BookieDeathWatcher-36451:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-36451
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:39,773 - INFO  - [BookieDeathWatcher-36451:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,773 - INFO  - [BookieDeathWatcher-36451:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:39,773 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:39,774 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:39,774 - INFO  - [SyncThread-1105-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:39,778 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:39,778 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:39,778 - INFO  - [BookieJournal-34899:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:39,778 - INFO  - [BookieJournal-34899:Journal@1144] - Journal exited loop!
2020-08-10 23:47:39,779 - INFO  - [Bookie-34899:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:39,780 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:39,780 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:39,780 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:39,780 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:39,781 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:39,781 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:39,781 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:39,781 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:39,781 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:39,886 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,886 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:39,892 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-34821 with exitCode 0
2020-08-10 23:47:39,892 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:39,892 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:39,892 - INFO  - [SyncThread-1121-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:39,896 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:39,896 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:39,896 - INFO  - [BookieJournal-34821:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:39,897 - INFO  - [BookieJournal-34821:Journal@1144] - Journal exited loop!
2020-08-10 23:47:39,897 - INFO  - [Bookie-34821:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:39,897 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:39,916 - INFO  - [BookieDeathWatcher-34899:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:39,916 - INFO  - [BookieDeathWatcher-34899:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34899
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:39,916 - INFO  - [BookieDeathWatcher-34899:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:39,916 - INFO  - [BookieDeathWatcher-34899:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:40,001 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:40,002 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:40,006 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-33561 with exitCode 0
2020-08-10 23:47:40,006 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:40,006 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:40,007 - INFO  - [SyncThread-1137-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:40,010 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:40,011 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:40,011 - INFO  - [BookieJournal-33561:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:40,011 - INFO  - [BookieJournal-33561:Journal@1144] - Journal exited loop!
2020-08-10 23:47:40,011 - INFO  - [Bookie-33561:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:40,011 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:40,012 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:40,239 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testCloseDuringOp in 708 ms.
2020-08-10 23:47:40,241 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:40,262 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:40,270 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43743/ledgers : zkServers = localhost:43743, ledgersRootPath = /ledgers.
2020-08-10 23:47:40,273 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:40,279 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:40,280 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:40,280 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:40,280 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:40,285 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:40,286 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie2176444642046567331test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43743/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie2176444642046567331test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:40,288 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43743/ledgers : zkServers = localhost:43743, ledgersRootPath = /ledgers.
2020-08-10 23:47:40,292 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:40,294 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:40,300 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie2176444642046567331test/current] [/tmp/bookie2176444642046567331test/current]
2020-08-10 23:47:40,309 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:40,310 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie2176444642046567331test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:40,310 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:40,310 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:40,311 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:40,312 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:40,312 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:40,312 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:40,320 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:37601 to become writable
2020-08-10 23:47:40,320 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:40,321 - INFO  - [SyncThread-1153-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:40,324 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:40,325 - INFO  - [BookieJournal-37601:Journal@909] - Starting journal on /tmp/bookie2176444642046567331test/current
2020-08-10 23:47:40,326 - INFO  - [BookieJournal-37601:JournalChannel@157] - Opening journal /tmp/bookie2176444642046567331test/current/173da57e5a7.txn
2020-08-10 23:47:40,327 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:40,332 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37601
2020-08-10 23:47:40,364 - INFO  - [BookieDeathWatcher-38075:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:40,364 - INFO  - [BookieDeathWatcher-38075:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-38075
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:40,364 - INFO  - [BookieDeathWatcher-38075:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:40,364 - INFO  - [BookieDeathWatcher-38075:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:40,492 - INFO  - [BookieDeathWatcher-34821:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:40,492 - INFO  - [BookieDeathWatcher-34821:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34821
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:40,492 - INFO  - [BookieDeathWatcher-34821:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:40,492 - INFO  - [BookieDeathWatcher-34821:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:40,582 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:37601' has been created.
2020-08-10 23:47:40,584 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:40,585 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9224774417571193770test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43743/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9224774417571193770test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:40,587 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43743/ledgers : zkServers = localhost:43743, ledgersRootPath = /ledgers.
2020-08-10 23:47:40,592 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:40,595 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:40,601 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9224774417571193770test/current] [/tmp/bookie9224774417571193770test/current]
2020-08-10 23:47:40,608 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:40,609 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9224774417571193770test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:40,609 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:40,609 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:40,610 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:40,611 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:40,611 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:40,611 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:40,618 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:39297 to become writable
2020-08-10 23:47:40,619 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:40,619 - INFO  - [SyncThread-1163-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:40,623 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:40,624 - INFO  - [BookieJournal-39297:Journal@909] - Starting journal on /tmp/bookie9224774417571193770test/current
2020-08-10 23:47:40,625 - INFO  - [BookieJournal-39297:JournalChannel@157] - Opening journal /tmp/bookie9224774417571193770test/current/173da57e6d2.txn
2020-08-10 23:47:40,625 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:40,631 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39297
2020-08-10 23:47:40,887 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:39297' has been created.
2020-08-10 23:47:40,889 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:40,889 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie6811173362171500056test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43743/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie6811173362171500056test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:40,892 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43743/ledgers : zkServers = localhost:43743, ledgersRootPath = /ledgers.
2020-08-10 23:47:40,897 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:40,900 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:40,908 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie6811173362171500056test/current] [/tmp/bookie6811173362171500056test/current]
2020-08-10 23:47:40,916 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:40,918 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie6811173362171500056test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:40,918 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:40,919 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:40,919 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:40,921 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:40,921 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:40,922 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:40,940 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:40329 to become writable
2020-08-10 23:47:40,941 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:40,942 - INFO  - [SyncThread-1173-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:40,946 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:40,948 - INFO  - [BookieJournal-40329:Journal@909] - Starting journal on /tmp/bookie6811173362171500056test/current
2020-08-10 23:47:40,948 - INFO  - [BookieJournal-40329:JournalChannel@157] - Opening journal /tmp/bookie6811173362171500056test/current/173da57e815.txn
2020-08-10 23:47:40,948 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:40,952 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40329
2020-08-10 23:47:41,058 - INFO  - [BookieDeathWatcher-33561:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:41,058 - INFO  - [BookieDeathWatcher-33561:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-33561
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:41,058 - INFO  - [BookieDeathWatcher-33561:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:41,058 - INFO  - [BookieDeathWatcher-33561:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:41,204 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:40329' has been created.
2020-08-10 23:47:41,206 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:41,207 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie9855836754617823077test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:43743/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie9855836754617823077test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:41,209 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43743/ledgers : zkServers = localhost:43743, ledgersRootPath = /ledgers.
2020-08-10 23:47:41,213 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:41,215 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:41,222 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie9855836754617823077test/current] [/tmp/bookie9855836754617823077test/current]
2020-08-10 23:47:41,234 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:41,235 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie9855836754617823077test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:41,235 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:41,236 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:41,236 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:41,237 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:41,237 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:41,238 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:41,245 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:43883 to become writable
2020-08-10 23:47:41,246 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:41,247 - INFO  - [SyncThread-1183-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:41,250 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:41,252 - INFO  - [BookieJournal-43883:Journal@909] - Starting journal on /tmp/bookie9855836754617823077test/current
2020-08-10 23:47:41,252 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:41,253 - INFO  - [BookieJournal-43883:JournalChannel@157] - Opening journal /tmp/bookie9855836754617823077test/current/173da57e945.txn
2020-08-10 23:47:41,256 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43883
2020-08-10 23:47:41,506 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:43883' has been created.
2020-08-10 23:47:41,508 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testDoubleReadWithV2Protocol @ metadata service zk://localhost:43743/ledgers in 1267 ms.
2020-08-10 23:47:41,510 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43743/ledgers : zkServers = localhost:43743, ledgersRootPath = /ledgers.
2020-08-10 23:47:41,516 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:41,518 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:41,518 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:41,519 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:41,519 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:41,520 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:43883
2020-08-10 23:47:41,521 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:39297
2020-08-10 23:47:41,521 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:37601
2020-08-10 23:47:41,521 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:40329
2020-08-10 23:47:41,523 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:43883, 127.0.0.1:37601, 127.0.0.1:39297] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:41,547 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:43883, 127.0.0.1:37601, 127.0.0.1:39297] for ledger: 0
2020-08-10 23:47:41,552 - INFO  - [bookkeeper-io-1190-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x36ecfc5e, L:/127.0.0.1:56270 - R:127.0.0.1/127.0.0.1:37601]
2020-08-10 23:47:41,552 - INFO  - [bookkeeper-io-1190-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:37601
2020-08-10 23:47:41,553 - INFO  - [bookkeeper-io-1190-2:PerChannelBookieClient$1@471] - connection [id: 0x36ecfc5e, L:/127.0.0.1:56270 - R:127.0.0.1/127.0.0.1:37601] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:41,553 - INFO  - [bookkeeper-io-1190-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xdc6d3144, L:/127.0.0.1:32970 - R:127.0.0.1/127.0.0.1:43883]
2020-08-10 23:47:41,553 - INFO  - [bookkeeper-io-1190-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:43883
2020-08-10 23:47:41,553 - INFO  - [bookkeeper-io-1190-1:PerChannelBookieClient$1@471] - connection [id: 0xdc6d3144, L:/127.0.0.1:32970 - R:127.0.0.1/127.0.0.1:43883] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:41,553 - INFO  - [bookie-io-1178-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:41,554 - INFO  - [bookie-io-1178-2:BookieRequestHandler@50] - Channel connected  [id: 0x6443b099, L:/127.0.0.1:43883 - R:/127.0.0.1:32970]
2020-08-10 23:47:41,553 - INFO  - [bookie-io-1148-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:41,554 - INFO  - [bookie-io-1148-2:BookieRequestHandler@50] - Channel connected  [id: 0xefcc4eec, L:/127.0.0.1:37601 - R:/127.0.0.1:56270]
2020-08-10 23:47:41,580 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:43883
2020-08-10 23:47:41,582 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:43883
2020-08-10 23:47:41,582 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37601
2020-08-10 23:47:41,583 - INFO  - [bookkeeper-io-1190-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x36ecfc5e, L:/127.0.0.1:56270 ! R:127.0.0.1/127.0.0.1:37601]
2020-08-10 23:47:41,582 - INFO  - [bookkeeper-io-1190-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xdc6d3144, L:/127.0.0.1:32970 ! R:127.0.0.1/127.0.0.1:43883]
2020-08-10 23:47:41,585 - INFO  - [bookie-io-1148-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xefcc4eec, L:/127.0.0.1:37601 ! R:/127.0.0.1:56270]
2020-08-10 23:47:41,583 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:37601
2020-08-10 23:47:41,586 - INFO  - [bookie-io-1178-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x6443b099, L:/127.0.0.1:43883 ! R:/127.0.0.1:32970]
2020-08-10 23:47:41,714 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:41,821 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:41,821 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:41,823 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-37601 with exitCode 0
2020-08-10 23:47:41,823 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:41,824 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:41,824 - INFO  - [SyncThread-1153-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:41,825 - INFO  - [SyncThread-1153-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2176444642046567331test/current/0.log for logId 0.
2020-08-10 23:47:41,826 - INFO  - [pool-781-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie2176444642046567331test/current/1.log for logId 1.
2020-08-10 23:47:41,833 - INFO  - [SyncThread-1153-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096060327 , logFileOffset - 1024]}.
2020-08-10 23:47:41,836 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:41,836 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:41,836 - INFO  - [BookieJournal-37601:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:41,836 - INFO  - [BookieJournal-37601:Journal@1144] - Journal exited loop!
2020-08-10 23:47:41,837 - INFO  - [Bookie-37601:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:41,837 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:41,837 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:41,837 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:41,837 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:41,837 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:41,837 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:41,840 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:41,841 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:41,841 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:41,947 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:41,948 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:41,953 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-39297 with exitCode 0
2020-08-10 23:47:41,953 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:41,953 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:41,954 - INFO  - [SyncThread-1163-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:41,963 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:41,963 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:41,963 - INFO  - [BookieJournal-39297:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:41,963 - INFO  - [BookieJournal-39297:Journal@1144] - Journal exited loop!
2020-08-10 23:47:41,964 - INFO  - [Bookie-39297:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:41,964 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:42,081 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:42,082 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:42,086 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-40329 with exitCode 0
2020-08-10 23:47:42,086 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:42,086 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:42,086 - INFO  - [SyncThread-1173-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:42,090 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:42,091 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:42,091 - INFO  - [BookieJournal-40329:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:42,091 - INFO  - [BookieJournal-40329:Journal@1144] - Journal exited loop!
2020-08-10 23:47:42,091 - INFO  - [Bookie-40329:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:42,092 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:42,196 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:42,196 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:42,199 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-43883 with exitCode 0
2020-08-10 23:47:42,199 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:42,199 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:42,200 - INFO  - [SyncThread-1183-1:EntryLogManagerBase@146] - Creating a new entry log file because current active log channel has not initialized yet
2020-08-10 23:47:42,201 - INFO  - [SyncThread-1183-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie9855836754617823077test/current/0.log for logId 0.
2020-08-10 23:47:42,204 - INFO  - [pool-802-thread-1:EntryLoggerAllocator@181] - Created new entry log file /tmp/bookie9855836754617823077test/current/1.log for logId 1.
2020-08-10 23:47:42,220 - INFO  - [SyncThread-1183-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1597096061253 , logFileOffset - 1024]}.
2020-08-10 23:47:42,223 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:42,224 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:42,224 - INFO  - [BookieJournal-43883:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:42,224 - INFO  - [BookieJournal-43883:Journal@1144] - Journal exited loop!
2020-08-10 23:47:42,225 - INFO  - [Bookie-43883:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:42,225 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:42,226 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:42,226 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:42,226 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:42,226 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:42,226 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:42,229 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:42,229 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:42,229 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:42,333 - INFO  - [BookieDeathWatcher-37601:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:42,333 - INFO  - [BookieDeathWatcher-37601:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37601
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:42,334 - INFO  - [BookieDeathWatcher-37601:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:42,334 - INFO  - [BookieDeathWatcher-37601:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:42,447 - INFO  - [Time-limited test:BookKeeperClusterTestCase@208] - Tearing down test testDoubleReadWithV2Protocol in 732 ms.
2020-08-10 23:47:42,449 - INFO  - [Time-limited test:BookKeeperClusterTestCase@152] - Setting up test class org.apache.bookkeeper.client.BookKeeperTest
2020-08-10 23:47:42,461 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:42,468 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46143/ledgers : zkServers = localhost:46143, ledgersRootPath = /ledgers.
2020-08-10 23:47:42,472 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:42,474 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:42,475 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:42,475 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:42,475 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:42,481 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:42,482 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie15744836824970026670test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46143/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie15744836824970026670test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:42,484 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46143/ledgers : zkServers = localhost:46143, ledgersRootPath = /ledgers.
2020-08-10 23:47:42,488 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:42,491 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:42,500 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie15744836824970026670test/current] [/tmp/bookie15744836824970026670test/current]
2020-08-10 23:47:42,510 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:42,512 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie15744836824970026670test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:42,512 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:42,513 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:42,513 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:42,514 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:42,514 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:42,514 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:42,523 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42611 to become writable
2020-08-10 23:47:42,523 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:42,524 - INFO  - [SyncThread-1205-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:42,528 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:42,529 - INFO  - [BookieJournal-42611:Journal@909] - Starting journal on /tmp/bookie15744836824970026670test/current
2020-08-10 23:47:42,529 - INFO  - [BookieJournal-42611:JournalChannel@157] - Opening journal /tmp/bookie15744836824970026670test/current/173da57ee42.txn
2020-08-10 23:47:42,530 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:42,535 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42611
2020-08-10 23:47:42,632 - INFO  - [BookieDeathWatcher-39297:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:42,633 - INFO  - [BookieDeathWatcher-39297:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39297
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:42,633 - INFO  - [BookieDeathWatcher-39297:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:42,633 - INFO  - [BookieDeathWatcher-39297:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:42,787 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42611' has been created.
2020-08-10 23:47:42,788 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:42,789 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie10366781542095970798test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46143/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie10366781542095970798test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:42,792 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46143/ledgers : zkServers = localhost:46143, ledgersRootPath = /ledgers.
2020-08-10 23:47:42,797 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:42,801 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:42,806 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie10366781542095970798test/current] [/tmp/bookie10366781542095970798test/current]
2020-08-10 23:47:42,816 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:42,817 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie10366781542095970798test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:42,817 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:42,818 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:42,818 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:42,819 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:42,819 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:42,819 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:42,827 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:42289 to become writable
2020-08-10 23:47:42,827 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:42,828 - INFO  - [SyncThread-1215-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:42,832 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:42,833 - INFO  - [BookieJournal-42289:Journal@909] - Starting journal on /tmp/bookie10366781542095970798test/current
2020-08-10 23:47:42,834 - INFO  - [BookieJournal-42289:JournalChannel@157] - Opening journal /tmp/bookie10366781542095970798test/current/173da57ef73.txn
2020-08-10 23:47:42,834 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:42,838 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42289
2020-08-10 23:47:42,954 - INFO  - [BookieDeathWatcher-40329:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:42,954 - INFO  - [BookieDeathWatcher-40329:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40329
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:42,954 - INFO  - [BookieDeathWatcher-40329:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:42,954 - INFO  - [BookieDeathWatcher-40329:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:43,088 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:42289' has been created.
2020-08-10 23:47:43,089 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:43,089 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie7930816702793005638test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46143/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie7930816702793005638test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:43,092 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46143/ledgers : zkServers = localhost:46143, ledgersRootPath = /ledgers.
2020-08-10 23:47:43,097 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:43,100 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:43,105 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie7930816702793005638test/current] [/tmp/bookie7930816702793005638test/current]
2020-08-10 23:47:43,111 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:43,113 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie7930816702793005638test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:43,113 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:43,114 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:43,114 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:43,115 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:43,115 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:43,115 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:43,122 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:36723 to become writable
2020-08-10 23:47:43,122 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:43,123 - INFO  - [SyncThread-1225-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:43,126 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:43,128 - INFO  - [BookieJournal-36723:Journal@909] - Starting journal on /tmp/bookie7930816702793005638test/current
2020-08-10 23:47:43,129 - INFO  - [BookieJournal-36723:JournalChannel@157] - Opening journal /tmp/bookie7930816702793005638test/current/173da57f09a.txn
2020-08-10 23:47:43,129 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:43,135 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36723
2020-08-10 23:47:43,257 - INFO  - [BookieDeathWatcher-43883:BookieServer$DeathWatcher@285] - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
2020-08-10 23:47:43,257 - INFO  - [BookieDeathWatcher-43883:BookieServer$DeathWatcher@269] - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43883
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:289)
2020-08-10 23:47:43,257 - INFO  - [BookieDeathWatcher-43883:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:43,257 - INFO  - [BookieDeathWatcher-43883:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:43,386 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:36723' has been created.
2020-08-10 23:47:43,387 - INFO  - [Time-limited test:BookKeeperClusterTestCase@636] - Starting new bookie on port: 0
2020-08-10 23:47:43,387 - INFO  - [Time-limited test:BookieServer@99] - {
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "journalFormatVersionToWrite" : "5",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "ledgerDirectories" : "/tmp/bookie1244483076687256283test",
  "listeningInterface" : "lo",
  "metadataServiceUri" : "zk://localhost:46143/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "enableTaskExecutionStats" : "true",
  "journalDirectories" : "/tmp/bookie1244483076687256283test",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore"
}
2020-08-10 23:47:43,389 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46143/ledgers : zkServers = localhost:46143, ledgersRootPath = /ledgers.
2020-08-10 23:47:43,394 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:43,397 - INFO  - [Time-limited test:ZKRegistrationManager@425] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2020-08-10 23:47:43,404 - INFO  - [Time-limited test:Bookie@390] - Stamping new cookies on all dirs [/tmp/bookie1244483076687256283test/current] [/tmp/bookie1244483076687256283test/current]
2020-08-10 23:47:43,412 - INFO  - [Time-limited test:Bookie@704] - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
2020-08-10 23:47:43,413 - ERROR - [Time-limited test:Journal$LastLogMark@251] - Problems reading from /tmp/bookie1244483076687256283test/current/lastMark (this is okay if it is the first time starting this bookie
2020-08-10 23:47:43,413 - INFO  - [Time-limited test:Bookie@623] - Using ledger storage: org.apache.bookkeeper.bookie.SortedLedgerStorage
2020-08-10 23:47:43,414 - INFO  - [Time-limited test:IndexPersistenceMgr@99] - openFileLimit = 20000
2020-08-10 23:47:43,421 - INFO  - [Time-limited test:IndexInMemPageMgr@361] - maxDirectMemory = 2147483648, pageSize = 8192, pageLimit = 87381
2020-08-10 23:47:43,422 - INFO  - [Time-limited test:ScanAndCompareGarbageCollector@105] - Over Replicated Ledger Deletion : enabled=true, interval=86400000
2020-08-10 23:47:43,423 - INFO  - [Time-limited test:GarbageCollectorThread@225] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2020-08-10 23:47:43,423 - INFO  - [Time-limited test:GarbageCollectorThread@227] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2020-08-10 23:47:43,434 - INFO  - [Time-limited test:BookKeeperTestClient@90] - Wait for 127.0.0.1:45003 to become writable
2020-08-10 23:47:43,434 - INFO  - [Time-limited test:Bookie@901] - Finished replaying journal in 0 ms.
2020-08-10 23:47:43,435 - INFO  - [SyncThread-1235-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:43,439 - INFO  - [Time-limited test:Bookie@991] - Finished reading journal, starting bookie
2020-08-10 23:47:43,440 - INFO  - [BookieJournal-45003:Journal@909] - Starting journal on /tmp/bookie1244483076687256283test/current
2020-08-10 23:47:43,441 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@478] - ForceWrite Thread started
2020-08-10 23:47:43,441 - INFO  - [BookieJournal-45003:JournalChannel@157] - Opening journal /tmp/bookie1244483076687256283test/current/173da57f1d2.txn
2020-08-10 23:47:43,446 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45003
2020-08-10 23:47:43,696 - INFO  - [Time-limited test:BookKeeperClusterTestCase@670] - New bookie '127.0.0.1:45003' has been created.
2020-08-10 23:47:43,697 - INFO  - [Time-limited test:BookKeeperClusterTestCase@164] - Setup testcase testCannotUseWriteFlagsOnV2Protocol @ metadata service zk://localhost:46143/ledgers in 1247 ms.
2020-08-10 23:47:43,699 - INFO  - [Time-limited test:ZKMetadataDriverBase@187] - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46143/ledgers : zkServers = localhost:46143, ledgersRootPath = /ledgers.
2020-08-10 23:47:43,705 - INFO  - [Time-limited test-EventThread:ZooKeeperWatcherBase@130] - ZooKeeper client is connected now.
2020-08-10 23:47:43,706 - ERROR - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@267] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver : java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
2020-08-10 23:47:43,706 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@214] - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
2020-08-10 23:47:43,707 - INFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl@224] - Not weighted
2020-08-10 23:47:43,707 - INFO  - [Time-limited test:BookKeeper@509] - Weighted ledger placement is not enabled
2020-08-10 23:47:43,708 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:45003
2020-08-10 23:47:43,709 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42289
2020-08-10 23:47:43,709 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:42611
2020-08-10 23:47:43,709 - INFO  - [BookKeeperClientScheduler-OrderedScheduler-0-0:NetworkTopologyImpl@426] - Adding a new node: /default-rack/127.0.0.1:36723
2020-08-10 23:47:43,710 - WARN  - [Time-limited test:BookieWatcherImpl@251] - New ensemble: [127.0.0.1:36723, 127.0.0.1:42611, 127.0.0.1:42289] is not adhering to Placement Policy. quarantinedBookies: []
2020-08-10 23:47:43,733 - INFO  - [Time-limited test-EventThread:LedgerCreateOp@221] - Ensemble: [127.0.0.1:36723, 127.0.0.1:42611, 127.0.0.1:42289] for ledger: 0
2020-08-10 23:47:43,739 - INFO  - [bookie-io-1220-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:43,740 - INFO  - [bookkeeper-io-1242-1:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xd24a7e67, L:/127.0.0.1:51518 - R:127.0.0.1/127.0.0.1:36723]
2020-08-10 23:47:43,740 - INFO  - [bookkeeper-io-1242-1:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:36723
2020-08-10 23:47:43,740 - INFO  - [bookkeeper-io-1242-2:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0x5f7d74c2, L:/127.0.0.1:34850 - R:127.0.0.1/127.0.0.1:42611]
2020-08-10 23:47:43,740 - INFO  - [bookkeeper-io-1242-2:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42611
2020-08-10 23:47:43,740 - INFO  - [bookie-io-1220-2:BookieRequestHandler@50] - Channel connected  [id: 0x35dfce5a, L:/127.0.0.1:36723 - R:/127.0.0.1:51518]
2020-08-10 23:47:43,740 - ERROR - [bookkeeper-io-1242-1:PerChannelBookieClient@745] - invalid writeflags [DEFERRED_SYNC] for v2 protocol
2020-08-10 23:47:43,740 - INFO  - [bookie-io-1200-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:43,744 - INFO  - [bookie-io-1200-2:BookieRequestHandler@50] - Channel connected  [id: 0x5e2079b8, L:/127.0.0.1:42611 - R:/127.0.0.1:34850]
2020-08-10 23:47:43,740 - ERROR - [bookkeeper-io-1242-2:PerChannelBookieClient@745] - invalid writeflags [DEFERRED_SYNC] for v2 protocol
2020-08-10 23:47:43,744 - INFO  - [bookkeeper-io-1242-2:PerChannelBookieClient$1@471] - connection [id: 0x5f7d74c2, L:/127.0.0.1:34850 - R:127.0.0.1/127.0.0.1:42611] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:43,743 - INFO  - [bookie-io-1210-2:AuthHandler$ServerSideHandler$AuthHandshakeCompleteCallback@219] - Authentication success on server side
2020-08-10 23:47:43,744 - INFO  - [bookie-io-1210-2:BookieRequestHandler@50] - Channel connected  [id: 0xb3656144, L:/127.0.0.1:42289 - R:/127.0.0.1:56122]
2020-08-10 23:47:43,743 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1758] - Closing ledger 0 due to IllegalOpException: Invalid operation
2020-08-10 23:47:43,743 - INFO  - [bookkeeper-io-1242-1:PerChannelBookieClient$1@471] - connection [id: 0xd24a7e67, L:/127.0.0.1:51518 - R:127.0.0.1/127.0.0.1:36723] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:43,746 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1758] - Closing ledger 0 due to IllegalOpException: Invalid operation
2020-08-10 23:47:43,742 - INFO  - [bookkeeper-io-1242-3:PerChannelBookieClient$ConnectionFutureListener@2417] - Successfully connected to bookie: [id: 0xf4b41607, L:/127.0.0.1:56122 - R:127.0.0.1/127.0.0.1:42289]
2020-08-10 23:47:43,747 - INFO  - [bookkeeper-io-1242-3:PerChannelBookieClient$ConnectionFutureListener@2425] - Successfully connected to bookie: 127.0.0.1:42289
2020-08-10 23:47:43,747 - ERROR - [bookkeeper-io-1242-3:PerChannelBookieClient@745] - invalid writeflags [DEFERRED_SYNC] for v2 protocol
2020-08-10 23:47:43,747 - INFO  - [bookkeeper-io-1242-3:PerChannelBookieClient$1@471] - connection [id: 0xf4b41607, L:/127.0.0.1:56122 - R:127.0.0.1/127.0.0.1:42289] authenticated as BookKeeperPrincipal{ANONYMOUS}
2020-08-10 23:47:43,747 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:PendingAddOp@426] - Write of ledger entry to quorum failed: L0 E0
2020-08-10 23:47:43,748 - ERROR - [BookKeeperClientWorker-OrderedExecutor-0-0:LedgerHandle@1758] - Closing ledger 0 due to IllegalOpException: Invalid operation
2020-08-10 23:47:43,750 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42289
2020-08-10 23:47:43,751 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42289
2020-08-10 23:47:43,751 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42611
2020-08-10 23:47:43,751 - INFO  - [bookkeeper-io-1242-2:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0x5f7d74c2, L:/127.0.0.1:34850 ! R:127.0.0.1/127.0.0.1:42611]
2020-08-10 23:47:43,751 - INFO  - [bookkeeper-io-1242-3:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xf4b41607, L:/127.0.0.1:56122 ! R:127.0.0.1/127.0.0.1:42289]
2020-08-10 23:47:43,751 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:42611
2020-08-10 23:47:43,752 - INFO  - [bookie-io-1210-2:BookieRequestHandler@61] - Channels disconnected: [id: 0xb3656144, L:/127.0.0.1:42289 ! R:/127.0.0.1:56122]
2020-08-10 23:47:43,752 - INFO  - [bookie-io-1200-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x5e2079b8, L:/127.0.0.1:42611 ! R:/127.0.0.1:34850]
2020-08-10 23:47:43,752 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36723
2020-08-10 23:47:43,753 - INFO  - [bookkeeper-io-1242-1:PerChannelBookieClient@1210] - Disconnected from bookie channel [id: 0xd24a7e67, L:/127.0.0.1:51518 ! R:127.0.0.1/127.0.0.1:36723]
2020-08-10 23:47:43,753 - INFO  - [Time-limited test:PerChannelBookieClient@1029] - Closing the per channel bookie client for 127.0.0.1:36723
2020-08-10 23:47:43,753 - INFO  - [bookie-io-1220-2:BookieRequestHandler@61] - Channels disconnected: [id: 0x35dfce5a, L:/127.0.0.1:36723 ! R:/127.0.0.1:51518]
2020-08-10 23:47:43,859 - INFO  - [Time-limited test:BookKeeperClusterTestCase@185] - TearDown
2020-08-10 23:47:43,967 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:43,967 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:43,971 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42611 with exitCode 0
2020-08-10 23:47:43,971 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:43,971 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:43,971 - INFO  - [SyncThread-1205-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:43,974 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:43,974 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:43,975 - INFO  - [BookieJournal-42611:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:43,975 - INFO  - [BookieJournal-42611:Journal@1144] - Journal exited loop!
2020-08-10 23:47:43,975 - INFO  - [Bookie-42611:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:43,975 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:43,976 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:43,976 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:44,080 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:44,080 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:44,084 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-42289 with exitCode 0
2020-08-10 23:47:44,084 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:44,084 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:44,085 - INFO  - [SyncThread-1215-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:44,089 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:44,089 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
2020-08-10 23:47:44,089 - INFO  - [BookieJournal-42289:Journal@1135] - Journal exits when shutting down
2020-08-10 23:47:44,089 - INFO  - [BookieJournal-42289:Journal@1144] - Journal exited loop!
2020-08-10 23:47:44,090 - INFO  - [Bookie-42289:Bookie@1130] - Journal thread(s) quit.
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:Journal@1170] - Finished Shutting down Journal thread
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:InterleavedLedgerStorage@286] - Shutting down InterleavedLedgerStorage
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:InterleavedLedgerStorage@287] - Shutting down GC thread
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:GarbageCollectorThread@474] - Shutting down GarbageCollectorThread
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:InterleavedLedgerStorage@289] - Shutting down entry logger
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:EntryLogger@1161] - Stopping EntryLogger
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:EntryLoggerAllocator@222] - Stopped entry logger preallocator.
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:InterleavedLedgerStorage@296] - Complete shutting down Ledger Storage
2020-08-10 23:47:44,090 - INFO  - [Time-limited test:LedgerDirsMonitor@202] - Shutting down LedgerDirsMonitor
2020-08-10 23:47:44,194 - INFO  - [Time-limited test:BookieServer@203] - Shutting down BookieServer
2020-08-10 23:47:44,195 - INFO  - [Time-limited test:BookieNettyServer@424] - Shutting down BookieNettyServer
2020-08-10 23:47:44,202 - INFO  - [Time-limited test:Bookie@1176] - Shutting down Bookie-36723 with exitCode 0
2020-08-10 23:47:44,202 - INFO  - [Time-limited test:Bookie@1185] - Turning bookie to read only during shut down
2020-08-10 23:47:44,203 - INFO  - [Time-limited test:SyncThread@203] - Shutting down SyncThread
2020-08-10 23:47:44,203 - INFO  - [SyncThread-1225-1:SyncThread@135] - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
2020-08-10 23:47:44,207 - INFO  - [Time-limited test:Journal@1159] - Shutting down Journal
2020-08-10 23:47:44,207 - INFO  - [ForceWriteThread:Journal$ForceWriteThread@533] - ForceWrite thread interrupted
